import{c as u,A as U,l as C,a as X,p as Z,r as f,j as K,b as O,o as r,d as i,e,i as h,q as m,t as p,w as M,h as b,L as ee,f as N,F as te,s as ne,v as L,x as ae,y as se,z as le}from"./index-5b14c03e.js";import"./es-2182b62d.js";import{H as oe}from"./HomeOutlined-b92822f9.js";import{T as re}from"./TeamOutlined-3750f91b.js";import{U as ie}from"./UserOutlined-65540bbe.js";var de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 512.3v-.3c0-229.8-186.2-416-416-416S96 282.2 96 512v.4c0 229.8 186.2 416 416 416s416-186.2 416-416v-.3.2zm-6.7-74.6l.6 3.3-.6-3.3zM676.7 638.2c53.5-82.2 52.5-189.4-11.1-263.7l162.4-8.4c20.5 44.4 32 93.8 32 145.9 0 185.2-144.6 336.6-327.1 347.4l143.8-221.2zM512 652.3c-77.5 0-140.2-62.7-140.2-140.2 0-77.7 62.7-140.2 140.2-140.2S652.2 434.5 652.2 512 589.5 652.3 512 652.3zm369.2-331.7l-3-5.7 3 5.7zM512 164c121.3 0 228.2 62.1 290.4 156.2l-263.6-13.9c-97.5-5.7-190.2 49.2-222.3 141.1L227.8 311c63.1-88.9 166.9-147 284.2-147zM102.5 585.8c26 145 127.1 264 261.6 315.1C229.6 850 128.5 731 102.5 585.8zM164 512c0-55.9 13.2-108.7 36.6-155.5l119.7 235.4c44.1 86.7 137.4 139.7 234 121.6l-74 145.1C302.9 842.5 164 693.5 164 512zm324.7 415.4c4 .2 8 .4 12 .5-4-.2-8-.3-12-.5z"}}]},name:"chrome",theme:"outlined"};const ue=de;function H(l){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},c=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(s).filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable}))),c.forEach(function(a){ce(l,a,s[a])})}return l}function ce(l,n,s){return n in l?Object.defineProperty(l,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[n]=s,l}var A=function(n,s){var c=H({},n,s.attrs);return u(U,H({},c,{icon:ue}),null)};A.displayName="ChromeOutlined";A.inheritAttrs=!1;const pe=A;var ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};const me=ve;function $(l){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},c=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(s).filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable}))),c.forEach(function(a){fe(l,a,s[a])})}return l}function fe(l,n,s){return n in l?Object.defineProperty(l,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[n]=s,l}var T=function(n,s){var c=$({},n,s.attrs);return u(U,$({},c,{icon:me}),null)};T.displayName="FilterOutlined";T.inheritAttrs=!1;const _e=T;const ge={class:"container-events"},ye={class:"wrapper-dot"},he={key:0},be={key:1},Oe={key:2},Me={key:3},ke={key:4},Ce={key:5},we={class:"schedule"},De={class:"schedule-header"},Se={class:"schedule-date"},Ee={class:"schedule-filter"},Pe={key:0,class:"event-time"},ze={key:1,class:"event-time"},Le={class:"event-hour-2"},Ae={class:"title"},Te={class:"event-description"},Fe=["innerHTML"],Ve=["onClick"],xe={class:"modal-calendar-detail"},je=["innerHTML"],Ye={key:0},Ne={style:{"margin-left":".5rem"}},He={key:1},$e={style:{"margin-left":".5rem"}},Ue={style:{"margin-left":".5rem"}},Re={style:{"margin-left":".5rem"}},Be={key:2},Ge={style:{"margin-left":".5rem"}},Ie={key:3},qe=["href"],Je={key:4},Qe=["innerHTML"],nt={__name:"EventosGoogleCalendar",setup(l){C.locale("es");const n=X({value1:["ugo","ugse"]}),s=["ugo","ugse"],c=Z(ee,{style:{fontSize:"24px"},spin:!0});f(!1);const a=f(null),w=f(!1),D=f(null),F=f(null),V=f(new Date),k=f([]),x=f(null),S=f([]),E=f(!1),R=o=>{a.value=o,w.value=!0},B=o=>{if(Array.isArray(o)&&o.length>0&&o[0].id){const t=o[0].id;D.value=t,x.value!==t&&(x.value=t,Y(t))}else console.warn("⚠️ No se pudo detectar el cambio de mes.")},P=o=>({1:"#808080",2:"#f06464",3:"#fd9d0f",4:"#ffb74d",5:"#00b522",6:"#1546b0"})[o],j=o=>({1:"Despega tu empresa",2:"Ferias",3:"Fortalece tu Mercado",4:"Mujer Produce",5:"Potencia tu Empresa",6:"Ruta Digital"})[o],G=async()=>{D.value&&(await z("nodata"),await Y(D.value))},z=async(o={date:C().format("YYYY-MM-DD")},t)=>{E.value=!0;const y=C(o.date).format("YYYY-MM-DD");F.value=C(o.date).format("dddd DD [de] MMMM [de] YYYY"),t!="nodata"&&k.value.length>0&&k.value[0].dates&&(k.value[0].dates=o.date);const _={ugo:["dte","ftm","pte"],ugse:["ferias","mp","rd"]};let g=[];n.value1.forEach(v=>{_[v]&&g.push(..._[v])}),g=[...new Set(g)];try{const v=await N({url:`pnte/events-day/${y}`,method:"GET",params:g});v.data&&Array.isArray(v.data)?S.value=v.data:console.warn("⚠️ Respuesta inesperada de la API:",v)}catch(v){console.error("❌ Error al obtener eventos:",v)}finally{E.value=!1}},Y=async o=>{try{const t={ugo:["dte","ftm","pte"],ugse:["ferias","mp","rd"]};let y=[];n.value1.forEach(g=>{t[g]&&y.push(...t[g])}),y=[...new Set(y)];const _=await N({url:`pnte/dots/${o}`,method:"GET",params:y});_.data&&Array.isArray(_.data)?k.value=[{key:"today",highlight:"",dates:[new Date]},..._.data]:console.warn("⚠️ Respuesta de API inesperada:",_)}catch(t){console.error("❌ Error al obtener eventos:",t)}},I=async()=>{await z()};return K(()=>{I()}),(o,t)=>{const y=O("VCalendar"),_=O("a-checkbox-group"),g=O("a-menu"),v=O("a-dropdown"),q=O("a-empty"),J=O("a-spin"),Q=O("a-modal");return r(),i("section",ge,[t[17]||(t[17]=e("h1",{class:"title-pc"},"CALENDARIO 2025",-1)),e("div",null,[u(y,{ref:"calendar",modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=d=>V.value=d),attributes:k.value,expanded:"",locale:"es",transparent:"",borderless:"","onUpdate:pages":B,onDayclick:z},null,8,["modelValue","attributes"]),e("div",ye,[n.value1.includes("ugo")?(r(),i("div",he,t[3]||(t[3]=[e("i",{class:"dotend dot-1"},null,-1),h(),e("span",null,"Despega tu empresa",-1)]))):m("",!0),n.value1.includes("ugse")?(r(),i("div",be,t[4]||(t[4]=[e("i",{class:"dotend dot-2"},null,-1),h(),e("span",null,"Ferias",-1)]))):m("",!0),n.value1.includes("ugo")?(r(),i("div",Oe,t[5]||(t[5]=[e("i",{class:"dotend dot-3"},null,-1),h(),e("span",null,"Fortalece tu Mercado",-1)]))):m("",!0),n.value1.includes("ugse")?(r(),i("div",Me,t[6]||(t[6]=[e("i",{class:"dotend dot-4"},null,-1),h(),e("span",null,"Mujer Produce",-1)]))):m("",!0),n.value1.includes("ugo")?(r(),i("div",ke,t[7]||(t[7]=[e("i",{class:"dotend dot-5"},null,-1),h(),e("span",null,"Potencia tu Empresa",-1)]))):m("",!0),n.value1.includes("ugse")?(r(),i("div",Ce,t[8]||(t[8]=[e("i",{class:"dotend dot-6"},null,-1),h(),e("span",null,"Ruta Digital",-1)]))):m("",!0)])]),e("div",we,[e("div",De,[t[9]||(t[9]=e("h4",null,"EVENTOS",-1)),e("span",Se,p(F.value),1),u(v,{trigger:["click"]},{overlay:M(()=>[u(g,null,{default:M(()=>[e("div",Ee,[u(_,{value:n.value1,"onUpdate:value":t[1]||(t[1]=d=>n.value1=d),options:s,onChange:G},null,8,["value"])])]),_:1})]),default:M(()=>[e("span",null,[u(b(_e))])]),_:1})]),u(J,{indicator:b(c),spinning:E.value},{default:M(()=>[S.value.length>0?(r(!0),i(te,{key:0},ne(S.value,(d,W)=>(r(),i("div",{key:W,class:"event"},[d.allDay==1?(r(),i("div",Pe,t[10]||(t[10]=[e("div",{style:{"text-align":"center","line-height":"1.2"}},"Todo el día",-1)]))):(r(),i("div",ze,[e("div",null,p(d.start),1),t[11]||(t[11]=e("br",null,null,-1)),e("div",Le,p(d.end),1)])),e("div",{class:"schedule-details",style:L({"border-color":P(d.id_pnte)})},[e("small",{class:"schedule-tag",style:L({"background-color":P(d.id_pnte)})},p(j(d.id_pnte)),5),e("div",Ae,p(d.title),1),e("div",Te,[e("span",{innerHTML:d.description},null,8,Fe),e("span",{onClick:We=>R(d),style:{color:"#2196f3",cursor:"pointer"}},"Ver más",8,Ve)])],4)]))),128)):(r(),ae(q,{key:1,class:"no-events"},{description:M(()=>t[12]||(t[12]=[e("span",{class:"no-events-span"},"No hay eventos para este día",-1)])),_:1}))]),_:1},8,["indicator","spinning"])]),u(Q,{open:w.value,"onUpdate:open":t[2]||(t[2]=d=>w.value=d),title:"",footer:""},{default:M(()=>[e("div",xe,[e("div",null,[e("h3",null,p(a.value.title),1),e("small",{class:"modal-calendar-tag",style:L({"background-color":P(a.value.id_pnte)})},p(j(a.value.id_pnte)),5)]),e("div",{innerHTML:a.value.descripionAll},null,8,je),a.value.organiza?(r(),i("div",Ye,[u(b(oe)),e("span",Ne,p(a.value.organiza),1)])):m("",!0),a.value.numMypes?(r(),i("div",He,[e("span",null,[u(b(re))]),e("span",$e,p(a.value.numMypes)+" Participantes",1)])):m("",!0),e("div",null,[e("div",null,[u(b(se)),e("span",Ue,p(a.value.date),1)]),e("div",null,[u(b(le)),e("span",Re,p(a.value.start),1),t[13]||(t[13]=h(" - ")),e("span",null,p(a.value.end),1)])]),a.value.nameUser?(r(),i("div",Be,[u(b(ie)),e("span",Ge,[h(p(a.value.nameUser)+" ",1),t[14]||(t[14]=e("small",null,"(Responsable)",-1))])])):m("",!0),a.value.link?(r(),i("div",Ie,[u(b(pe)),e("a",{style:{"margin-left":".5rem"},href:a.value.link,target:"_blank",rel:"noopener noreferrer"},"Link",8,qe)])):m("",!0),t[16]||(t[16]=e("br",null,null,-1)),a.value.resultado?(r(),i("div",Je,[t[15]||(t[15]=e("h3",null,"Resultados",-1)),e("div",{innerHTML:a.value.resultado},null,8,Qe)])):m("",!0)])]),_:1},8,["open"])])}}};export{nt as default};
