import{c as d,A as H,l as M,a as Z,p as K,r as _,j as ee,b,o,d as r,e as t,i as g,q as c,t as p,w as k,h as O,L as te,f as Y,F as ne,s as se,v as P,x as ae,y as le,z as oe}from"./index-3c161ff3.js";import"./es-f05a21c9.js";import{H as re}from"./HomeOutlined-b9e9d5fe.js";import{T as ie}from"./TeamOutlined-802f7591.js";import{E as de}from"./EnvironmentOutlined-5531d698.js";import{U as ue}from"./UserOutlined-01fc2b42.js";var ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 512.3v-.3c0-229.8-186.2-416-416-416S96 282.2 96 512v.4c0 229.8 186.2 416 416 416s416-186.2 416-416v-.3.2zm-6.7-74.6l.6 3.3-.6-3.3zM676.7 638.2c53.5-82.2 52.5-189.4-11.1-263.7l162.4-8.4c20.5 44.4 32 93.8 32 145.9 0 185.2-144.6 336.6-327.1 347.4l143.8-221.2zM512 652.3c-77.5 0-140.2-62.7-140.2-140.2 0-77.7 62.7-140.2 140.2-140.2S652.2 434.5 652.2 512 589.5 652.3 512 652.3zm369.2-331.7l-3-5.7 3 5.7zM512 164c121.3 0 228.2 62.1 290.4 156.2l-263.6-13.9c-97.5-5.7-190.2 49.2-222.3 141.1L227.8 311c63.1-88.9 166.9-147 284.2-147zM102.5 585.8c26 145 127.1 264 261.6 315.1C229.6 850 128.5 731 102.5 585.8zM164 512c0-55.9 13.2-108.7 36.6-155.5l119.7 235.4c44.1 86.7 137.4 139.7 234 121.6l-74 145.1C302.9 842.5 164 693.5 164 512zm324.7 415.4c4 .2 8 .4 12 .5-4-.2-8-.3-12-.5z"}}]},name:"chrome",theme:"outlined"};const pe=ce;function $(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},v=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(l).filter(function(s){return Object.getOwnPropertyDescriptor(l,s).enumerable}))),v.forEach(function(s){ve(i,s,l[s])})}return i}function ve(i,n,l){return n in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}var F=function(n,l){var v=$({},n,l.attrs);return d(H,$({},v,{icon:pe}),null)};F.displayName="ChromeOutlined";F.inheritAttrs=!1;const me=F;var fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};const ge=fe;function N(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},v=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(l).filter(function(s){return Object.getOwnPropertyDescriptor(l,s).enumerable}))),v.forEach(function(s){_e(i,s,l[s])})}return i}function _e(i,n,l){return n in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}var L=function(n,l){var v=N({},n,l.attrs);return d(H,N({},v,{icon:ge}),null)};L.displayName="FilterOutlined";L.inheritAttrs=!1;const ye=L;const he={class:"container-events"},Oe={class:"wrapper-dot"},be={key:0},Me={key:1},ke={key:2},De={key:3},Ce={key:4},we={key:5},Ee={key:6},Se={key:7},ze={class:"schedule"},Ae={class:"schedule-header"},Pe={class:"schedule-date"},Fe={class:"schedule-filter"},Le={key:0,class:"event-time"},Ve={key:1,class:"event-time"},xe={class:"event-hour-2"},Te={class:"title"},je={class:"event-description"},Ue=["onClick"],Ye={class:"modal-calendar-detail"},$e={style:{"line-height":"1.3","margin-bottom":".5rem"}},Ne=["innerHTML"],He={key:0},Ge={style:{"margin-left":".5rem"}},Re={key:1},Be={style:{"margin-left":".5rem"}},Ie={key:2},qe={style:{"margin-left":".5rem"}},Je={style:{"margin-left":".5rem"}},Qe={key:0},We={style:{"margin-left":".5rem"}},Xe={key:3},Ze={style:{"margin-left":".5rem"}},Ke={key:4},et=["href"],tt={key:5},nt=["innerHTML"],ut={__name:"EventosGoogleCalendar",setup(i){M.locale("es");const n=Z({value1:["ugo","ugse"]}),l=["ugo","ugse"],v=K(te,{style:{fontSize:"24px"},spin:!0});_(!1);const s=_(null),C=_(!1),w=_(null),V=_(null),x=_(new Date),D=_([]),T=_(null),E=_([]),S=_(!1),G=a=>{s.value=a,C.value=!0},R=a=>{if(Array.isArray(a)&&a.length>0&&a[0].id){const e=a[0].id;w.value=e,T.value!==e&&(T.value=e,U(e))}else console.warn("⚠️ No se pudo detectar el cambio de mes.")},z=a=>({1:"#808080",2:"#f06464",3:"#fd9d0f",4:"#ffb74d",5:"#00b522",6:"#1546b0",7:"#9c27b0",8:"#ff07d8"})[a],j=a=>({1:"Despega tu empresa",2:"Ferias",3:"Fortalece tu Mercado",4:"Mujer Produce",5:"Potencia tu Empresa",6:"Ruta Digital",7:"Otros UGSE",8:"Difusión UGO"})[a],B=a=>{if(!Array.isArray(a)||a.length===0)return"";const e=M(a[0]).locale("es").format("DD [de] MMMM"),m=a.length>1?M(a[a.length-1]).locale("es").format("DD [de] MMMM"):null;return m?`Desde: ${e} Hasta: ${m}`:`${e}`},I=async()=>{w.value&&(await A("nodata"),await U(w.value))},A=async(a={date:M().format("YYYY-MM-DD")},e)=>{S.value=!0;const m=M(a.date).format("YYYY-MM-DD");V.value=M(a.date).format("dddd DD [de] MMMM [de] YYYY"),e!="nodata"&&D.value.length>0&&D.value[0].dates&&(D.value[0].dates=a.date);const y={ugo:["dte","ftm","pte","dif"],ugse:["ferias","mp","rd","ougse"]};let h=[];n.value1.forEach(f=>{y[f]&&h.push(...y[f])}),h=[...new Set(h)];try{const f=await Y({url:`pnte/events-day/${m}`,method:"GET",params:h});f.data&&Array.isArray(f.data)?E.value=f.data:console.warn("⚠️ Respuesta inesperada de la API:",f)}catch(f){console.error("❌ Error al obtener eventos:",f)}finally{S.value=!1}},U=async a=>{try{const e={ugo:["dte","ftm","pte","dif"],ugse:["ferias","mp","rd","ougse"]};let m=[];n.value1.forEach(h=>{e[h]&&m.push(...e[h])}),m=[...new Set(m)];const y=await Y({url:`pnte/dots/${a}`,method:"GET",params:m});y.data&&Array.isArray(y.data)?D.value=[{key:"today",highlight:"",dates:[new Date]},...y.data]:console.warn("⚠️ Respuesta de API inesperada:",y)}catch(e){console.error("❌ Error al obtener eventos:",e)}},q=async()=>{await A()};return ee(()=>{q()}),(a,e)=>{const m=b("VCalendar"),y=b("a-checkbox-group"),h=b("a-menu"),f=b("a-dropdown"),J=b("a-empty"),Q=b("a-spin"),W=b("a-modal");return o(),r("section",he,[e[18]||(e[18]=t("h1",{class:"title-pc"},"CALENDARIO 2025",-1)),t("div",null,[d(m,{ref:"calendar",modelValue:x.value,"onUpdate:modelValue":e[0]||(e[0]=u=>x.value=u),attributes:D.value,expanded:"",locale:"es",transparent:"",borderless:"","onUpdate:pages":R,onDayclick:A},null,8,["modelValue","attributes"]),t("div",Oe,[n.value1.includes("ugo")?(o(),r("div",be,e[3]||(e[3]=[t("i",{class:"dotend dot-1"},null,-1),g(),t("span",null,"Despega tu empresa",-1)]))):c("",!0),n.value1.includes("ugse")?(o(),r("div",Me,e[4]||(e[4]=[t("i",{class:"dotend dot-2"},null,-1),g(),t("span",null,"Ferias",-1)]))):c("",!0),n.value1.includes("ugo")?(o(),r("div",ke,e[5]||(e[5]=[t("i",{class:"dotend dot-3"},null,-1),g(),t("span",null,"Fortalece tu Mercado",-1)]))):c("",!0),n.value1.includes("ugse")?(o(),r("div",De,e[6]||(e[6]=[t("i",{class:"dotend dot-4"},null,-1),g(),t("span",null,"Mujer Produce",-1)]))):c("",!0),n.value1.includes("ugo")?(o(),r("div",Ce,e[7]||(e[7]=[t("i",{class:"dotend dot-5"},null,-1),g(),t("span",null,"Potencia tu Empresa",-1)]))):c("",!0),n.value1.includes("ugse")?(o(),r("div",we,e[8]||(e[8]=[t("i",{class:"dotend dot-6"},null,-1),g(),t("span",null,"Ruta Digital",-1)]))):c("",!0),n.value1.includes("ugse")?(o(),r("div",Ee,e[9]||(e[9]=[t("i",{class:"dotend dot-7"},null,-1),g(),t("span",null,"Otros UGSE",-1)]))):c("",!0),n.value1.includes("dif")?(o(),r("div",Se,e[10]||(e[10]=[t("i",{class:"dotend dot-8"},null,-1),g(),t("span",null,"Difusión - UGO",-1)]))):c("",!0)])]),t("div",ze,[t("div",Ae,[e[11]||(e[11]=t("h4",null,"EVENTOS",-1)),t("span",Pe,p(V.value),1),d(f,{trigger:["click"]},{overlay:k(()=>[d(h,null,{default:k(()=>[t("div",Fe,[d(y,{value:n.value1,"onUpdate:value":e[1]||(e[1]=u=>n.value1=u),options:l,onChange:I},null,8,["value"])])]),_:1})]),default:k(()=>[t("span",null,[d(O(ye))])]),_:1})]),d(Q,{indicator:O(v),spinning:S.value},{default:k(()=>[E.value.length>0?(o(!0),r(ne,{key:0},se(E.value,(u,X)=>(o(),r("div",{key:X,class:"event"},[u.start?(o(),r("div",Ve,[t("div",null,p(u.start),1),e[13]||(e[13]=t("br",null,null,-1)),t("div",xe,p(u.end),1)])):(o(),r("div",Le,e[12]||(e[12]=[t("div",{style:{"text-align":"center","line-height":"1.2"}},"Todo el día",-1)]))),t("div",{class:"schedule-details",style:P({"border-color":z(u.id_pnte)})},[t("small",{class:"schedule-tag",style:P({"background-color":z(u.id_pnte)})},p(j(u.id_pnte)),5),t("div",Te,p(u.title),1),t("div",je,[g(p(u.descriptionparse)+" ",1),t("span",{onClick:st=>G(u),style:{color:"#2196f3",cursor:"pointer"}},"Ver más",8,Ue)])],4)]))),128)):(o(),ae(J,{key:1,class:"no-events"},{description:k(()=>e[14]||(e[14]=[t("span",{class:"no-events-span"},"No hay eventos para este día",-1)])),_:1}))]),_:1},8,["indicator","spinning"])]),d(W,{open:C.value,"onUpdate:open":e[2]||(e[2]=u=>C.value=u),title:"",footer:""},{default:k(()=>[t("div",Ye,[t("div",null,[t("h3",$e,p(s.value.titleComplete),1),t("small",{class:"modal-calendar-tag",style:P({"background-color":z(s.value.id_pnte)})},p(j(s.value.id_pnte)),5)]),t("div",{style:{"margin-bottom":"1rem",color:"#6c6c6c"},class:"html-format",innerHTML:s.value.descripionAll},null,8,Ne),s.value.organiza?(o(),r("div",He,[d(O(re)),t("span",Ge,p(s.value.organiza),1)])):c("",!0),s.value.gps?(o(),r("div",Re,[d(O(de)),t("span",Be,p(s.value.gps),1)])):c("",!0),s.value.numMypes?(o(),r("div",Ie,[t("span",null,[d(O(ie))]),t("span",qe,p(s.value.numMypes),1)])):c("",!0),t("div",null,[t("div",null,[d(O(le)),t("span",Je,p(B(s.value.dates)),1)]),s.value.start?(o(),r("div",Qe,[d(O(oe)),t("span",We,p(s.value.start),1),e[15]||(e[15]=g(" - ")),t("span",null,p(s.value.end),1)])):c("",!0)]),s.value.nameUser?(o(),r("div",Xe,[d(O(ue)),t("span",Ze,[g(p(s.value.nameUser)+" ",1),e[16]||(e[16]=t("small",null,"(Representante)",-1))])])):c("",!0),s.value.link?(o(),r("div",Ke,[d(O(me)),t("a",{style:{"margin-left":".5rem"},href:s.value.link,target:"_blank",rel:"noopener noreferrer"},"Link del evento",8,et)])):c("",!0),s.value.resultado?(o(),r("div",tt,[e[17]||(e[17]=t("h3",null,"Resultados",-1)),t("div",{style:{color:"#6c6c6c"},class:"html-format",innerHTML:s.value.resultado},null,8,nt)])):c("",!0)])]),_:1},8,["open"])])}}};export{ut as default};
