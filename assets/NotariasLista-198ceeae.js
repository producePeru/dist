import{r,n as L,b as c,o,d as u,e as h,c as s,w as d,F as p,h as k,j as m,t as l,s as i,z as E,i as w,K as P,L as F,G as H,M as j,m as N}from"./index-b4c6ca84.js";import{M as q}from"./ModalAsesores-c02ecb00.js";import{M as K}from"./MoreOutlined-ed5a29f6.js";import"./_plugin-vue_export-helper-c27b6911.js";const X=h("h3",null,"NOTARÍAS",-1),J={class:"filters"},Q=["onClick"],W={class:"paginator"},ne={__name:"NotariasLista",setup(Y){const y=r([]),_=r(!1),M=r(1e3),v=r(!1),I=r(0),x=r(null),C=r({page:1}),T=[{title:"Apellidos",dataIndex:"lastName",fixed:"left",width:180},{title:"Nombres",dataIndex:"name",fixed:"left",width:120},{title:"Tipo documento",dataIndex:"document_type",align:"center",width:100},{title:"Num. documento",dataIndex:"number_document",align:"center",width:120},{title:"Supervisor",dataIndex:"supervisor",width:180},{title:"CDE",dataIndex:"cde",width:120},{title:"Departamento",dataIndex:"departament",width:120},{title:"Provincia",dataIndex:"province",width:120},{title:"Distrito",dataIndex:"distrite",width:120},{title:"Correo",dataIndex:"email",width:200},{title:"Celular",dataIndex:"phone",width:90},{title:"Habilitado",dataIndex:"enabled",align:"center",width:90},{title:"",dataIndex:"actions",align:"center",width:50}],S=e=>{e&&f()},z=e=>{C.value.page=e,f()},U=async e=>{try{const a=await k({url:`/advisor/${e.id}`,method:"GET"});x.value=a.data,v.value=!0}catch(a){console.error("Error de red:",a),N.warning("Error de red")}},V=()=>{x.value=null,v.value=!0},A=async e=>{try{_.value=!0;const a=await k({url:`/enabled-disabled/${e}`,method:"PUT"});N.success(a.message)}catch(a){console.error("Error de red:",a)}finally{_.value=!1}},f=async()=>{try{_.value=!0;const e=await k({url:"/advisor",method:"GET",params:C.value});y.value=e.data,I.value=e.total}catch(e){console.error("Error de red:",e)}finally{_.value=!1}};return L(f),(e,a)=>{const b=c("a-button"),D=c("a-switch"),G=c("a-menu-item"),O=c("a-menu"),R=c("a-dropdown"),$=c("a-table"),B=c("a-pagination");return o(),u(p,null,[h("div",null,[X,h("div",J,[s(b,{type:"primary",onClick:V},{default:d(()=>[m("AGREGAR")]),_:1})]),s($,{bordered:"",scroll:{x:M.value},class:"ant-table-striped",columns:T,"data-source":y.value,pagination:!1,loading:_.value,size:"small"},{bodyCell:d(({column:n,record:t})=>[n.dataIndex=="lastName"?(o(),u(p,{key:0},[m(l(t.last_name)+" "+l(t.middle_name),1)],64)):i("",!0),n.dataIndex=="departament"?(o(),u(p,{key:1},[m(l(t.departament.descripcion),1)],64)):i("",!0),n.dataIndex=="province"?(o(),u(p,{key:2},[m(l(t.province.descripcion),1)],64)):i("",!0),n.dataIndex=="distrite"?(o(),u(p,{key:3},[m(l(t.district.descripcion),1)],64)):i("",!0),n.dataIndex=="supervisor"?(o(),u(p,{key:4},[m(l(t.supervisor.name)+" "+l(t.supervisor.last_name),1)],64)):i("",!0),n.dataIndex=="cde"?(o(),u(p,{key:5},[m(l(t.sede.name),1)],64)):i("",!0),n.dataIndex=="enabled"?(o(),E(D,{key:6,checked:t.status,"onUpdate:checked":g=>t.status=g,onChange:g=>A(t.id),checkedValue:1,unCheckedValue:0},{checkedChildren:d(()=>[s(w(P))]),unCheckedChildren:d(()=>[s(w(F))]),_:2},1032,["checked","onUpdate:checked","onChange"])):i("",!0),n.dataIndex=="actions"?(o(),E(R,{key:7,trigger:["click"]},{overlay:d(()=>[s(O,null,{default:d(()=>[s(G,null,{default:d(()=>[h("a",{onClick:g=>U(t)},"Editar",8,Q)]),_:2},1024)]),_:2},1024)]),default:d(()=>[h("a",{class:"ant-dropdown-link",onClick:a[0]||(a[0]=H(()=>{},["prevent"]))},[s(b,{shape:"circle",icon:j(w(K)),size:"small"},null,8,["icon"])])]),_:2},1024)):i("",!0)]),_:1},8,["scroll","data-source","loading"])]),h("div",W,[s(B,{size:"small",total:I.value,pageSize:20,onChange:z,showSizeChanger:!1},null,8,["total"])]),s(q,{open:v.value,onRefreshTable:S,onHandleCloseModal:a[1]||(a[1]=n=>v.value=!1),isIdUpdate:x.value},null,8,["open","isIdUpdate"])],64)}}};export{ne as default};
