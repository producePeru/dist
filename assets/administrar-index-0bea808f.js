import{c as a,A as G,E as q,r as b,k as Q,b as p,o as d,d as O,y as w,w as l,e,t as c,i as M,ae as ge,F as B,m as j,a as ce,j as h,z as k,v as Z,x as K,h as pe,s as fe,af as ye,ab as be}from"./index-56eb011e.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import{S as he}from"./ShopOutlined-be9de80b.js";import{T as xe}from"./TeamOutlined-7bc1547f.js";import{_ as we}from"./icoexcel-1b303edf.js";import{d as Oe}from"./downloadExcel-9f1e2f45.js";import{S as Se}from"./SyncOutlined-50fc3abd.js";var ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908 640H804V488c0-4.4-3.6-8-8-8H548v-96h108c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h108v96H228c-4.4 0-8 3.6-8 8v152H116c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16H292v-88h440v88H620c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16zm-564 76v168H176V716h168zm84-408V140h168v168H428zm420 576H680V716h168v168z"}}]},name:"apartment",theme:"outlined"};const $e=ke;function oe(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(s).filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable}))),o.forEach(function(u){Ce(i,u,s[u])})}return i}function Ce(i,n,s){return n in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}var ee=function(n,s){var o=oe({},n,s.attrs);return a(G,oe({},o,{icon:$e}),null)};ee.displayName="ApartmentOutlined";ee.inheritAttrs=!1;const me=ee;var Pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"};const Ee=Pe;function re(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(s).filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable}))),o.forEach(function(u){ze(i,u,s[u])})}return i}function ze(i,n,s){return n in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}var te=function(n,s){var o=re({},n,s.attrs);return a(G,re({},o,{icon:Ee}),null)};te.displayName="BarChartOutlined";te.inheritAttrs=!1;const Ie=te;var Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z"}}]},name:"dashboard",theme:"outlined"};const De=Ae;function ie(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(s).filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable}))),o.forEach(function(u){Le(i,u,s[u])})}return i}function Le(i,n,s){return n in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}var ae=function(n,s){var o=ie({},n,s.attrs);return a(G,ie({},o,{icon:De}),null)};ae.displayName="DashboardOutlined";ae.inheritAttrs=!1;const Te=ae;var Me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const je=Me;function ue(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(s).filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable}))),o.forEach(function(u){Ue(i,u,s[u])})}return i}function Ue(i,n,s){return n in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}var ne=function(n,s){var o=ue({},n,s.attrs);return a(G,ue({},o,{icon:je}),null)};ne.displayName="DotChartOutlined";ne.inheritAttrs=!1;const Ne=ne;var Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 264c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48zm-8 136H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM480 544H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 308H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm356.8-74.4c29-26.3 47.2-64.3 47.2-106.6 0-79.5-64.5-144-144-144s-144 64.5-144 144c0 42.3 18.2 80.3 47.2 106.6-57 32.5-96.2 92.7-99.2 162.1-.2 4.5 3.5 8.3 8 8.3h48.1c4.2 0 7.7-3.3 8-7.6C564 871.2 621.7 816 692 816s128 55.2 131.9 124.4c.2 4.2 3.7 7.6 8 7.6H880c4.6 0 8.2-3.8 8-8.3-2.9-69.5-42.2-129.6-99.2-162.1zM692 591c44.2 0 80 35.8 80 80s-35.8 80-80 80-80-35.8-80-80 35.8-80 80-80z"}}]},name:"solution",theme:"outlined"};const He=Ve;function de(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(s).filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable}))),o.forEach(function(u){Re(i,u,s[u])})}return i}function Re(i,n,s){return n in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}var se=function(n,s){var o=de({},n,s.attrs);return a(G,de({},o,{icon:He}),null)};se.displayName="SolutionOutlined";se.inheritAttrs=!1;const Be=se;const Fe={class:"stat-card blue"},Ge={class:"stat-info"},qe={class:"stat-value"},We={class:"stat-icon-wrapper light-blue"},Qe={class:"stat-card green"},Je={class:"stat-info"},Xe={class:"stat-value"},Ye={class:"stat-icon-wrapper light-green"},Ze={class:"stat-card purple"},Ke={class:"stat-info"},et={class:"stat-value"},tt={class:"stat-icon-wrapper light-purple"},at={class:"stat-card orange"},nt={class:"stat-info"},st={class:"stat-value"},lt={class:"stat-icon-wrapper light-orange"},ot={__name:"principal-index",setup(i){const n=q(),s=b(null),o=async()=>{try{let f=`events-ugse/cyberwow-count-principal-panel/${n.params.slug}`;const m=await j({url:f,method:"GET"});s.value=m.data}catch(u){console.error("Error de red:",u)}};return Q(async()=>{await o()}),(u,f)=>{const m=p("a-skeleton"),E=p("a-col"),z=p("a-row"),U=p("a-progress"),L=p("a-card");return d(),O(B,null,[s.value?(d(),w(z,{key:1,gutter:[16,16]},{default:l(()=>[a(E,{xs:24,sm:12,md:6},{default:l(()=>[e("div",Fe,[e("div",Ge,[f[0]||(f[0]=e("p",{class:"stat-label"},"Total Empresas",-1)),e("h2",qe,c(s.value.total_empresas),1)]),e("div",We,[a(M(he))])])]),_:1}),a(E,{xs:24,sm:12,md:6},{default:l(()=>[e("div",Qe,[e("div",Je,[f[1]||(f[1]=e("p",{class:"stat-label"},"Empresas Asignadas",-1)),e("h2",Xe,c(s.value.empresas_asignadas),1)]),e("div",Ye,[a(M(Be))])])]),_:1}),a(E,{xs:24,sm:12,md:6},{default:l(()=>[e("div",Ze,[e("div",Ke,[f[2]||(f[2]=e("p",{class:"stat-label"},"Perfiles Completados",-1)),e("h2",et,c(s.value.perfiles_completados),1)]),e("div",tt,[a(M(ge))])])]),_:1}),a(E,{xs:24,sm:12,md:6},{default:l(()=>[e("div",at,[e("div",nt,[f[3]||(f[3]=e("p",{class:"stat-label"},"Líderes Activos",-1)),e("h2",st,c(s.value.lideres_activos),1)]),e("div",lt,[a(M(xe))])])]),_:1})]),_:1})):(d(),w(m,{key:0,active:""})),a(z,{gutter:[16,16],class:"section-row"},{default:l(()=>[a(E,{xs:24,md:12},{default:l(()=>[a(L,{title:"Progreso de Completación"},{default:l(()=>[f[4]||(f[4]=e("div",{class:"mb-2"},"Perfiles Completados",-1)),a(U,{percent:0,status:"active","stroke-color":"#52c41a"}),f[5]||(f[5]=e("div",{class:"mt-4 flex justify-between"},[e("div",{class:"box-completed"},[e("h2",null,"0"),e("p",null,"Completados")]),e("div",{class:"box-pending"},[e("h2",null,"0"),e("p",null,"Pendientes")])],-1))]),_:1})]),_:1}),a(E,{xs:24,md:12},{default:l(()=>[a(L,{title:"Actividad Reciente"})]),_:1})]),_:1})],64)}}},rt=F(ot,[["__scopeId","data-v-1e770b18"]]);const it={class:"empresas-wrapper"},ut={class:"empresas-container"},dt={class:"filters"},ct={class:"filters-actions"},pt={class:"summary-card total"},mt={class:"summary-card red"},vt={class:"summary-card yellow"},_t={key:1,class:"company-decription"},gt={key:2,class:"company-decription"},ft={key:4,class:"progress-cell"},yt={__name:"empresas-administrar",setup(i){const n=q(),s=b([]),o=b(null),u=b([]),f=b(!0),m=ce({name:null,typeStatus:"no_asignados"}),E=[{title:"EMPRESA",dataIndex:"empresa",key:"empresa",width:"300px"},{title:"EMPRESARIO",dataIndex:"empresario",key:"empresario",width:"300px"},{title:"ESTADO",dataIndex:"estado",key:"estado",align:"center",width:"200px"},{title:"LÍDER",dataIndex:"lider",key:"lider",align:"center",width:"400px"}],z=(g,_)=>{const P=g.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return _.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(P)},U=async(g,_)=>{try{const P=n.params.slug,D=await j({url:"events-ugse/a-company-to-leader",method:"PUT",data:{slug:P,user_id:g,company_id:_}});console.log("response",D),D.status==200&&await C()}catch(P){console.error("Error de red:",P)}},L=async()=>{await v()},C=async()=>{try{let _=`events-ugse/cyberwow-company-count/${n.params.slug}`;const P=await j({url:_,method:"GET"});o.value=P}catch(g){console.error("Error de red:",g)}},r=async()=>{try{let _=`select/get-all-leaders-wow/${n.params.slug}`;const P=await j({url:_,method:"GET"});s.value=P.data}catch(g){console.error("Error de red:",g)}},v=async()=>{try{const g={name:m.name,typeStatus:m.typeStatus};let P=`events-ugse/cyber-wow-list-assistants/${n.params.slug}`;const y=(await j({url:P,method:"GET",params:g})).data.data;u.value=y}catch(g){console.error("Error de red:",g)}finally{f.value=!1}};return Q(async()=>{await r(),await C(),await v()}),(g,_)=>{const P=p("a-input-search"),N=p("a-select-option"),y=p("a-select"),D=p("a-skeleton"),t=p("a-col"),T=p("a-row"),S=p("a-tag"),I=p("a-form-item"),H=p("a-progress"),V=p("a-table");return d(),O("div",it,[e("div",ut,[e("div",dt,[a(P,{value:m.name,"onUpdate:value":_[0]||(_[0]=$=>m.name=$),placeholder:"Buscar por nombre, RUC o DNI...",style:{"max-width":"300px"},onSearch:L},null,8,["value"]),e("div",ct,[a(y,{value:m.typeStatus,"onUpdate:value":_[1]||(_[1]=$=>m.typeStatus=$),style:{width:"160px"},onChange:L},{default:l(()=>[a(N,{value:"todos"},{default:l(()=>_[2]||(_[2]=[h("Todos los estados")])),_:1}),a(N,{value:"asignados"},{default:l(()=>_[3]||(_[3]=[h("Asignados")])),_:1}),a(N,{value:"no_asignados"},{default:l(()=>_[4]||(_[4]=[h("No Asignados")])),_:1})]),_:1},8,["value"])])]),o.value?(d(),w(T,{key:1,gutter:[16,16],class:"summary-row"},{default:l(()=>[a(t,{xs:24,sm:12,md:6},{default:l(()=>{var $;return[e("div",pt,[_[5]||(_[5]=e("p",null,"Total",-1)),e("h2",null,c(($=o.value)==null?void 0:$.total),1)])]}),_:1}),a(t,{xs:24,sm:12,md:6},{default:l(()=>{var $;return[e("div",mt,[_[6]||(_[6]=e("p",null,"No Asignadas",-1)),e("h2",null,c(($=o.value)==null?void 0:$.no_asignadas),1)])]}),_:1}),a(t,{xs:24,sm:12,md:6},{default:l(()=>{var $;return[e("div",vt,[_[7]||(_[7]=e("p",null,"Asignadas",-1)),e("h2",null,c(($=o.value)==null?void 0:$.asignadas),1)])]}),_:1})]),_:1})):(d(),w(D,{key:0,active:""})),a(V,{columns:E,"data-source":u.value,"row-key":"id",bordered:"",class:"empresas-table",pagination:{pageSize:100},loading:f.value},{bodyCell:l(({column:$,record:A})=>[$.dataIndex==="estado"?(d(),w(S,{key:0,color:"orange"},{default:l(()=>_[8]||(_[8]=[h("Por completar")])),_:1})):k("",!0),$.dataIndex==="empresa"?(d(),O("div",_t,[e("b",null,c(A.razonSocial),1),e("span",null,c(A.ruc),1)])):k("",!0),$.dataIndex==="empresario"?(d(),O("div",gt,[e("b",null,c(A.name)+" "+c(A.lastname)+" "+c(A.middlename),1),e("span",null,c(A.documentnumber),1)])):k("",!0),$.dataIndex==="lider"?(d(),w(I,{key:3},{default:l(()=>[a(y,{value:A.user_id,"onUpdate:value":W=>A.user_id=W,"show-search":"",options:s.value,"filter-option":z,onChange:W=>U(A.user_id,A.id),placeholder:"Seleccionar lider",class:"leader-name"},null,8,["value","onUpdate:value","options","onChange"])]),_:2},1024)):k("",!0),$.dataIndex==="progreso"?(d(),O("div",ft,[a(H,{percent:A.progreso/10*100,"show-info":!1,"stroke-color":"#1890ff",style:{width:"80px"}},null,8,["percent"]),e("span",null,c(A.progreso)+"/10",1)])):k("",!0)]),_:1},8,["data-source","loading"])])])}}},bt=F(yt,[["__scopeId","data-v-ef822d28"]]);const ht={class:"header-actions"},xt={class:"leader-info"},wt={style:{"font-weight":"500"}},Ot={class:"selected-count"},St={__name:"LideresUgse",setup(i){const n=q(),s=b([]),o=b([]),u=b([]),f=["#52c41a","#1890ff","#722ed1","#fa8c16","#13c2c2","#eb2f96","#a0d911","#2f54eb","#fa541c","#faad14","#73d13d","#ff4d4f"],m=new Set;function E(){for(let v of f)if(!m.has(v))return m.add(v),v;let r;do r="#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0");while(m.has(r));return m.add(r),r}const z=(r,v)=>{const g=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return v.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(g)};function U(r){const v=s.value.find(g=>g.value===r);v&&!o.value.some(g=>g.id===r)&&o.value.push({id:v.value,name:v.label,office:v.office,initial:v.label.charAt(0).toUpperCase(),color:E()})}const L=async r=>{try{const v={user_id:r.target.value,slug:n.params.slug},g=await j({url:"events-ugse/select-leader-for-this-event",method:"PUT",data:v});if(g.status==409)return pe.error(g.message);console.log("asignado")}catch(v){console.error("Error de red:",v)}},C=async()=>{try{const r=await j({url:"select/all-users-pnte",method:"GET"}),{data:v}=r;s.value=v.map(g=>({label:g.label,value:g.value,office:g.office}))}catch(r){console.error("Error de red:",r)}};return Q(async()=>{await C()}),(r,v)=>{const g=p("a-select"),_=p("a-avatar"),P=p("a-checkbox"),N=p("a-checkbox-group");return d(),O("div",null,[e("div",ht,[v[1]||(v[1]=e("span",null,"Seleccionar Líderes Disponibles",-1)),a(g,{"show-search":"",placeholder:"Buscar líder...",style:{width:"100%"},options:s.value,"filter-option":z,onSelect:U},null,8,["options"])]),a(N,{value:u.value,"onUpdate:value":v[0]||(v[0]=y=>u.value=y),style:{width:"100%"}},{default:l(()=>[(d(!0),O(B,null,Z(o.value,y=>(d(),O("div",{key:y.id,class:"leader-item"},[a(P,{value:y.id,onChange:L},{default:l(()=>[e("div",xt,[a(_,{style:K({backgroundColor:y.color})},{default:l(()=>[h(c(y.initial),1)]),_:2},1032,["style"]),e("div",null,[e("b",wt,c(y.name),1),e("div",null,c(y.office),1)])])]),_:2},1032,["value"])]))),128))]),_:1},8,["value"]),e("div",Ot,c(u.value.length)+" líderes seleccionados ",1)])}}},kt=F(St,[["__scopeId","data-v-b029f17a"]]);const $t={class:"reportes-wrapper"},Ct={class:"reportes-container"},Pt={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Et={key:0,class:"lider-cell"},zt={style:{"font-size":"13px"}},It={key:1,class:"text-green"},At={key:2,class:"text-yellow"},Dt={key:3},Lt={__name:"reportes-index",setup(i){const n=q();b("7"),b("completacion");const s=b(!1),o=b(!0),u=b(!1),f=b([]),m=b([{value:"cmf",label:"Cynthia Marisol Molero Flores"},{value:"eco",label:"Erika Lisbeth Choy Ortiz"},{value:"hqp",label:"Hannah Maria Qwistgaard Paniccia"},{value:"kps",label:"Kathia Iris Pinedo Saona"}]),E=[{title:"LÍDER",dataIndex:"lider",key:"lider",width:400},{title:"ASIGNADAS",dataIndex:"asignadas",key:"asignadas",align:"center"},{title:"COMPLETADAS",dataIndex:"completadas",key:"completadas",align:"center"},{title:"PENDIENTES",dataIndex:"pendientes",key:"pendientes",align:"center"},{title:"% COMPLETADOS",dataIndex:"tasa",key:"tasa",align:"center"},{title:"SUPERVISOR",dataIndex:"supervisor",key:"supervisor",align:"center",width:320}],z=async C=>{const r={supervisor:C.supervisor,slug:n.params.slug,user_id:C.id};try{const g=await j({url:"events-ugse/update-leader-supervisor",method:"PUT",data:r});g.status==200&&console.log("Supervisor actualizado con éxito:",g.data)}catch(v){console.error("Error de red:",v)}},U=async()=>{s.value=!0;try{let r=`download/resumen-by-users/${n.params.slug}`;await Oe(r,"resumen-por-usuario")}catch(C){console.error("Error de red:",C)}finally{s.value=!1}},L=async()=>{o.value=!0;try{let r=`events-ugse/cyberwow-leaders-report/${n.params.slug}`;const v=await j({url:r,method:"GET"});v.status==200&&(f.value=v.data)}catch(C){console.error("Error de red:",C)}finally{o.value=!1}};return Q(async()=>{await L()}),(C,r)=>{const v=p("a-col"),g=p("a-row"),_=p("a-button"),P=p("a-avatar"),N=p("a-progress"),y=p("a-tag"),D=p("a-select"),t=p("a-table"),T=p("a-drawer");return d(),O(B,null,[e("div",$t,[e("div",Ct,[a(g,{gutter:[16,16],class:"summary-row"},{default:l(()=>[a(v,{xs:24,sm:12,md:6},{default:l(()=>r[3]||(r[3]=[e("div",{class:"summary-card light-green"},[e("p",null,"Total Completadas"),e("h2",null,"0")],-1)])),_:1}),a(v,{xs:24,sm:12,md:6},{default:l(()=>r[4]||(r[4]=[e("div",{class:"summary-card light-yellow"},[e("p",null,"Total Pendientes"),e("h2",null,"0")],-1)])),_:1}),a(v,{xs:24,sm:12,md:6},{default:l(()=>r[5]||(r[5]=[e("div",{class:"summary-card light-blue"},[e("p",null,"Tasa Promedio"),e("h2",null,"0%")],-1)])),_:1}),a(v,{xs:24,sm:12,md:6},{default:l(()=>r[6]||(r[6]=[e("div",{class:"summary-card light-purple"},[e("p",null,"Tiempo Promedio"),e("h2",null,"0d")],-1)])),_:1})]),_:1}),e("div",Pt,[r[9]||(r[9]=e("h3",{class:"table-title"},"Reporte Detallado por Líder",-1)),e("div",null,[a(_,{icon:fe(M(Se)),onClick:r[0]||(r[0]=S=>L())},null,8,["icon"]),a(_,{style:{margin:"0 10px"},class:"btn-excel",onClick:U,loading:s.value,type:"primary"},{default:l(()=>r[7]||(r[7]=[e("img",{width:"20",style:{margin:"-2px 4px 0 0"},src:we},null,-1)])),_:1},8,["loading"]),a(_,{type:"primary",onClick:r[1]||(r[1]=S=>u.value=!0)},{default:l(()=>r[8]||(r[8]=[h("+ Agregar Líder")])),_:1})])]),a(t,{columns:E,"data-source":f.value,bordered:"","row-key":"id",pagination:!1,class:"reportes-table",loading:o.value},{bodyCell:l(({column:S,record:I})=>[S.dataIndex==="lider"?(d(),O("div",Et,[a(P,{style:K([{backgroundColor:I.color},{width:"30px",height:"30px","margin-right":"10px"}])},{default:l(()=>[h(c(I.nombre.charAt(0)),1)]),_:2},1032,["style"]),e("span",zt,c(I.nombre),1)])):k("",!0),S.dataIndex==="completadas"?(d(),O("span",It,c(I.completadas),1)):k("",!0),S.dataIndex==="pendientes"?(d(),O("span",At,c(I.pendientes),1)):k("",!0),S.dataIndex==="tasa"?(d(),O("div",Dt,[a(N,{percent:I.tasa,"show-info":!1,"stroke-color":"#1890ff",style:{width:"120px"}},null,8,["percent"]),e("span",null,c(I.tasa)+"%",1)])):k("",!0),S.dataIndex==="productividad"?(d(),O(B,{key:4},[I.productividad==="Alta"?(d(),w(y,{key:0,color:"green"},{default:l(()=>r[10]||(r[10]=[h("Alta")])),_:1})):I.productividad==="Media"?(d(),w(y,{key:1,color:"gold"},{default:l(()=>r[11]||(r[11]=[h("Media")])),_:1})):(d(),w(y,{key:2,color:"red"},{default:l(()=>r[12]||(r[12]=[h("Baja")])),_:1}))],64)):k("",!0),S.dataIndex==="supervisor"?(d(),w(D,{key:5,value:I.supervisor,"onUpdate:value":H=>I.supervisor=H,placeholder:"Selecciona un supervisor",style:{width:"100%"},options:m.value,onChange:H=>z(I)},null,8,["value","onUpdate:value","options","onChange"])):k("",!0)]),_:1},8,["data-source","loading"])])]),a(T,{width:"500",title:"",open:u.value,"onUpdate:open":r[2]||(r[2]=S=>u.value=S),placement:"right"},{default:l(()=>[a(kt)]),_:1},8,["open"])],64)}}},Tt=F(Lt,[["__scopeId","data-v-b1adef84"]]);const Mt={class:"followup-companies-list"},jt={style:{"margin-top":"60px"}},Ut={key:1},Nt={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Vt={style:{"margin-bottom":"0"}},Ht={style:{color:"#777","margin-bottom":"8px"}},Rt={style:{"text-align":"right",position:"relative"}},Bt={style:{"margin-bottom":"0"}},Ft={style:{"margin-bottom":"0"}},Gt={key:1,class:"followup-brand"},qt=["href"],Wt={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"16px"}},Qt={class:"seguimiento-tag-productos"},Jt=["link"],Xt=["src"],Yt={class:"product-card"},Zt={class:"product-name"},Kt={style:{color:"#777","margin-bottom":"4px"}},ea={style:{color:"#777","margin-bottom":"12px"}},ta={style:{display:"flex","align-items":"center","justify-content":"space-between"}},aa={style:{"text-decoration":"line-through",color:"#999","margin-bottom":"0"}},na={style:{color:"#389e0d","font-weight":"bold","font-size":"16px",margin:"0"}},sa={__name:"seguimiento-index",setup(i){const n=ce({supervisor:"",leader:""}),s=b(!1),o=b(!1),u=b(null),f=b([]),m=b(null),E=ye.PRESENTED_IMAGE_SIMPLE,z=q(),U=b(!1),L=b([]),C=b([]),r=b([{value:"cmf",label:"Cynthia Marisol Molero Flores"},{value:"eco",label:"Erika Lisbeth Choy Ortiz"},{value:"hqp",label:"Hannah Maria Qwistgaard Paniccia"},{value:"kps",label:"Kathia Iris Pinedo Saona"}]),v=async()=>{if(!n.leader)return pe.error("Por favor, seleccione un asesor.");U.value=!0;const D={slug:z.params.slug,user_id:n.leader};try{const T=await j({url:"events-ugse/follow-up-leader-to-company",method:"POST",data:D});C.value=T.data}catch(t){console.error("Error de red:",t)}finally{U.value=!1}},g=async()=>{L.value=[],n.leader=null,m.value=null,C.value=[];const D={supervisor:n.supervisor,slug:z.params.slug};try{const T=await j({url:"events-ugse/get-list-leaders-supervisor",method:"POST",data:D});L.value=T.data}catch(t){console.error("Error de red:",t)}},_=()=>{y.value=="2"?P():y.value=="3"&&N()},P=async()=>{o.value=!0,u.value=null;const D={slug:z.params.slug,company_id:m.value.id};try{const T=await j({url:"events-ugse/follow-up-leader-to-brand",method:"POST",data:D});u.value=T.data}catch(t){console.error("Error de red:",t)}finally{o.value=!1}},N=async()=>{s.value=!0,f.value=[];const D={slug:z.params.slug,company_id:m.value.id};try{const T=await j({url:"events-ugse/follow-up-leader-to-products",method:"POST",data:D});f.value=T.data}catch(t){console.error("Error de red:",t)}finally{s.value=!1}},y=b("1");return(D,t)=>{const T=p("a-select"),S=p("a-col"),I=p("a-button"),H=p("a-row"),V=p("a-card"),$=p("a-avatar"),A=p("a-tab-pane"),W=p("a-tabs"),J=p("a-empty"),ve=p("a-image"),X=p("a-spin"),_e=p("a-layout");return d(),w(_e,{style:{background:"#f5f7fa",padding:"24px","min-height":"100vh"}},{default:l(()=>[t[38]||(t[38]=e("div",null,[e("h1",{style:{"font-weight":"700","font-size":"24px","margin-bottom":"4px"}},"Empresas"),e("p",{style:{color:"#666"}},"Seguimiento y validación de empresas, marcas y productos")],-1)),a(H,{gutter:[16,16],style:{"margin-top":"16px","margin-bottom":"8px"}},{default:l(()=>[a(S,{xs:24,md:6},{default:l(()=>[a(T,{value:n.supervisor,"onUpdate:value":t[0]||(t[0]=x=>n.supervisor=x),placeholder:"Selecciona un supervisor",style:{width:"100%"},options:r.value,onChange:g},null,8,["value","options"])]),_:1}),a(S,{xs:24,md:6},{default:l(()=>[a(T,{value:n.leader,"onUpdate:value":t[1]||(t[1]=x=>n.leader=x),placeholder:"Selecciona un asesor",style:{width:"100%"},options:L.value},null,8,["value","options"])]),_:1}),a(S,{xs:24,md:4},{default:l(()=>[a(I,{type:"primary",block:"",onClick:v,loading:U.value},{default:l(()=>t[3]||(t[3]=[h("Buscar")])),_:1},8,["loading"])]),_:1})]),_:1}),a(X,{spinning:U.value},{default:l(()=>[C.value.length>0>0?(d(),w(H,{key:0,gutter:24,style:{"margin-top":"8px"}},{default:l(()=>[a(S,{xs:24,md:8},{default:l(()=>[e("div",Mt,[a(V,{style:{"border-radius":"12px"}},{default:l(()=>[t[6]||(t[6]=e("h3",{style:{"margin-bottom":"16px"}},"Lista de Empresas",-1)),(d(!0),O(B,null,Z(C.value,x=>{var R;return d(),w(V,{key:x.id,size:"small",hoverable:"",style:K([{"margin-bottom":"12px","border-radius":"10px",cursor:"pointer"},((R=m.value)==null?void 0:R.id)===x.id?"border: 2px solid #9254de;":""]),onClick:Y=>{m.value=x,_()}},{default:l(()=>[e("div",null,[e("strong",null,c(x.nombre),1),t[4]||(t[4]=e("br",null,null,-1)),e("small",null,"RUC: "+c(x.ruc),1),t[5]||(t[5]=e("br",null,null,-1)),e("small",null,c(x.representante),1)])]),_:2},1032,["style","onClick"])}),128))]),_:1})])]),_:1}),a(S,{xs:24,md:16},{default:l(()=>[m.value?(d(),O("div",Ut,[a(V,{style:{"border-radius":"12px","margin-bottom":"16px"}},{default:l(()=>[e("div",Nt,[e("div",null,[e("h2",Vt,c(m.value.nombre),1),e("p",Ht,c(m.value.razonSocial),1)]),e("div",Rt,[e("p",Bt,[t[9]||(t[9]=e("strong",null,"RUC:",-1)),h(" "+c(m.value.ruc),1)]),e("p",Ft,[t[10]||(t[10]=e("strong",null,"Asesor:",-1)),h(" "+c(m.value.asesor),1)])])]),a(W,{activeKey:y.value,"onUpdate:activeKey":t[2]||(t[2]=x=>y.value=x),style:{"margin-top":"12px"},onChange:_},{default:l(()=>[a(A,{key:"1",tab:"📋 Información"}),a(A,{key:"2",tab:"🏷️ Marca"}),a(A,{key:"3",tab:"📦 Productos (3)"})]),_:1},8,["activeKey"])]),_:1}),y.value==="1"?(d(),w(V,{key:0,style:{"border-radius":"12px"}},{default:l(()=>[t[25]||(t[25]=e("div",{class:"seguimiento-tag"}," Validada ",-1)),t[26]||(t[26]=e("h3",null,"Validación de Información",-1)),a(H,{gutter:[32,16],style:{"margin-top":"16px"}},{default:l(()=>[a(S,{xs:24,md:12},{default:l(()=>[t[17]||(t[17]=e("h4",null,"Datos de la Empresa",-1)),e("p",null,[t[11]||(t[11]=e("strong",null,"Nombre Comercial",-1)),t[12]||(t[12]=e("br",null,null,-1)),h(c(m.value.nombre),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Razón Social",-1)),t[14]||(t[14]=e("br",null,null,-1)),h(c(m.value.razonSocial),1)]),e("p",null,[t[15]||(t[15]=e("strong",null,"RUC",-1)),t[16]||(t[16]=e("br",null,null,-1)),h(c(m.value.ruc),1)])]),_:1}),a(S,{xs:24,md:12},{default:l(()=>[t[24]||(t[24]=e("h4",null,"Representante Legal",-1)),e("p",null,[t[18]||(t[18]=e("strong",null,"Nombre Completo",-1)),t[19]||(t[19]=e("br",null,null,-1)),h(c(m.value.representante),1)]),e("p",null,[t[20]||(t[20]=e("strong",null,"DNI",-1)),t[21]||(t[21]=e("br",null,null,-1)),h(c(m.value.dni),1)]),e("p",null,[t[22]||(t[22]=e("strong",null,"Celular",-1)),t[23]||(t[23]=e("br",null,null,-1)),h("+51 "+c(m.value.celular),1)])]),_:1})]),_:1})]),_:1})):k("",!0),y.value==="2"?(d(),w(V,{key:1,style:{"border-radius":"12px","text-align":"center"}},{default:l(()=>[y.value==="2"?(d(),w(V,{key:0,style:{"border-radius":"12px"}},{default:l(()=>[t[34]||(t[34]=e("div",{style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"16px"}},[e("h3",{style:{"margin-bottom":"0"}},"Validación de Marca")],-1)),a(X,{spinning:o.value},{default:l(()=>{var x,R,Y,le;return[u.value?(d(),O("div",Gt,[t[27]||(t[27]=e("h4",null,"Logo de la Empresa",-1)),a(ve,{width:100,src:(x=u.value)==null?void 0:x.logo.url,style:{border:"1px solid #d7d7d7"}},null,8,["src"]),t[28]||(t[28]=e("br",null,null,-1)),t[29]||(t[29]=e("br",null,null,-1)),t[30]||(t[30]=e("h4",null,"Sitio Web",-1)),e("a",{href:(R=u.value)==null?void 0:R.url,target:"_blank",style:{color:"#1677ff","text-decoration":"none"}},c((Y=u.value)==null?void 0:Y.url),9,qt),t[31]||(t[31]=e("br",null,null,-1)),t[32]||(t[32]=e("br",null,null,-1)),t[33]||(t[33]=e("h4",null,"Descripción",-1)),e("p",null,c((le=u.value)==null?void 0:le.description),1)])):(d(),w(J,{key:0,image:M(E)},null,8,["image"]))]}),_:1},8,["spinning"])]),_:1})):k("",!0)]),_:1})):k("",!0),y.value==="3"?(d(),w(V,{key:2,style:{"border-radius":"12px","text-align":"center"}},{default:l(()=>[y.value==="3"?(d(),w(V,{key:0,style:{"border-radius":"12px"}},{default:l(()=>[e("div",Wt,[t[35]||(t[35]=e("h3",{style:{"margin-bottom":"0"}},"Productos",-1)),e("div",Qt,c(f.value.length)+" de 3 requeridos ",1)]),!f.value||f.value.length===0?(d(),w(J,{key:0,image:M(E)},null,8,["image"])):k("",!0),a(X,{spinning:s.value},{default:l(()=>[a(H,{gutter:[16,16]},{default:l(()=>[(d(!0),O(B,null,Z(f.value,(x,R)=>(d(),w(S,{xs:24,sm:12,md:8,key:R},{default:l(()=>[e("a",{link:x.link,target:"_blank"},[a(V,{hoverable:"",style:{"border-radius":"12px",overflow:"hidden","min-height":"360px"},"body-style":{padding:"0"}},{default:l(()=>[e("img",{src:x.imagen,style:{width:"100%",height:"160px","object-fit":"cover"}},null,8,Xt),e("div",Yt,[e("h4",Zt,c(x.nombre),1),e("p",Kt,[t[36]||(t[36]=h(" Categoría: ")),e("strong",null,c(x.categoria),1)]),e("p",ea,[t[37]||(t[37]=h(" Tipo: ")),e("strong",null,c(x.tipo),1)]),e("div",ta,[e("p",aa,"S/ "+c(x.precioOriginal),1),e("p",na,"S/ "+c(x.precioActual),1)])])]),_:2},1024)],8,Jt)]),_:2},1024))),128))]),_:1})]),_:1},8,["spinning"])]),_:1})):k("",!0)]),_:1})):k("",!0)])):(d(),w(V,{key:0,style:{"border-radius":"12px","text-align":"center",height:"100%","min-height":"300px"}},{default:l(()=>[e("div",jt,[a($,{size:"large",style:{background:"#f0f2f5","margin-bottom":"12px"}},{icon:l(()=>[a(M(me))]),_:1}),t[7]||(t[7]=e("h3",null,"Selecciona una Empresa",-1)),t[8]||(t[8]=e("p",{style:{color:"#777"}}," Haz clic en una empresa para ver su información, marca y productos ",-1))])]),_:1}))]),_:1})]),_:1})):(d(),w(J,{key:1,image:M(E),class:"followup-empty"},null,8,["image"]))]),_:1},8,["spinning"])]),_:1})}}},la=F(sa,[["__scopeId","data-v-6f1014ca"]]);const oa={class:"dashboard-wrappers"},ra={class:"dashboard-container",style:{"margin-bottom":"1rem"}},ia={class:"dashboard-container"},ua={key:0},da={key:1},ca={key:2},pa={key:3},ma={__name:"administrar-index",setup(i){const n=b("1");return(s,o)=>{const u=p("a-breadcrumb-item"),f=p("a-breadcrumb"),m=p("a-tab-pane"),E=p("a-tabs");return d(),O("div",oa,[e("div",ra,[a(f,null,{default:l(()=>[a(u,null,{default:l(()=>[e("a",{onClick:o[0]||(o[0]=z=>s.$router.go(-1))},[a(M(be)),o[2]||(o[2]=e("span",{class:"fs-13"}," Atrás",-1))])]),_:1}),a(u,null,{default:l(()=>o[3]||(o[3]=[e("h3",{class:"title-produce"},"Administración de CyberWOW",-1)])),_:1})]),_:1})]),e("div",ia,[a(E,{activeKey:n.value,"onUpdate:activeKey":o[1]||(o[1]=z=>n.value=z)},{default:l(()=>[a(m,{key:"1"},{tab:l(()=>[e("span",null,[a(M(Te)),o[4]||(o[4]=h(" Panel Principal "))])]),_:1}),a(m,{key:"2"},{tab:l(()=>[e("span",null,[a(M(me)),o[5]||(o[5]=h(" Empresas "))])]),_:1}),a(m,{key:"3"},{tab:l(()=>[e("span",null,[a(M(Ie)),o[6]||(o[6]=h(" Reportes "))])]),_:1}),a(m,{key:"4"},{tab:l(()=>[e("span",null,[a(M(Ne)),o[7]||(o[7]=h(" Seguimiento "))])]),_:1})]),_:1},8,["activeKey"]),n.value==="1"?(d(),O("div",ua,[a(rt)])):k("",!0),n.value==="2"?(d(),O("div",da,[a(bt)])):k("",!0),n.value==="3"?(d(),O("div",ca,[a(Tt)])):k("",!0),n.value==="4"?(d(),O("div",pa,[a(la)])):k("",!0)])])}}},xa=F(ma,[["__scopeId","data-v-8aed52f9"]]);export{xa as default};
