import{_ as A}from"./TableComponent-1e6aded2.js";import{r as o,u as V,a as H,p as R,k as W,X as v,b as _,o as i,d as p,c as l,w as s,m as U,i as $,z as w,F as G,e as h,j as g,t as f,y as z}from"./index-3f88e443.js";import{_ as P}from"./DrawSed-c71c9bed.js";import"./es-16fe77c6.js";import{g as M}from"./publicInscripcion-ebc9ecb9.js";import{C as j}from"./CloudUploadOutlined-30e5025e.js";import"./icoexcel-1b303edf.js";import"./selectes-d146f2e5.js";import"./MoreOutlined-735ee1cb.js";import"./FormComponent-4bf37019.js";import"./quill.snow-ba8e47e8.js";import"./UpImage-40bf8922.js";import"./_plugin-vue_export-helper-c27b6911.js";const L={class:"layout-content"},q=["onClick"],J={key:0,style:{"line-height":"1.5"}},X={key:1},Z=["onClick"],me={__name:"list-index",setup(K){JSON.parse(localStorage.getItem("role"));const y=o([]),S=o(0),x=o(150),d=o(!1);V();const E=o(!1),m=o(null),C=o(!1),r=H({year:R("2025","YYYY"),range:null,asesor:null,name:null,page:1,type:1,typeCde:null,orderby:3}),k=[{title:"#",fixed:"left",dataIndex:"idx",align:"center",width:50},{title:"NOMBRE DEL EVENTO",fixed:"left",dataIndex:"title",width:180},{title:"FECHAS INSCRIPCIONES",dataIndex:"date",width:70,align:"center"},{title:"REGISTRADOS",dataIndex:"registered",width:100,align:"center"},{title:"META DE REGISTRO",dataIndex:"metaMypes",width:100,align:"center"},{title:"REGISTRAR",dataIndex:"",width:120,align:"center"},{title:"",dataIndex:"actions",width:60,align:"center",fixed:"right"}];o([{value:1,label:"EN CURSO"},{value:2,label:"FINALIZADOS"},{value:3,label:"TODOS"}]);const O=e=>{const t=`${M()}/sed/${e}`;window.open(t,"_blank")},N=e=>{m.value=e,d.value=!0},D=()=>{u(),d.value=!1},T=()=>{m.value=null,d.value=!0},b=async e=>{r.page=e,await u()},Y=async e=>{e&&(r.page=1,await u())},u=async()=>{try{E.value=!0;const e={page:r.page};r.year&&(e.year=R(r.year).format("YYYY"));const c=await U({url:"events-ugse/cyber-wow",method:"GET",params:e});y.value=c.data.data,S.value=c.data.total,x.value=c.data.per_page}catch(e){console.error("Error de red:",e)}finally{E.value=!1}};return W(async()=>{await u()}),v("search",r),v("loading",E),v("loadingFile",C),(e,t)=>{const c=_("a-tag"),B=_("router-link"),I=_("a-menu-item"),F=_("a-drawer");return i(),p("div",L,[l(A,{title:"CYBER WOW",new:!0,textNuevo:"NUEVO",placeholderSearch:"Buscar",searchYear:!0,columns:k,titleSearch:"BUSCAR POR EVENTO",pageSize:x.value,nameTotal:"Eventos CYBER WOW",dataSource:y.value,total:S.value,btnUpdate:!0,onHandleNew:T,onHandleCallFetchData:u,onHandleDownloadExcel:e.handleDownloadExcel,onHandleSearch:Y,onHandlePaginator:b},{"data-cell":s(({column:a,record:n})=>[a.dataIndex=="link"?(i(),p("a",{key:0,onClick:Q=>O(n.slug),href:"javascript:void(0)",target:"_blank"},[l($(j),{style:{"font-size":"18px"}})],8,q)):w("",!0),a.dataIndex=="date"?(i(),p(G,{key:1},[n.startDate!=n.endDate?(i(),p("span",J,[t[1]||(t[1]=h("b",null,"Desde:",-1)),g(" "+f(n.dateStartFormat)+" ",1),t[2]||(t[2]=h("b",null,"Hasta:",-1)),g(" "+f(n.dateEndFormat),1)])):(i(),p("span",X,f(n.dateStartFormat),1))],64)):w("",!0),a.dataIndex=="registered"?(i(),z(c,{key:2,color:"processing"},{default:s(()=>[g(f(n.registered),1)]),_:2},1024)):w("",!0)]),"custom-options":s(({record:a})=>[l(I,null,{default:s(()=>[l(B,{to:`/admin/ugse/cyber-wow/inscritos/${a.slug}`,target:"_blank"},{default:s(()=>t[3]||(t[3]=[g(" Inscritos ")])),_:2},1032,["to"])]),_:2},1024),l(I,null,{default:s(()=>[h("a",{onClick:n=>N(a)},"Editar",8,Z)]),_:2},1024)]),_:1},8,["pageSize","dataSource","total","onHandleDownloadExcel"]),l(F,{open:d.value,"onUpdate:open":t[0]||(t[0]=a=>d.value=a),title:m.value?"EDITAR EVENTO CYBER WOW":"REGISTRAR UN EVENTO CYBER WOW",placement:"right",width:"550"},{default:s(()=>[l(P,{onCloseDraw:D,info:m.value},null,8,["info"])]),_:1},8,["open","title"])])}}};export{me as default};
