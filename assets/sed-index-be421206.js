import{_ as M}from"./TableComponent-c89fcc82.js";import{r as o,u as U,a as $,p as D,k as B,X as S,b as g,o as r,d as p,c as i,w as s,m as G,i as z,z as _,F as P,e as f,j as E,t as h,y as N}from"./index-2c1d98b1.js";import{_ as j}from"./DrawSed-1faa7d45.js";import"./downloadExcel-acbe202e.js";import"./es-d9bd4dcd.js";import{g as q}from"./publicInscripcion-ebc9ecb9.js";import{C as J}from"./CloudUploadOutlined-af0e0be4.js";import"./icoexcel-1b303edf.js";import"./selectes-8e7f3aac.js";import"./MoreOutlined-39110c8e.js";import"./FormComponent-6fc03bc7.js";import"./quill.snow-eb3ad49c.js";import"./UpImage-9a4d0e0a.js";import"./_plugin-vue_export-helper-c27b6911.js";const K={class:"layout-content"},X=["onClick"],Z={key:0,style:{"line-height":"1.5"}},Q={key:1},W=["onClick"],ee=["href"],Ee={__name:"sed-index",setup(te){JSON.parse(localStorage.getItem("role"));const w=o([]),x=o(0),I=o(150),d=o(!1);o(!1),U();const v=o(!1),m=o(null),k=o(!1),t=$({year:D("2025","YYYY"),range:null,asesor:null,name:null,page:1,type:1,typeCde:null,orderby:3}),O=[{title:"#",fixed:"left",dataIndex:"idx",align:"center",width:70},{title:"LINK",dataIndex:"link",fixed:"left",width:70,align:"center"},{title:"NOMBRE DEL EVENTO",fixed:"left",dataIndex:"title",width:180},{title:"FECHAS INSCRIPCIONES",dataIndex:"date",width:120,align:"center"},{title:"REGISTRADOS",dataIndex:"registered",width:100,align:"center"},{title:"META DE REGISTRO",dataIndex:"metaMypes",width:100,align:"center"},{title:"REGIÃ“N",dataIndex:"city_name",width:120,align:"center"},{title:"LUGAR EVENTO",dataIndex:"place",width:180},{title:"FECHA DEL EVENTO",dataIndex:"fecha",width:120,align:"center"},{title:"HORARIO EVENTO",dataIndex:"hours",width:130,align:"center"},{title:"",dataIndex:"actions",width:60,align:"center",fixed:"right"}],R=o([{value:1,label:"EN CURSO"},{value:2,label:"FINALIZADOS"},{value:3,label:"TODOS"}]),C=e=>{const a=`${q()}/sed/${e}`;window.open(a,"_blank")},T=e=>{m.value=e,d.value=!0},Y=()=>{c(),d.value=!1},b=()=>{m.value=null,d.value=!0},V=async()=>{},A=async e=>{t.page=e,await c()},F=async e=>{e&&(t.page=1,await c())},c=async()=>{try{v.value=!0;const e={page:t.page};t.year&&(e.year=D(t.year).format("YYYY")),t.range&&(e.dateStart=t.range[0].format("YYYY/MM/DD"),e.dateEnd=t.range[1].format("YYYY/MM/DD")),t.name&&(e.name=t.name),t.orderby&&(e.orderby=t.orderby);const u=await G({url:"events-ugse/sed",method:"GET",params:e});w.value=u.data.data,x.value=u.data.total,I.value=u.data.per_page}catch(e){console.error("Error de red:",e)}finally{v.value=!1}};return B(async()=>{await c()}),S("search",t),S("loading",v),S("loadingFile",k),(e,a)=>{const u=g("a-tag"),H=g("router-link"),y=g("a-menu-item"),L=g("a-drawer");return r(),p("div",K,[i(M,{title:"SED",new:!0,textNuevo:"NUEVO EVENTO",placeholderSearch:"Buscar",searchYear:!0,rangeDate:!0,columns:O,othersList:R.value,titleSearch:"BUSCAR POR EVENTO",pageSize:I.value,nameTotal:"Eventos SED",dataSource:w.value,total:x.value,btnUpdate:!0,onHandleNew:b,onHandleCallFetchData:c,onHandleDownloadExcel:V,onHandleSearch:F,onHandlePaginator:A},{"data-cell":s(({column:n,record:l})=>[n.dataIndex=="link"?(r(),p("a",{key:0,onClick:ae=>C(l.slug),href:"javascript:void(0)",target:"_blank"},[i(z(J),{style:{"font-size":"18px"}})],8,X)):_("",!0),n.dataIndex=="date"?(r(),p(P,{key:1},[l.startDate!=l.endDate?(r(),p("span",Z,[a[1]||(a[1]=f("b",null,"Desde:",-1)),E(" "+h(l.dateStartFormat)+" ",1),a[2]||(a[2]=f("b",null,"Hasta:",-1)),E(" "+h(l.dateEndFormat),1)])):(r(),p("span",Q,h(l.dateStartFormat),1))],64)):_("",!0),n.dataIndex=="registered"?(r(),N(u,{key:2,color:"processing"},{default:s(()=>[E(h(l.registered),1)]),_:2},1024)):_("",!0)]),"custom-options":s(({record:n})=>[i(y,null,{default:s(()=>[i(H,{to:`/admin/ugse/sed-inscritos/${n.slug}`,target:"_blank"},{default:s(()=>a[3]||(a[3]=[E(" Inscritos ")])),_:2},1032,["to"])]),_:2},1024),i(y,null,{default:s(()=>[f("a",{onClick:l=>T(n)},"Editar",8,W)]),_:2},1024),n.fairtype_id==1?(r(),N(y,{key:0},{default:s(()=>[f("a",{href:`https://inscripcion.soporte-pnte.com/asistencia/${n.slug}`,target:"_blank"},"Asistencia",8,ee)]),_:2},1024)):_("",!0)]),_:1},8,["othersList","pageSize","dataSource","total"]),i(L,{open:d.value,"onUpdate:open":a[0]||(a[0]=n=>d.value=n),title:m.value?"EDITAR EVENTO SED":"REGISTRAR UN EVENTO SED",placement:"right",width:"550"},{default:s(()=>[i(j,{onCloseDraw:Y,info:m.value},null,8,["info"])]),_:1},8,["open","title"])])}}};export{Ee as default};
