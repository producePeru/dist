import{r as _,u as Q,a as D,l as X,b as p,o as n,d as h,c as l,e as c,w as d,F as U,n as Z,m as b,f as ee,v as ae,z as u,s as r,h as te,i as k,p as oe,j as ne}from"./index-223837af.js";import{f as se}from"./nuevoUsuario-8627bd47.js";import"./storage-69784238.js";import{_ as le}from"./_plugin-vue_export-helper-c27b6911.js";const f=g=>(oe("data-v-50398c41"),g=g(),ne(),g),ue=f(()=>c("h3",null,"REGISTRO DE USUARIOS",-1)),re=f(()=>c("span",null,"Formulario para el registro de usuarios:",-1)),ie={class:"user"},de={class:"grid-item"},ce=f(()=>c("br",null,null,-1)),me=f(()=>c("div",null,[c("h1")],-1)),pe={__name:"NuevoUsuarios",setup(g){const y=_(!1),N=_([]),q=_([]),T=Q(),a=D({nickName:"",password:"",documentType:1,documentNumber:"",middleName:"",name:"",countryCode:173,birthdate:null,gender:"",isDisabled:null,email:"",phoneNumber:"",role:null,officeCode:null,sedeCode:1}),w=[{label:"DNI",value:1},{label:"CE",value:2},{label:"PAS",value:3},{label:"PTP",value:4}],x=[{label:"Masculino",value:1},{label:"Femenino",value:2},{label:"...",value:3}],A=[{label:"Si",value:2},{label:"No",value:1}],E=[{label:"Administrador",value:"1"},{label:"Usuario",value:"2"},{label:"Invitado",value:"3"}],F=[{label:"Dirección ejecutiva",value:1},{label:"Unidad de gestión de servicios empresariales",value:2},{label:"Unidad de gestión de operaciones",value:3},{label:"Unidad de gestión estratégica y entrega de resultados",value:4}],I=()=>{a.nickName="",a.password="",a.documentType=1,a.documentNumber="",a.lastName="",a.middleName="",a.name="",a.countryCode=173,a.birthdate=null,a.gender="",a.isDisabled=null,a.email="",a.phoneNumber="",a.role=null,a.officeCode=null,a.sedeCode=null},R=_([{value:"Nuevo Usuario"},{value:"Lista de usuarios"}]),P=_([{value:"Reportes"},{value:"Calendario"},{value:"Talleres"},{value:"MYPE"},{value:"Expositores"}]),i=D({user:!1,userActions:[],digital:!1,digitalActions:[]}),S=s=>{i[s]||(i[s]=!0)},B=async()=>{const s=a;y.value=!0;try{const o=await Z({url:"/register",method:"POST",data:s});I(),b.success(o.message),T.push("/admin/ruta-digital/talleres")}catch{b.error("No se pudo registrar este usuario")}finally{y.value=!1}},O=()=>{b.error("Debes de completar todos los espacios requeridos")},M=async s=>{if(!a.documentType)return b.error("Selecciona el tipo de documento");if(!s)return b.error("El campo número de documento esta vacío");console.log(typeof s)},V=()=>{a.documentNumber=a.documentNumber.replace(/\D/g,"")},j=(s,o)=>{},G=async()=>{try{const{data:s}=await ee({url:"/countries",method:"GET"});N.value=s}catch(s){console.error("Error de red:",s)}},L=async()=>{};return X(G(),L()),(s,o)=>{const $=p("a-divider"),m=p("a-select"),v=p("a-form-item"),z=p("a-input-search"),W=p("a-input"),Y=p("a-date-picker"),H=p("a-button"),J=p("a-form"),C=p("a-checkbox");return n(),h(U,null,[ue,re,l($),c("div",ie,[l(J,{layout:"vertical",model:a,name:"basic",autocomplete:"off",onFinish:B,onFinishFailed:O},{default:d(()=>[c("div",de,[(n(!0),h(U,null,ae(te(se),(e,K)=>(n(),h(U,{key:K},[e.type==="iSelect"?(n(),u(v,{key:0,class:"item-max",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:d(()=>[e.name=="documentType"?(n(),u(m,{key:0,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:w},null,8,["value","onUpdate:value"])):r("",!0),e.name=="gender"?(n(),u(m,{key:1,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:x},null,8,["value","onUpdate:value"])):r("",!0),e.name=="isDisabled"?(n(),u(m,{key:2,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:A},null,8,["value","onUpdate:value"])):r("",!0),e.name=="officeCode"?(n(),u(m,{key:3,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:F},null,8,["value","onUpdate:value"])):r("",!0),e.name=="sedeCode"?(n(),u(m,{key:4,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:q.value},null,8,["value","onUpdate:value","options"])):r("",!0),e.name=="role"?(n(),u(m,{key:5,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:E},null,8,["value","onUpdate:value"])):r("",!0)]),_:2},1032,["name","label","rules"])):r("",!0),e.type==="iSearch"?(n(),u(v,{key:1,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,len:8}]},{default:d(()=>[l(z,{value:a[e.name],"onUpdate:value":t=>a[e.name]=t,"enter-button":"",onSearch:M,onInput:V},null,8,["value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):r("",!0),e.type==="iText"?(n(),u(v,{key:2,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,type:e.email}]},{default:d(()=>[l(W,{value:a[e.name],"onUpdate:value":t=>a[e.name]=t},null,8,["value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):r("",!0),e.type==="iSelectWrite"?(n(),u(v,{key:3,name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:d(()=>[l(m,{value:a[e.name],"onUpdate:value":t=>a[e.name]=t,"show-search":"",options:N.value,"filter-option":j},null,8,["value","onUpdate:value","options"])]),_:2},1032,["name","label","rules"])):r("",!0),e.type==="iDate"?(n(),u(v,{key:4,name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:d(()=>[l(Y,{value:a.birthdate,"onUpdate:value":o[0]||(o[0]=t=>a.birthdate=t),style:{width:"100%"}},null,8,["value"])]),_:2},1032,["name","label","rules"])):r("",!0)],64))),128))]),l(v,null,{default:d(()=>[l(H,{type:"primary","html-type":"submit",loading:y.value},{default:d(()=>[k("Registrar usuario")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),c("section",null,[c("div",null,[l(C,{checked:i.user,"onUpdate:checked":o[1]||(o[1]=e=>i.user=e)},{default:d(()=>[k("Usuarios")]),_:1},8,["checked"]),l(m,{value:i.userActions,"onUpdate:value":o[2]||(o[2]=e=>i.userActions=e),mode:"multiple",style:{width:"100%"},placeholder:"Agrega vistas para este usuario",onChange:o[3]||(o[3]=e=>S("user")),options:R.value},null,8,["value","options"])]),ce,c("div",null,[l(C,{checked:i.digital,"onUpdate:checked":o[4]||(o[4]=e=>i.digital=e)},{default:d(()=>[k("Ruta Digital")]),_:1},8,["checked"]),l(m,{value:i.digitalActions,"onUpdate:value":o[5]||(o[5]=e=>i.digitalActions=e),mode:"multiple",style:{width:"100%"},placeholder:"Agrega vistas para este usuario",onChange:o[6]||(o[6]=e=>S("digital")),options:P.value},null,8,["value","options"])])]),me])],64)}}},fe=le(pe,[["__scopeId","data-v-50398c41"]]);export{fe as default};
