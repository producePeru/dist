/* empty css             */import{r as p,a as D,j as T,W as B,b as i,o as r,d as c,c as l,w as n,e as q,F as _,x as A,z as C,h as E,B as F,i as N,Q as P,m as U}from"./index-a52e93de.js";import{u as I}from"./selectes-ef8107f5.js";import{Q as O}from"./quill.snow-ea727c59.js";const Q={class:"grid-event-resultado"},z={__name:"DrawResultados",props:["dataRow"],emits:["closeDraw"],setup(y,{emit:g}){const d=I();d.$patch({officesPnte:d.officesPnte}),d.fetchOfficesPnte();const v=g,s=y,u=p(!1),b={theme:"snow",modules:{toolbar:[["bold","italic","underline"],[{align:[]}],[{color:[]},{background:[]}],["link"]]},contentType:"html"},w=p({resultados:{type:"iTextArea",label:"DESCRIBIR RESULTADOS",name:"resultados",required:!1,message:"Escribe los resultados de los evento",max:500}}),a=D({resultado:null}),R=async()=>{const e={resultado:a.resultado};u.value=!0;try{const t=await P({url:`event/update/${s.dataRow.id}`,method:"PUT",data:e});t.status===200&&(U.success(t.message),v("closeDraw"))}catch(t){console.error("Failed to update record",t)}finally{u.value=!1}},m=e=>{console.log("Setting",e),e.resultado?a.resultado=e.resultado:a.resultado="</p>"};return T(()=>{s.dataRow&&m(s.dataRow)}),B(()=>s.dataRow,e=>{e&&m(e)}),(e,t)=>{const f=i("a-form-item"),h=i("a-button"),x=i("a-form");return r(),c("div",null,[l(x,{class:"form-events",layout:"vertical",model:a,name:"basic",autocomplete:"off",onFinish:R},{default:n(()=>[q("div",Q,[(r(!0),c(_,null,A(w.value,(o,k)=>(r(),c(_,{key:k},[o.type==="iTextArea"?(r(),C(f,{key:0,name:o.name,label:o.label,rules:[{required:o.required,message:o.message}]},{default:n(()=>[l(E(O),{class:"quill-editor",content:a.resultado,"onUpdate:content":t[0]||(t[0]=S=>a.resultado=S),options:b,contentType:"html"},null,8,["content"])]),_:2},1032,["name","label","rules"])):F("",!0)],64))),128))]),l(f,null,{default:n(()=>[l(h,{type:"primary","html-type":"submit",loading:u.value,style:{"margin-top":"1rem"}},{default:n(()=>t[1]||(t[1]=[N("GUARDAR")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}};export{z as _};
