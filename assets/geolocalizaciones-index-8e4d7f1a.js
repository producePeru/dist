import{r as v,k as B,b as k,o as r,d as i,c as o,w as n,f as y,e as a,F as C,v as g,n as z,t as x,j as s}from"./index-d82617ff.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";const I={class:"container"},S={class:"card-box"},V=["onClick"],F={class:"card-box"},j=["onClick"],q={class:"card-box"},L={__name:"geolocalizaciones-index",setup(M){const E=v([]),m=v([]),u=v([]),_=v(null),p=v(null),w=async l=>{_.value=l,p.value=null,m.value=[],u.value=[];try{const{data:e}=await y({url:`select/provinces/${l.value}`,method:"GET"});m.value=e}catch(e){console.error("Error al cargar provincias:",e)}},$=async l=>{p.value=l,u.value=[];try{const{data:e}=await y({url:`select/districts/${l.value}`,method:"GET"});u.value=e}catch(e){console.error("Error al cargar distritos:",e)}};function N(l){const e=prompt("Editar región",l.label);e&&(l.label=e)}function R(){if(!_.value)return alert("Selecciona una región primero");const l=prompt("Nombre de la nueva provincia");console.log("iaiiaiai",l)}function D(l){const e=prompt("Editar provincia",l.label);e&&(l.label=e)}function P(){if(!p.value)return alert("Selecciona una provincia primero");const l=prompt("Nombre del nuevo distrito");l&&u.value.push({label:l,value:Date.now()})}function T(l){const e=prompt("Editar distrito",l.label);e&&(l.label=e)}return B(async()=>{try{const{data:l}=await y({url:"select/cities",method:"GET"});E.value=l}catch(l){console.error("Error al cargar regiones:",l)}}),(l,e)=>{const d=k("a-button"),f=k("a-col"),h=k("a-row");return r(),i("div",I,[o(h,{gutter:[16,16]},{default:n(()=>[o(f,{xs:24,sm:8,md:8},{default:n(()=>[a("div",S,[e[1]||(e[1]=a("h3",null," Regiones ",-1)),a("ul",null,[(r(!0),i(C,null,g(E.value,t=>{var c;return r(),i("li",{key:t.value,class:z({active:((c=_.value)==null?void 0:c.value)===t.value})},[a("span",{onClick:b=>w(t),style:{cursor:"pointer"}},x(t.label),9,V),o(d,{type:"link",size:"small",onClick:b=>N(t)},{default:n(()=>e[0]||(e[0]=[s("Editar")])),_:2},1032,["onClick"])],2)}),128))])])]),_:1}),o(f,{xs:24,sm:8,md:8},{default:n(()=>[a("div",F,[a("h3",null,[e[3]||(e[3]=s(" Provincias ")),o(d,{type:"primary",size:"small",onClick:R},{default:n(()=>e[2]||(e[2]=[s("+ Crear")])),_:1})]),a("ul",null,[(r(!0),i(C,null,g(m.value,t=>{var c;return r(),i("li",{key:t.value,class:z({active:((c=p.value)==null?void 0:c.value)===t.value})},[a("span",{onClick:b=>$(t),style:{cursor:"pointer"}},x(t.label),9,j),o(d,{type:"link",size:"small",onClick:b=>D(t)},{default:n(()=>e[4]||(e[4]=[s("Editar")])),_:2},1032,["onClick"])],2)}),128))])])]),_:1}),o(f,{xs:24,sm:8,md:8},{default:n(()=>[a("div",q,[a("h3",null,[e[6]||(e[6]=s(" Distritos ")),o(d,{type:"primary",size:"small",onClick:P},{default:n(()=>e[5]||(e[5]=[s("+ Crear")])),_:1})]),a("ul",null,[(r(!0),i(C,null,g(u.value,t=>(r(),i("li",{key:t.value},[s(x(t.label)+" ",1),o(d,{type:"link",size:"small",onClick:c=>T(t)},{default:n(()=>e[7]||(e[7]=[s("Editar")])),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1})])}}},K=G(L,[["__scopeId","data-v-1d6748b9"]]);export{K as default};
