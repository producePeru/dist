import{r as t,H as F,v as H,k as T,b as u,o,d as s,e as m,c,w as f,F as l,y as q,i as p,t as r,s as i,q as J,I as P,J as G,h as X}from"./index-f9af2e59.js";import{S as Y}from"./DrawerSolicitante.componente-179eefd3.js";import{u as $}from"./selectes-fa4de3fc.js";import{M as j}from"./MoreOutlined-8a803595.js";import"./es-a700a25a.js";import"./_plugin-vue_export-helper-c27b6911.js";const K=m("h3",null,"ASESORES",-1),Q=m("div",{class:"filters-notary"},[m("div")],-1),W={class:"paginator"},C=20,le={__name:"AsesoresLista",setup(Z){JSON.parse(localStorage.getItem("profile"));const v=$();v.$patch({cities:v.cities}),v.fetchCities();const y=t(window.innerHeight-100),k=[{title:"#",fixed:"left",dataIndex:"idx",align:"center",width:70},{title:"EMAIL",dataIndex:"email",fixed:"left",width:200},{title:"NOMBRES",dataIndex:"name",width:140},{title:"APELLIDOS",dataIndex:"apellidos",width:140},{title:"NUM. DOC",dataIndex:"documentnumber",align:"center",width:120},{title:"CELULAR",dataIndex:"phone",align:"center",width:150},{title:"F.NACIMIENTO",dataIndex:"birthday",align:"center",width:150}],I=t(0),_=t({page:0}),S=t(1200),b=t([]),g=t(!1),h=t(!1),E=t(null);t(null);const z=e=>{_.value.page=e,x()},w=()=>{y.value=window.innerHeight-280},A=e=>{console.log("open",e)},L=()=>{x(),h.value=!1},N=F(()=>e=>((_.value.page==0?1:_.value.page)-1)*C+e+1),x=async()=>{try{g.value=!0;let e=_.value.page==0?"":_.value;const n=await q({url:"user/list-asesories",method:"GET",params:e});b.value=n.data,I.value=n.total}catch(e){console.error("Error de red:",e)}finally{g.value=!1}};return H(()=>{window.removeEventListener("resize",w)}),T(()=>{window.addEventListener("resize",w),w(),x()}),(e,n)=>{const O=u("a-button"),M=u("a-menu"),D=u("a-dropdown"),V=u("a-table"),B=u("a-pagination"),R=u("a-drawer");return o(),s(l,null,[m("div",null,[K,Q,c(V,{bordered:"",scroll:{x:S.value,y:y.value},class:"ant-table-striped",columns:k,"data-source":b.value,pagination:!1,loading:g.value,size:"small"},{bodyCell:f(({column:a,record:d,index:U})=>[a.dataIndex=="idx"?(o(),s(l,{key:0},[p(r(N.value(U)),1)],64)):i("",!0),a.dataIndex=="name"?(o(),s(l,{key:1},[p(r(d.asesores.profile.name),1)],64)):i("",!0),a.dataIndex=="apellidos"?(o(),s(l,{key:2},[p(r(d.asesores.profile.lastname)+" "+r(d.asesores.profile.middlename),1)],64)):i("",!0),a.dataIndex=="documentnumber"?(o(),s(l,{key:3},[p(r(d.asesores.profile.documentnumber),1)],64)):i("",!0),a.dataIndex=="phone"?(o(),s(l,{key:4},[p(r(d.asesores.profile.phone),1)],64)):i("",!0),a.dataIndex=="birthday"?(o(),s(l,{key:5},[p(r(d.asesores.profile.birthday),1)],64)):i("",!0),a.dataIndex=="actions"?(o(),J(D,{key:6,trigger:["click"]},{overlay:f(()=>[c(M)]),default:f(()=>[m("a",{class:"ant-dropdown-link",onClick:n[0]||(n[0]=P(()=>{},["prevent"]))},[c(O,{shape:"circle",icon:G(X(j)),size:"small"},null,8,["icon"])])]),_:1})):i("",!0)]),_:1},8,["scroll","data-source","loading"])]),m("div",W,[c(B,{size:"small",total:I.value,pageSize:C,onChange:z,showSizeChanger:!1},null,8,["total"])]),c(R,{open:h.value,"onUpdate:open":n[1]||(n[1]=a=>h.value=a),class:"draw-notary","root-class-name":"root-class-name",title:"Datos del solicitante",placement:"right",onAfterOpenChange:A},{default:f(()=>[c(Y,{onCloseDraw:L,updateValues:E.value},null,8,["updateValues"])]),_:1},8,["open"])],64)}}};export{le as default};
