import{D as M,r as c,a as te,k as K,S as ae,b as r,o as i,s as k,w as o,c as n,e as E,d as h,F as V,y as _e,h as $,v as D,E as pe,I as j,m as L,a5 as Ae,a8 as fe,t as H,i as P,a7 as me,g as he,H as ye,L as Te,B as ee,Q as Re,x as Ne,Z as Ye,R as Le,p as ze,j as qe}from"./index-3b90dc86.js";import{_ as Me}from"./icoexcel-1b303edf.js";import{u as ge}from"./selectes-67eb5033.js";import"./es-f9148833.js";import{_ as be}from"./_plugin-vue_export-helper-c27b6911.js";import{S as Fe}from"./SaveOutlined-63be6526.js";import{C as Be}from"./CloudUploadOutlined-a3955d58.js";import{M as Ve}from"./MessageOutlined-bd6e0363.js";import{M as Pe}from"./MoreOutlined-e286d4e4.js";const Ge={city_id:{type:"iSelect",label:"Región",name:"city_id",required:!0,message:"Seleccionar una región",disabled:!0},province_id:{type:"iSelect",label:"Provincia",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"Distrito",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},alliedEntity:{type:"iText",label:"Entidad Aliada",name:"alliedEntity",required:!0,message:"Escribir la entidad aliada",disabled:!0,max:100},homeOperations:{type:"iDate",label:"Fecha de suscripción del convenio",name:"homeOperations",required:!0,message:"Seleccionar fecha",disabled:!0},external:{type:"iSwitch",label:"CDE AGENTE EXTERNO",name:"external",required:!1,message:"Seleccionar",disabled:!0},startDate:{type:"iDate",label:"Inicio Convenio Vigente",name:"startDate",required:!0,message:"Seleccionar fecha de convenio vigente",disabled:!0},years:{type:"iSelect",label:"Número de años vigente",name:"years",required:!0,message:"Seleccionar años",disabled:!1},observations:{type:"iTextarea",label:"Observaciones",name:"observations",required:!1,message:"Seleccionar",disabled:!1}};const He={class:"grid-convenios"},je={key:5},Xe={key:0},Ze={key:1},ve="DD/MM/YYYY",Je={__name:"DrawConvenioUGO",props:["idConvenio"],emits:["closeDraw"],setup(R,{emit:F}){M.locale("es");const y=JSON.parse(localStorage.getItem("profile")),w=ge(),N=F,b=R;w.$patch({cities:w.cities}),w.$patch({provinces:w.provinces}),w.$patch({districts:w.districts}),w.fetchCities();const p=c(!1),I=c(!1),t=te({}),g=[{value:1,label:"1 Año"},{value:2,label:"2 Años"},{value:3,label:"3 Años"},{value:4,label:"4 Años"},{value:5,label:"5 Años"},{value:6,label:"6 Años"},{value:7,label:"7 Años"},{value:8,label:"8 Años"},{value:9,label:"9 Años"},{value:10,label:"10 Años"}],A=e=>{const s=M(t.startDate).add(1,"day").startOf("day");return M(e).startOf("day").isBefore(s,"day")},B=e=>{t.province_id=null,t.district_id=null,w.fetchProvinces(e)},Y=e=>{t.district_id=null,w.fetchDistricts(e)},O=(e,s)=>{const _=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return s.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(_)},z=()=>{t.city_id=null,t.province_id=null,t.district_id=null,t.alliedEntity=null,t.homeOperations=null,t.startDate=null,t.external=null,t.years=null,t.endDate=null,t.observations=null,t.created_id=y.user_id},U=async()=>{p.value=!0;const e={city_id:t.city_id,province_id:t.province_id,district_id:t.district_id,alliedEntity:t.alliedEntity,homeOperations:M(t.homeOperations).format("YYYY-MM-DD"),startDate:M(t.startDate).format("YYYY-MM-DD"),external:t.external,years:t.years,endDate:M(t.startDate).add(t.years,"year").format("YYYY-MM-DD"),observations:t.observations,created_id:y.user_id,entity:"ugo"};try{const s=b.idConvenio?"PUT":"POST",_=b.idConvenio?`agreement/update-values/${b.idConvenio.id}`:"agreement/create",f=await j({url:_,method:s,data:e});f.status==200&&(L.success(f.message),N("closeDraw",!0),z())}catch(s){L.error("Se originó un error: "+s.message)}finally{p.value=!1}},q=()=>{L.error("Debes de completar todos los espacios requeridos")},d=async e=>{e.id&&(t.city_id=e.city_id,B(e.city_id),t.province_id=e.province_id,Y(e.province_id),t.district_id=e.district_id,t.external=e.external,t.homeOperations=M(e.startOperations,"YYYY-MM-DD"),t.startDate=M(e.startDate,"YYYY-MM-DD"),t.years=e.years,t.observations=e.observations,t.alliedEntity=e.entity)};return K(()=>{b.idConvenio&&d(b.idConvenio)}),ae(()=>b.idConvenio,e=>{e?d(e):z()}),(e,s)=>{const _=r("a-input"),f=r("a-form-item"),G=r("a-select"),X=r("a-date-picker"),x=r("a-switch"),J=r("a-textarea"),T=r("a-button"),ne=r("a-form"),oe=r("a-spin");return i(),k(oe,{spinning:I.value},{default:o(()=>[n(ne,{layout:"vertical",model:t,name:"basic",autocomplete:"off",onFinish:U,onFinishFailed:q},{default:o(()=>[E("div",He,[(i(!0),h(V,null,_e($(Ge),(a,se)=>(i(),h(V,{key:se},[a.type==="iText"?(i(),k(f,{key:0,name:a.name,label:a.label,rules:[{required:a.required,message:a.message,max:a.max}]},{default:o(()=>[n(_,{value:t[a.name],"onUpdate:value":C=>t[a.name]=C,maxlength:a.max},null,8,["value","onUpdate:value","maxlength"])]),_:2},1032,["name","label","rules"])):D("",!0),a.type==="iSelect"?(i(),k(f,{key:1,class:"item-max",name:a.name,label:a.label,rules:[{required:a.required,message:a.message}]},{default:o(()=>[a.name=="city_id"?(i(),k(G,{key:0,value:t[a.name],"onUpdate:value":C=>t[a.name]=C,options:$(w).cities,"show-search":"","filter-option":O,onChange:B},null,8,["value","onUpdate:value","options"])):D("",!0),a.name=="province_id"?(i(),k(G,{key:1,value:t[a.name],"onUpdate:value":C=>t[a.name]=C,options:$(w).provinces,"show-search":"","filter-option":O,onChange:Y,disabled:!t.city_id},null,8,["value","onUpdate:value","options","disabled"])):D("",!0),a.name=="district_id"?(i(),k(G,{key:2,value:t[a.name],"onUpdate:value":C=>t[a.name]=C,options:$(w).districts,"show-search":"","filter-option":O,disabled:!t.province_id},null,8,["value","onUpdate:value","options","disabled"])):D("",!0),a.name=="years"?(i(),k(G,{key:3,value:t[a.name],"onUpdate:value":C=>t[a.name]=C,options:g,"show-search":"","filter-option":O},null,8,["value","onUpdate:value"])):D("",!0)]),_:2},1032,["name","label","rules"])):D("",!0),a.type==="iDate"?(i(),k(f,{key:2,name:a.name,label:a.label,rules:[{required:a.required,message:a.message}]},{default:o(()=>[a.name=="endDate"?(i(),k(X,{key:0,"disabled-date":A,locale:$(pe),disabled:!t.startDate,value:t[a.name],"onUpdate:value":C=>t[a.name]=C,style:{width:"100%"},format:ve,placeholder:"día/mes/año"},null,8,["locale","disabled","value","onUpdate:value"])):(i(),k(X,{key:1,locale:$(pe),value:t[a.name],"onUpdate:value":C=>t[a.name]=C,style:{width:"100%"},format:ve,placeholder:"día/mes/año"},null,8,["locale","value","onUpdate:value"]))]),_:2},1032,["name","label","rules"])):D("",!0),a.type==="iSwitch"?(i(),k(f,{key:3,name:a.name,label:a.label,rules:[{required:a.required,message:a.message}]},{default:o(()=>[n(x,{checked:t[a.name],"onUpdate:checked":C=>t[a.name]=C,"checked-children":"si","un-checked-children":"",checkedValue:1,unCheckedValue:0},null,8,["checked","onUpdate:checked"])]),_:2},1032,["name","label","rules"])):D("",!0),a.type==="iTextarea"?(i(),k(f,{key:4,name:a.name,label:a.label,rules:[{required:a.required,message:a.message}]},{default:o(()=>[n(J,{value:t[a.name],"onUpdate:value":C=>t[a.name]=C,rows:3},null,8,["value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):D("",!0),a.type==="iSpace"?(i(),h("span",je)):D("",!0)],64))),128))]),n(f,null,{default:o(()=>[n(T,{type:"primary","html-type":"submit",loading:p.value},{default:o(()=>[R.idConvenio?(i(),h("span",Xe,"ACTUALIZAR")):(i(),h("span",Ze,"GUARDAR"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])}}},Qe=be(Je,[["__scopeId","data-v-cbdeb7f4"]]);const Ke={class:"accion-icons"},We={key:0},et={key:1},tt={__name:"DrawAcciones",props:["idConvenio"],emits:["refreshTable"],setup(R,{emit:F}){const y=R,w=F,N=c([]),b=c(!0),p=c(null),I=c(""),t=c(!1);c(null);const g=te({description:null});K(()=>{y.idConvenio&&U(y.idConvenio)}),ae(()=>y.idConvenio,d=>{d&&U()});function A(d){p.value=d.id,I.value=d.description,me(()=>{q()})}function B(d){const e=N.value.findIndex(s=>s.id===d.id);e!==-1&&(N.value[e].description=I.value),p.value=null,O(d.id)}const Y=async d=>{try{const e=await j({url:`agreement/delete-acction/${d.id}`,method:"DELETE"});e.status==200&&(U(),L.success(e.message),w("refreshTable",!0))}catch(e){console.error("Error de red:",e)}},O=async d=>{try{const e={description:I.value},s=await j({url:`agreement/update/${d}`,method:"PUT",data:e});s.status==200&&(L.success(s.message),U())}catch(e){console.error("Error de red:",e)}},z=async()=>{try{const d={description:g.description,agreements_id:y.idConvenio},e=await j({url:"agreement/create-acction",method:"POST",data:d});e.status==200&&(L.success(e.message),w("refreshTable",!0),U(),g.description=null)}catch(d){console.error("Error de red:",d)}},U=async()=>{b.value=!0;try{const d=await j({url:`agreement/list/${y.idConvenio}`,method:"GET"});d.status==200&&(N.value=d.data)}catch{}finally{b.value=!1}},q=()=>{me(()=>{const d=document.getElementById("auto-resize");d.style.height="auto",d.style.height=d.scrollHeight+"px"})};return(d,e)=>{const s=r("a-textarea"),_=r("a-spin"),f=r("a-form-item"),G=r("a-button"),X=r("a-form");return i(),h("div",null,[n(_,{spinning:b.value},{default:o(()=>[(i(!0),h(V,null,_e(N.value,(x,J)=>(i(),h("div",{class:"acciones",key:J},[E("div",Ke,[n($(Ae),{class:"pointer ico-acc",onClick:T=>A(x)},null,8,["onClick"]),p.value===x.id?(i(),k($(Fe),{key:0,class:"pointer ico-save",onClick:T=>B(x)},null,8,["onClick"])):D("",!0),n($(fe),{class:"pointer ico-acc",onClick:T=>Y(x)},null,8,["onClick"])]),p.value===x.id?(i(),h("div",We,[n(s,{value:I.value,"onUpdate:value":e[0]||(e[0]=T=>I.value=T),onInput:q,id:"auto-resize"},null,8,["value"])])):(i(),h("p",et,H(x.description),1))]))),128))]),_:1},8,["spinning"]),n(X,{layout:"vertical",model:g,name:"basic",autocomplete:"off",onFinish:z},{default:o(()=>[n(f,{name:"description",label:"Registra una acción",rules:[{required:!0,message:"Escribir la descripción"}]},{default:o(()=>[n(s,{value:g.description,"onUpdate:value":e[1]||(e[1]=x=>g.description=x),maxlength:250,rows:4},null,8,["value"])]),_:1}),n(f,null,{default:o(()=>[n(G,{type:"primary","html-type":"submit",loading:t.value},{default:o(()=>[P("CREAR")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}};const at={__name:"DrawObservations",props:["idConvenio"],emits:["refreshTable"],setup(R,{emit:F}){const y=R,w=F;c([]);const N=c(!0);c(null),c("");const b=c(!1);c(null);const p=te({description:null});K(()=>{y.idConvenio&&t(y.idConvenio)}),ae(()=>y.idConvenio,g=>{g&&t()});const I=async()=>{b.value=!0;try{const g={observations:p.description},A=await j({url:`agreement/update-values/${y.idConvenio.id}`,method:"PUT",data:g});A.status==200&&(L.success(A.message),w("refreshTable",!0))}catch(g){console.error("Error de red:",g)}finally{b.value=!1}},t=async()=>{p.description=y.idConvenio.observations,p.description!=null&&(N.value=!1)};return(g,A)=>{const B=r("a-textarea"),Y=r("a-form-item"),O=r("a-button"),z=r("a-form"),U=r("a-spin");return i(),h("div",null,[n(U,{spinning:N.value},{default:o(()=>[n(z,{layout:"vertical",model:p,name:"basic",autocomplete:"off",onFinish:I},{default:o(()=>[n(Y,{name:"description",label:"Orbservaciones",rules:[{required:!0,message:"Escribir la descripción"}]},{default:o(()=>[n(B,{value:p.description,"onUpdate:value":A[0]||(A[0]=q=>p.description=q),rows:6},null,8,["value"])]),_:1}),n(Y,null,{default:o(()=>[n(O,{type:"primary","html-type":"submit",loading:b.value},{default:o(()=>[P("ACTUALIZAR")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])}}};const nt=E("div",{class:"agreements-file"},[E("b",null,"Formatos a subir"),E("span",null,"pdf, doc, docx, xls, xlsx, ppt, pptx"),E("span",null,"*(Máximo 20MB)")],-1),ot={class:"file-options"},st={style:{"line-height":"1.3"}},it=["onClick"],lt=["onClick"],rt={__name:"DrawFiles",props:["idConvenio"],setup(R){M.locale("es");const F=he.get("token"),y=R,w="https://apituempresa.soporte-pnte.com/api/",N="http://127.0.0.1:8000/api/",b=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?N:w,p=c(!1),I=c([]),t=c(null),g=c(null),A=ye(Te,{style:{fontSize:"20px"},spin:!0});K(()=>{y.idConvenio&&d(y.idConvenio)}),ae(()=>y.idConvenio,e=>{e&&d(e)});const B=e=>M(e).format("DD-MM-YYYY HH:mm"),Y=e=>(O(e),!1),O=async e=>{const s=new FormData;s.append("file",e),s.append("agreements_id",y.idConvenio),p.value=!0;try{const{data:_}=await ee.post(`${b}agreement/file`,s,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${F}`}});_.status==200&&(L.success(_.message),d(y.idConvenio))}catch{L.error("Error al subir este tipo de archivo")}finally{p.value=!1}},z=async e=>{t.value=e.uid;try{const s=await ee({url:`${b}agreement/file-download/${e.uid}`,method:"POST",responseType:"blob",headers:{Authorization:`Bearer ${F}`}}),_=window.URL.createObjectURL(new Blob([s.data])),f=document.createElement("a");f.href=_,f.setAttribute("download",e.name),document.body.appendChild(f),f.click(),window.URL.revokeObjectURL(_),document.body.removeChild(f)}catch(s){console.error("Error downloading file:",s)}finally{t.value=null}},U=e=>{e.file.status!=="uploading"&&console.log(e.file,e.fileList),e.file.status==="done"?(L.success(`${e.file.name} file uploaded successfully`),I.value=e.fileList.filter(s=>s.status!=="error")):e.file.status==="error"&&(L.error(`${e.file.name} file upload failed.`),I.value=e.fileList.filter(s=>s.uid!==e.file.uid))},q=async e=>{g.value=e.uid;try{const s=await j({url:`agreement/delete/file/${e.uid}`,method:"DELETE"});s.status==200&&(d(y.idConvenio),L.success(s.message))}catch(s){console.error("Error de red:",s)}finally{g.value=null}},d=async e=>{try{const{data:s}=await ee.get(`${b}agreement/list-files/${e}`,{headers:{Authorization:`Bearer ${F}`}});s.status===200&&(I.value=s.data.map(_=>({uid:_.id,name:_.name,status:"done",url:_.path,date:_.created_at})))}catch(s){console.error("Error fetching files:",s)}};return(e,s)=>{const _=r("a-button"),f=r("a-spin"),G=r("a-space"),X=r("a-upload");return i(),h("div",null,[nt,n(X,{"file-list":I.value,name:"file",onChange:U,"custom-request":O,"before-upload":Y},{itemRender:o(({file:x,actions:J})=>[n(G,{style:{margin:"0rem 0","font-size":"13px",width:"100%"}},{default:o(()=>[E("div",ot,[E("span",st,H(x.name),1),E("span",null,H(B(x.date)),1),t.value!=x.uid?(i(),h("a",{key:0,onClick:T=>z(x)},"Descargar",8,it)):(i(),k(f,{key:1,indicator:$(A)},null,8,["indicator"])),g.value==x.uid?(i(),k(f,{key:2,indicator:$(A)},null,8,["indicator"])):(i(),h("a",{key:3,onClick:T=>q(x),style:{color:"var(--error)"}},[n($(fe))],8,lt))])]),_:2},1024)]),default:o(()=>[n(_,{style:{"margin-bottom":".6rem"},loading:p.value},{default:o(()=>[n($(Be)),P(" SUBIR ARCHIVO ")]),_:1},8,["loading"])]),_:1},8,["file-list"])])}}};const de=R=>(ze("data-v-f8acf6fb"),R=R(),qe(),R),dt=de(()=>E("h3",{class:"title-produce"},"CONVENIOS UGO",-1)),ct=de(()=>E("img",{width:"20",style:{margin:"-2px 0 0 0"},src:Me},null,-1)),ut={key:0,class:"list-days"},pt={key:1,class:"list-days"},mt=["onClick"],vt=["onClick"],_t=de(()=>E("a",null,"Eliminar",-1)),ft={class:"paginator"},ht={__name:"ConvenioEstado",props:["idConvenio"],setup(R){M.locale("es"),JSON.parse(localStorage.getItem("profile")),ge();const F=he.get("token"),y="https://apituempresa.soporte-pnte.com/api/",w="http://127.0.0.1:8000/api/",N=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?w:y;c(null),c(null);const b=c(!1),p=c(null),I=c(0),t=c(50),g=c({page:0}),A=c(1200),B=c([]),Y=c(!1),O=c(!1),z=c(!1),U=c(!1),q=c(!1);c(null),c(null);const d=c(window.innerHeight-100),e=[{title:"#",dataIndex:"idx",fixed:"left",align:"center",width:70},{title:"REGIÓN",dataIndex:"city",fixed:"left",width:120},{title:"PROVINCIA",dataIndex:"province",fixed:"left",width:120},{title:"DISTRITO",dataIndex:"district",fixed:"left",width:140},{title:"ENTIDAD ALIADA",dataIndex:"entity",width:300},{title:"CDE AGENTE EXTERNO",dataIndex:"externo",width:100,align:"center"},{title:"FECHA DE SUSCRIPCIÓN DE CONVENIO",dataIndex:"startOperations",align:"center",width:180},{title:"INICIO DE CONVENIO VIGENTE",dataIndex:"startDate",align:"center",width:180},{title:"N° DE AÑOS VIGENTE",dataIndex:"years",width:120,align:"center"},{title:"FIN DEL CONVENIO",dataIndex:"endDate",align:"center",width:180},{title:"ESTADO",dataIndex:"status",align:"center",width:150},{title:"FECHA RESTANTE",dataIndex:"numbrestantes",align:"center",width:140},{title:"OBSERVACIONES",dataIndex:"observations",align:"center",width:140},{title:"",dataIndex:"actions",width:60,align:"center",fixed:"right"}],s=te({search:""}),_=()=>{let u={search:s.search};Z(u)},f=()=>{s.search||Z()},G=u=>{p.value=u,O.value=!0},X=u=>{p.value=u,U.value=!0},x=u=>M(u).format("DD/MM/YYYY"),J=u=>{p.value=u.id,q.value=!0},T=(u,l)=>{const S=new Date(u),Q=new Date,ie=S.getTime()-Q.getTime();return Math.floor(ie/(1e3*3600*24))+1},ne=u=>u<=0||u<20?"red":u<40?"#f9e717":"#11d811",oe=u=>{g.value.page=u,Z()},a=()=>{d.value=window.innerHeight-320},se=()=>{p.value=null,O.value=!0},C=u=>{Z(),u==1&&(O.value=!1,p.value=null),u==2&&(z.value=!1),u==4&&(U.value=!1),p.value=null},Ce=async u=>{try{const l=await j({url:`agreement/delete/${u.id}`,method:"DELETE"});l.status==200&&(Z(),L.success(l.message))}catch(l){console.error("Error de red:",l)}},De=Re(()=>u=>g.value.page*t.value+u+1),Z=async u=>{try{Y.value=!0;let l;l=g.value.page==0?"":g.value,l=u?{...l,...u}:l;const{data:S}=await j({url:"agreement/list/ugo",method:"GET",params:l});B.value=S==null?void 0:S.data,I.value=S.total,t.value=S.per_page}catch(l){console.error("Error de red:",l)}finally{Y.value=!1}},we=async()=>{b.value=!0;try{const u=await ee({url:`${N}agreement/download`,method:"GET",responseType:"blob",headers:{Authorization:`Bearer ${F}`}}),l=window.URL.createObjectURL(new Blob([u.data])),S=document.createElement("a"),Q="convenios.xlsx";S.href=l,S.setAttribute("download",Q),document.body.appendChild(S),S.click(),window.URL.revokeObjectURL(l),document.body.removeChild(S)}catch(u){console.error("Error downloading file:",u)}finally{b.value=!1}};return Ne(()=>{window.removeEventListener("resize",a)}),K(()=>{window.addEventListener("resize",a),a(),Z()}),(u,l)=>{const S=r("a-button"),Q=r("a-col"),ie=r("a-input"),ce=r("a-input-group"),xe=r("a-row"),ue=r("a-tag"),ke=r("a-progress"),le=r("a-menu-item"),Ee=r("a-popconfirm"),Ie=r("a-menu"),Se=r("a-dropdown"),Oe=r("a-table"),Ue=r("a-pagination"),W=r("a-drawer");return i(),h(V,null,[E("div",null,[dt,n(xe,{style:{margin:"1rem 0"}},{default:o(()=>[n(Q,{xs:24,md:12,lg:18},{default:o(()=>[n(S,{type:"primary",onClick:se,style:{"margin-right":".5rem"}},{default:o(()=>[P("NUEVO")]),_:1}),n(S,{class:"btn-excel",onClick:we,loading:b.value,type:"primary"},{default:o(()=>[ct]),_:1},8,["loading"])]),_:1}),n(Q,{xs:24,md:12,lg:6},{default:o(()=>[n(ce,{compact:""},{default:o(()=>[n(ie,{value:s.search,"onUpdate:value":l[0]||(l[0]=m=>s.search=m),style:{width:"calc(100% - 80px)"},onInput:f},null,8,["value"]),n(S,{type:"primary",disabled:s.search==="",onClick:_},{default:o(()=>[P("BUSCAR")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),n(Oe,{bordered:"",scroll:{x:A.value,y:d.value},class:"table-agreements",columns:e,"data-source":B.value,pagination:!1,loading:Y.value,size:"small"},{headerCell:o(({column:m})=>[]),bodyCell:o(({column:m,record:v,index:$e})=>[m.dataIndex=="idx"?(i(),h(V,{key:0},[P(H(De.value($e)),1)],64)):D("",!0),m.dataIndex=="externo"?(i(),h(V,{key:1},[v.external==1?(i(),k(ue,{key:0,color:"cyan"},{default:o(()=>[P("Externo")]),_:1})):D("",!0)],64)):D("",!0),m.dataIndex=="startOperations"?(i(),h(V,{key:2},[P(H(x(v.startOperations)),1)],64)):D("",!0),m.dataIndex=="startDate"?(i(),h(V,{key:3},[P(H(x(v==null?void 0:v.startDate)),1)],64)):D("",!0),m.dataIndex=="endDate"?(i(),h(V,{key:4},[P(H(x(v==null?void 0:v.endDate)),1)],64)):D("",!0),m.dataIndex=="numbrestantes"?(i(),h(V,{key:5},[T(v.endDate,v.startDate)>=1?(i(),h("p",ut,H(T(v.endDate,v.startDate))+" días faltantes",1)):(i(),h("p",pt,H(T(v.endDate,v.startDate))+" días vencidos",1))],64)):D("",!0),m.dataIndex=="status"?(i(),k(ke,{key:6,style:{margin:"0"},percent:T(v.endDate,v.startDate),size:4,showInfo:!1,strokeColor:ne(T(v.endDate,v.startDate))},null,8,["percent","strokeColor"])):D("",!0),m.dataIndex=="observations"?(i(),h(V,{key:7},[v!=null&&v.observations?(i(),k($(Ve),{key:0,class:"observation-icon",onClick:re=>X(v)},null,8,["onClick"])):D("",!0)],64)):D("",!0),m.dataIndex=="actions"?(i(),k(Se,{key:8,trigger:["click"]},{overlay:o(()=>[n(Ie,null,{default:o(()=>[n(le,null,{default:o(()=>[E("a",{onClick:re=>J(v)},"Archivos",8,mt)]),_:2},1024),n(le,null,{default:o(()=>[E("a",{onClick:re=>G(v)},"Editar",8,vt)]),_:2},1024),n(le,null,{default:o(()=>[n(Ee,{title:"¿Seguro de eliminar?",onConfirm:re=>Ce(v)},{icon:o(()=>[n($(Ye),{style:{color:"red"}})]),default:o(()=>[_t]),_:2},1032,["onConfirm"])]),_:2},1024)]),_:2},1024)]),default:o(()=>[E("a",{class:"ant-dropdown-link",onClick:l[1]||(l[1]=Le(()=>{},["prevent"]))},[n(S,{shape:"circle",icon:ye($(Pe)),size:"small"},null,8,["icon"])])]),_:2},1024)):D("",!0)]),_:1},8,["scroll","data-source","loading"])]),E("div",ft,[E("span",null,[n(ue,{color:"blue"},{default:o(()=>[E("b",null,H(I.value),1)]),_:1}),P("Convenios")]),n(Ue,{size:"small",total:I.value,pageSize:t.value,onChange:oe,showSizeChanger:!1},null,8,["total","pageSize"])]),n(W,{open:O.value,"onUpdate:open":l[3]||(l[3]=m=>O.value=m),"root-class-name":"root-class-name",title:"Convenios",placement:"right",width:"650"},{default:o(()=>[n(Qe,{idConvenio:p.value,onCloseDraw:l[2]||(l[2]=m=>C(1))},null,8,["idConvenio"])]),_:1},8,["open"]),n(W,{open:z.value,"onUpdate:open":l[6]||(l[6]=m=>z.value=m),title:"Acciones",placement:"right",width:"550"},{default:o(()=>[n(tt,{idConvenio:p.value,onCloseDraw:l[4]||(l[4]=m=>C(2)),onRefreshTable:l[5]||(l[5]=m=>Z())},null,8,["idConvenio"])]),_:1},8,["open"]),n(W,{open:q.value,"onUpdate:open":l[8]||(l[8]=m=>q.value=m),title:"Cargar Archivos",placement:"right",width:"550"},{default:o(()=>[n(rt,{idConvenio:p.value,onCloseDraw:l[7]||(l[7]=m=>C(3))},null,8,["idConvenio"])]),_:1},8,["open"]),n(W,{open:U.value,"onUpdate:open":l[11]||(l[11]=m=>U.value=m),title:"Observaciones",placement:"right",width:"550"},{default:o(()=>[n(at,{idConvenio:p.value,onCloseDraw:l[9]||(l[9]=m=>C(4)),onRefreshTable:l[10]||(l[10]=m=>Z())},null,8,["idConvenio"])]),_:1},8,["open"])],64)}}},It=be(ht,[["__scopeId","data-v-f8acf6fb"]]);export{It as default};
