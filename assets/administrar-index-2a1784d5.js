import{c as a,A as q,E as Q,r as b,k as W,b as c,o as d,d as O,y as w,w as s,e,t as p,i as M,ae as fe,F,m as j,a as ce,j as x,z as k,v as Z,x as K,h as pe,s as ye,af as be,ab as he}from"./index-3d734e37.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{S as xe}from"./ShopOutlined-e8b18e26.js";import{T as we}from"./TeamOutlined-99eb810f.js";import{_ as Oe}from"./icoexcel-1b303edf.js";import{d as Se}from"./downloadExcel-2af544bd.js";import{S as ke}from"./SyncOutlined-8cbb0db5.js";var $e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908 640H804V488c0-4.4-3.6-8-8-8H548v-96h108c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h108v96H228c-4.4 0-8 3.6-8 8v152H116c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16H292v-88h440v88H620c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16zm-564 76v168H176V716h168zm84-408V140h168v168H428zm420 576H680V716h168v168z"}}]},name:"apartment",theme:"outlined"};const Ce=$e;function oe(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(l).filter(function(u){return Object.getOwnPropertyDescriptor(l,u).enumerable}))),o.forEach(function(u){Ee(i,u,l[u])})}return i}function Ee(i,n,l){return n in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}var ee=function(n,l){var o=oe({},n,l.attrs);return a(q,oe({},o,{icon:Ce}),null)};ee.displayName="ApartmentOutlined";ee.inheritAttrs=!1;const me=ee;var Pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"};const ze=Pe;function re(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(l).filter(function(u){return Object.getOwnPropertyDescriptor(l,u).enumerable}))),o.forEach(function(u){Ie(i,u,l[u])})}return i}function Ie(i,n,l){return n in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}var te=function(n,l){var o=re({},n,l.attrs);return a(q,re({},o,{icon:ze}),null)};te.displayName="BarChartOutlined";te.inheritAttrs=!1;const Ae=te;var De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z"}}]},name:"dashboard",theme:"outlined"};const Le=De;function ie(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(l).filter(function(u){return Object.getOwnPropertyDescriptor(l,u).enumerable}))),o.forEach(function(u){Te(i,u,l[u])})}return i}function Te(i,n,l){return n in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}var ae=function(n,l){var o=ie({},n,l.attrs);return a(q,ie({},o,{icon:Le}),null)};ae.displayName="DashboardOutlined";ae.inheritAttrs=!1;const Me=ae;var je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const Ue=je;function ue(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(l).filter(function(u){return Object.getOwnPropertyDescriptor(l,u).enumerable}))),o.forEach(function(u){Ne(i,u,l[u])})}return i}function Ne(i,n,l){return n in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}var ne=function(n,l){var o=ue({},n,l.attrs);return a(q,ue({},o,{icon:Ue}),null)};ne.displayName="DotChartOutlined";ne.inheritAttrs=!1;const Re=ne;var Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 264c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48zm-8 136H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM480 544H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 308H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm356.8-74.4c29-26.3 47.2-64.3 47.2-106.6 0-79.5-64.5-144-144-144s-144 64.5-144 144c0 42.3 18.2 80.3 47.2 106.6-57 32.5-96.2 92.7-99.2 162.1-.2 4.5 3.5 8.3 8 8.3h48.1c4.2 0 7.7-3.3 8-7.6C564 871.2 621.7 816 692 816s128 55.2 131.9 124.4c.2 4.2 3.7 7.6 8 7.6H880c4.6 0 8.2-3.8 8-8.3-2.9-69.5-42.2-129.6-99.2-162.1zM692 591c44.2 0 80 35.8 80 80s-35.8 80-80 80-80-35.8-80-80 35.8-80 80-80z"}}]},name:"solution",theme:"outlined"};const He=Ve;function de(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(l).filter(function(u){return Object.getOwnPropertyDescriptor(l,u).enumerable}))),o.forEach(function(u){Be(i,u,l[u])})}return i}function Be(i,n,l){return n in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}var se=function(n,l){var o=de({},n,l.attrs);return a(q,de({},o,{icon:He}),null)};se.displayName="SolutionOutlined";se.inheritAttrs=!1;const Fe=se;const Ge={class:"stat-card blue"},qe={class:"stat-info"},Qe={class:"stat-value"},We={class:"stat-icon-wrapper light-blue"},Je={class:"stat-card green"},Xe={class:"stat-info"},Ye={class:"stat-value"},Ze={class:"stat-icon-wrapper light-green"},Ke={class:"stat-card purple"},et={class:"stat-info"},tt={class:"stat-value"},at={class:"stat-icon-wrapper light-purple"},nt={class:"stat-card orange"},st={class:"stat-info"},lt={class:"stat-value"},ot={class:"stat-icon-wrapper light-orange"},rt={__name:"principal-index",setup(i){const n=Q(),l=b(null),o=async()=>{try{let f=`events-ugse/cyberwow-count-principal-panel/${n.params.slug}`;const m=await j({url:f,method:"GET"});l.value=m.data}catch(u){console.error("Error de red:",u)}};return W(async()=>{await o()}),(u,f)=>{const m=c("a-skeleton"),P=c("a-col"),z=c("a-row"),U=c("a-progress"),D=c("a-card");return d(),O(F,null,[l.value?(d(),w(z,{key:1,gutter:[16,16]},{default:s(()=>[a(P,{xs:24,sm:12,md:6},{default:s(()=>[e("div",Ge,[e("div",qe,[f[0]||(f[0]=e("p",{class:"stat-label"},"Total Empresas",-1)),e("h2",Qe,p(l.value.total_empresas),1)]),e("div",We,[a(M(xe))])])]),_:1}),a(P,{xs:24,sm:12,md:6},{default:s(()=>[e("div",Je,[e("div",Xe,[f[1]||(f[1]=e("p",{class:"stat-label"},"Empresas Asignadas",-1)),e("h2",Ye,p(l.value.empresas_asignadas),1)]),e("div",Ze,[a(M(Fe))])])]),_:1}),a(P,{xs:24,sm:12,md:6},{default:s(()=>[e("div",Ke,[e("div",et,[f[2]||(f[2]=e("p",{class:"stat-label"},"Perfiles Completados",-1)),e("h2",tt,p(l.value.perfiles_completados),1)]),e("div",at,[a(M(fe))])])]),_:1}),a(P,{xs:24,sm:12,md:6},{default:s(()=>[e("div",nt,[e("div",st,[f[3]||(f[3]=e("p",{class:"stat-label"},"Líderes Activos",-1)),e("h2",lt,p(l.value.lideres_activos),1)]),e("div",ot,[a(M(we))])])]),_:1})]),_:1})):(d(),w(m,{key:0,active:""})),a(z,{gutter:[16,16],class:"section-row"},{default:s(()=>[a(P,{xs:24,md:12},{default:s(()=>[a(D,{title:"Progreso de Completación"},{default:s(()=>[f[4]||(f[4]=e("div",{class:"mb-2"},"Perfiles Completados",-1)),a(U,{percent:0,status:"active","stroke-color":"#52c41a"}),f[5]||(f[5]=e("div",{class:"mt-4 flex justify-between"},[e("div",{class:"box-completed"},[e("h2",null,"0"),e("p",null,"Completados")]),e("div",{class:"box-pending"},[e("h2",null,"0"),e("p",null,"Pendientes")])],-1))]),_:1})]),_:1}),a(P,{xs:24,md:12},{default:s(()=>[a(D,{title:"Actividad Reciente"})]),_:1})]),_:1})],64)}}},it=G(rt,[["__scopeId","data-v-1e770b18"]]);const ut={class:"empresas-wrapper"},dt={class:"empresas-container"},ct={class:"filters"},pt={class:"filters-actions"},mt={class:"summary-card total"},vt={class:"summary-card red"},_t={class:"summary-card yellow"},gt={key:1,class:"company-decription"},ft={key:2,class:"company-decription"},yt={key:4,class:"progress-cell"},bt={__name:"empresas-administrar",setup(i){const n=Q(),l=b([]),o=b(null),u=b([]),f=b(!0),m=ce({name:null,typeStatus:"no_asignados"}),P=[{title:"EMPRESA",dataIndex:"empresa",key:"empresa",width:"300px"},{title:"EMPRESARIO",dataIndex:"empresario",key:"empresario",width:"300px"},{title:"ESTADO",dataIndex:"estado",key:"estado",align:"center",width:"200px"},{title:"LÍDER",dataIndex:"lider",key:"lider",align:"center",width:"400px"}],z=(g,_)=>{const E=g.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return _.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(E)},U=async(g,_)=>{try{const E=n.params.slug,A=await j({url:"events-ugse/a-company-to-leader",method:"PUT",data:{slug:E,user_id:g,company_id:_}});console.log("response",A),A.status==200&&await C()}catch(E){console.error("Error de red:",E)}},D=async()=>{await v()},C=async()=>{try{let _=`events-ugse/cyberwow-company-count/${n.params.slug}`;const E=await j({url:_,method:"GET"});o.value=E}catch(g){console.error("Error de red:",g)}},r=async()=>{try{let _=`select/get-all-leaders-wow/${n.params.slug}`;const E=await j({url:_,method:"GET"});l.value=[{label:"*** QUITAR SELECCIÓN ***",value:"none"},...E.data]}catch(g){console.error("Error de red:",g)}},v=async()=>{try{const g={name:m.name,typeStatus:m.typeStatus};let E=`events-ugse/cyber-wow-list-assistants/${n.params.slug}`;const y=(await j({url:E,method:"GET",params:g})).data.data;u.value=y}catch(g){console.error("Error de red:",g)}finally{f.value=!1}};return W(async()=>{await r(),await C(),await v()}),(g,_)=>{const E=c("a-input-search"),N=c("a-select-option"),y=c("a-select"),A=c("a-skeleton"),t=c("a-col"),L=c("a-row"),S=c("a-tag"),I=c("a-form-item"),V=c("a-progress"),R=c("a-table");return d(),O("div",ut,[e("div",dt,[e("div",ct,[a(E,{value:m.name,"onUpdate:value":_[0]||(_[0]=$=>m.name=$),placeholder:"Buscar por nombre, RUC o DNI...",style:{"max-width":"300px"},onSearch:D},null,8,["value"]),e("div",pt,[a(y,{value:m.typeStatus,"onUpdate:value":_[1]||(_[1]=$=>m.typeStatus=$),style:{width:"160px"},onChange:D},{default:s(()=>[a(N,{value:"todos"},{default:s(()=>_[2]||(_[2]=[x("Todos los estados")])),_:1}),a(N,{value:"asignados"},{default:s(()=>_[3]||(_[3]=[x("Asignados")])),_:1}),a(N,{value:"no_asignados"},{default:s(()=>_[4]||(_[4]=[x("No Asignados")])),_:1})]),_:1},8,["value"])])]),o.value?(d(),w(L,{key:1,gutter:[16,16],class:"summary-row"},{default:s(()=>[a(t,{xs:24,sm:12,md:6},{default:s(()=>{var $;return[e("div",mt,[_[5]||(_[5]=e("p",null,"Total",-1)),e("h2",null,p(($=o.value)==null?void 0:$.total),1)])]}),_:1}),a(t,{xs:24,sm:12,md:6},{default:s(()=>{var $;return[e("div",vt,[_[6]||(_[6]=e("p",null,"No Asignadas",-1)),e("h2",null,p(($=o.value)==null?void 0:$.no_asignadas),1)])]}),_:1}),a(t,{xs:24,sm:12,md:6},{default:s(()=>{var $;return[e("div",_t,[_[7]||(_[7]=e("p",null,"Asignadas",-1)),e("h2",null,p(($=o.value)==null?void 0:$.asignadas),1)])]}),_:1})]),_:1})):(d(),w(A,{key:0,active:""})),a(R,{columns:P,"data-source":u.value,"row-key":"id",bordered:"",class:"empresas-table",pagination:{pageSize:100},loading:f.value},{bodyCell:s(({column:$,record:T})=>[$.dataIndex==="estado"?(d(),w(S,{key:0,color:"orange"},{default:s(()=>_[8]||(_[8]=[x("Por completar")])),_:1})):k("",!0),$.dataIndex==="empresa"?(d(),O("div",gt,[e("b",null,p(T.razonSocial),1),e("span",null,p(T.ruc),1)])):k("",!0),$.dataIndex==="empresario"?(d(),O("div",ft,[e("b",null,p(T.name)+" "+p(T.lastname)+" "+p(T.middlename),1),e("span",null,p(T.documentnumber),1)])):k("",!0),$.dataIndex==="lider"?(d(),w(I,{key:3},{default:s(()=>[a(y,{value:T.user_id,"onUpdate:value":B=>T.user_id=B,"show-search":"",options:l.value,"filter-option":z,onChange:B=>U(T.user_id,T.id),placeholder:"Seleccionar lider",class:"leader-name"},null,8,["value","onUpdate:value","options","onChange"])]),_:2},1024)):k("",!0),$.dataIndex==="progreso"?(d(),O("div",yt,[a(V,{percent:T.progreso/10*100,"show-info":!1,"stroke-color":"#1890ff",style:{width:"80px"}},null,8,["percent"]),e("span",null,p(T.progreso)+"/10",1)])):k("",!0)]),_:1},8,["data-source","loading"])])])}}},ht=G(bt,[["__scopeId","data-v-887744d6"]]);const xt={class:"header-actions"},wt={class:"leader-info"},Ot={style:{"font-weight":"500"}},St={class:"selected-count"},kt={__name:"LideresUgse",setup(i){const n=Q(),l=b([]),o=b([]),u=b([]),f=["#52c41a","#1890ff","#722ed1","#fa8c16","#13c2c2","#eb2f96","#a0d911","#2f54eb","#fa541c","#faad14","#73d13d","#ff4d4f"],m=new Set;function P(){for(let v of f)if(!m.has(v))return m.add(v),v;let r;do r="#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0");while(m.has(r));return m.add(r),r}const z=(r,v)=>{const g=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return v.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(g)};function U(r){const v=l.value.find(g=>g.value===r);v&&!o.value.some(g=>g.id===r)&&o.value.push({id:v.value,name:v.label,office:v.office,initial:v.label.charAt(0).toUpperCase(),color:P()})}const D=async r=>{try{const v={user_id:r.target.value,slug:n.params.slug},g=await j({url:"events-ugse/select-leader-for-this-event",method:"PUT",data:v});if(g.status==409)return pe.error(g.message);console.log("asignado")}catch(v){console.error("Error de red:",v)}},C=async()=>{try{const r=await j({url:"select/all-users-pnte",method:"GET"}),{data:v}=r;l.value=v.map(g=>({label:g.label,value:g.value,office:g.office}))}catch(r){console.error("Error de red:",r)}};return W(async()=>{await C()}),(r,v)=>{const g=c("a-select"),_=c("a-avatar"),E=c("a-checkbox"),N=c("a-checkbox-group");return d(),O("div",null,[e("div",xt,[v[1]||(v[1]=e("span",null,"Seleccionar Líderes Disponibles",-1)),a(g,{"show-search":"",placeholder:"Buscar líder...",style:{width:"100%"},options:l.value,"filter-option":z,onSelect:U},null,8,["options"])]),a(N,{value:u.value,"onUpdate:value":v[0]||(v[0]=y=>u.value=y),style:{width:"100%"}},{default:s(()=>[(d(!0),O(F,null,Z(o.value,y=>(d(),O("div",{key:y.id,class:"leader-item"},[a(E,{value:y.id,onChange:D},{default:s(()=>[e("div",wt,[a(_,{style:K({backgroundColor:y.color})},{default:s(()=>[x(p(y.initial),1)]),_:2},1032,["style"]),e("div",null,[e("b",Ot,p(y.name),1),e("div",null,p(y.office),1)])])]),_:2},1032,["value"])]))),128))]),_:1},8,["value"]),e("div",St,p(u.value.length)+" líderes seleccionados ",1)])}}},$t=G(kt,[["__scopeId","data-v-b029f17a"]]);const Ct={class:"reportes-wrapper"},Et={class:"reportes-container"},Pt={style:{display:"flex","align-items":"center","justify-content":"space-between"}},zt={key:0,class:"lider-cell"},It={style:{"font-size":"13px"}},At={key:1,class:"text-green"},Dt={key:2,class:"text-yellow"},Lt={key:3},Tt={__name:"reportes-index",setup(i){const n=Q();b("7"),b("completacion");const l=b(!1),o=b(!0),u=b(!1),f=b([]),m=b([{value:"cmf",label:"Cynthia Marisol Molero Flores"},{value:"eco",label:"Erika Lisbeth Choy Ortiz"},{value:"hqp",label:"Hannah Maria Qwistgaard Paniccia"},{value:"kps",label:"Kathia Iris Pinedo Saona"}]),P=[{title:"LÍDER",dataIndex:"lider",key:"lider",width:400},{title:"ASIGNADAS",dataIndex:"asignadas",key:"asignadas",align:"center"},{title:"COMPLETADAS",dataIndex:"completadas",key:"completadas",align:"center"},{title:"PENDIENTES",dataIndex:"pendientes",key:"pendientes",align:"center"},{title:"% COMPLETADOS",dataIndex:"tasa",key:"tasa",align:"center"},{title:"SUPERVISOR",dataIndex:"supervisor",key:"supervisor",align:"center",width:320}],z=async C=>{const r={supervisor:C.supervisor,slug:n.params.slug,user_id:C.id};try{const g=await j({url:"events-ugse/update-leader-supervisor",method:"PUT",data:r});g.status==200&&console.log("Supervisor actualizado con éxito:",g.data)}catch(v){console.error("Error de red:",v)}},U=async()=>{l.value=!0;try{let r=`download/resumen-by-users/${n.params.slug}`;await Se(r,"resumen-por-usuario")}catch(C){console.error("Error de red:",C)}finally{l.value=!1}},D=async()=>{o.value=!0;try{let r=`events-ugse/cyberwow-leaders-report/${n.params.slug}`;const v=await j({url:r,method:"GET"});v.status==200&&(f.value=v.data)}catch(C){console.error("Error de red:",C)}finally{o.value=!1}};return W(async()=>{await D()}),(C,r)=>{const v=c("a-col"),g=c("a-row"),_=c("a-button"),E=c("a-avatar"),N=c("a-progress"),y=c("a-tag"),A=c("a-select"),t=c("a-table"),L=c("a-drawer");return d(),O(F,null,[e("div",Ct,[e("div",Et,[a(g,{gutter:[16,16],class:"summary-row"},{default:s(()=>[a(v,{xs:24,sm:12,md:6},{default:s(()=>r[3]||(r[3]=[e("div",{class:"summary-card light-green"},[e("p",null,"Total Completadas"),e("h2",null,"0")],-1)])),_:1}),a(v,{xs:24,sm:12,md:6},{default:s(()=>r[4]||(r[4]=[e("div",{class:"summary-card light-yellow"},[e("p",null,"Total Pendientes"),e("h2",null,"0")],-1)])),_:1}),a(v,{xs:24,sm:12,md:6},{default:s(()=>r[5]||(r[5]=[e("div",{class:"summary-card light-blue"},[e("p",null,"Tasa Promedio"),e("h2",null,"0%")],-1)])),_:1}),a(v,{xs:24,sm:12,md:6},{default:s(()=>r[6]||(r[6]=[e("div",{class:"summary-card light-purple"},[e("p",null,"Tiempo Promedio"),e("h2",null,"0d")],-1)])),_:1})]),_:1}),e("div",Pt,[r[9]||(r[9]=e("h3",{class:"table-title"},"Reporte Detallado por Líder",-1)),e("div",null,[a(_,{icon:ye(M(ke)),onClick:r[0]||(r[0]=S=>D())},null,8,["icon"]),a(_,{style:{margin:"0 10px"},class:"btn-excel",onClick:U,loading:l.value,type:"primary"},{default:s(()=>r[7]||(r[7]=[e("img",{width:"20",style:{margin:"-2px 4px 0 0"},src:Oe},null,-1)])),_:1},8,["loading"]),a(_,{type:"primary",onClick:r[1]||(r[1]=S=>u.value=!0)},{default:s(()=>r[8]||(r[8]=[x("+ Agregar Líder")])),_:1})])]),a(t,{columns:P,"data-source":f.value,bordered:"","row-key":"id",pagination:!1,class:"reportes-table",loading:o.value},{bodyCell:s(({column:S,record:I})=>[S.dataIndex==="lider"?(d(),O("div",zt,[a(E,{style:K([{backgroundColor:I.color},{width:"30px",height:"30px","margin-right":"10px"}])},{default:s(()=>[x(p(I.nombre.charAt(0)),1)]),_:2},1032,["style"]),e("span",It,p(I.nombre),1)])):k("",!0),S.dataIndex==="completadas"?(d(),O("span",At,p(I.completadas),1)):k("",!0),S.dataIndex==="pendientes"?(d(),O("span",Dt,p(I.pendientes),1)):k("",!0),S.dataIndex==="tasa"?(d(),O("div",Lt,[a(N,{percent:I.tasa,"show-info":!1,"stroke-color":"#1890ff",style:{width:"120px"}},null,8,["percent"]),e("span",null,p(I.tasa)+"%",1)])):k("",!0),S.dataIndex==="productividad"?(d(),O(F,{key:4},[I.productividad==="Alta"?(d(),w(y,{key:0,color:"green"},{default:s(()=>r[10]||(r[10]=[x("Alta")])),_:1})):I.productividad==="Media"?(d(),w(y,{key:1,color:"gold"},{default:s(()=>r[11]||(r[11]=[x("Media")])),_:1})):(d(),w(y,{key:2,color:"red"},{default:s(()=>r[12]||(r[12]=[x("Baja")])),_:1}))],64)):k("",!0),S.dataIndex==="supervisor"?(d(),w(A,{key:5,value:I.supervisor,"onUpdate:value":V=>I.supervisor=V,placeholder:"Selecciona un supervisor",style:{width:"100%"},options:m.value,onChange:V=>z(I)},null,8,["value","onUpdate:value","options","onChange"])):k("",!0)]),_:1},8,["data-source","loading"])])]),a(L,{width:"500",title:"",open:u.value,"onUpdate:open":r[2]||(r[2]=S=>u.value=S),placement:"right"},{default:s(()=>[a($t)]),_:1},8,["open"])],64)}}},Mt=G(Tt,[["__scopeId","data-v-b1adef84"]]);const jt={class:"followup-companies-list"},Ut={style:{"margin-top":"60px"}},Nt={key:1},Rt={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Vt={style:{"margin-bottom":"0"}},Ht={style:{color:"#777","margin-bottom":"8px"}},Bt={style:{"text-align":"right",position:"relative"}},Ft={style:{"margin-bottom":"0"}},Gt={style:{"margin-bottom":"0"}},qt={key:1,class:"followup-brand"},Qt=["href"],Wt={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"16px"}},Jt={class:"seguimiento-tag-productos"},Xt=["href"],Yt=["src"],Zt={class:"product-card"},Kt={class:"product-name"},ea={style:{color:"#777","margin-bottom":"4px"}},ta={style:{color:"#777","margin-bottom":"12px"}},aa={style:{display:"flex","align-items":"center","justify-content":"space-between"}},na={style:{"text-decoration":"line-through",color:"#999","margin-bottom":"0"}},sa={style:{color:"#389e0d","font-weight":"bold","font-size":"16px",margin:"0"}},la={__name:"seguimiento-index",setup(i){const n=ce({supervisor:"",leader:""}),l=b(!1),o=b(!1),u=b(null),f=b([]),m=b(null),P=be.PRESENTED_IMAGE_SIMPLE,z=Q(),U=b(!1),D=b([]),C=b([]),r=b([{value:"cmf",label:"Cynthia Marisol Molero Flores"},{value:"eco",label:"Erika Lisbeth Choy Ortiz"},{value:"hqp",label:"Hannah Maria Qwistgaard Paniccia"},{value:"kps",label:"Kathia Iris Pinedo Saona"}]),v=async()=>{if(!n.leader)return pe.error("Por favor, seleccione un asesor.");U.value=!0;const A={slug:z.params.slug,user_id:n.leader};try{const L=await j({url:"events-ugse/follow-up-leader-to-company",method:"POST",data:A});C.value=L.data}catch(t){console.error("Error de red:",t)}finally{U.value=!1}},g=async()=>{D.value=[],n.leader=null,m.value=null,C.value=[];const A={supervisor:n.supervisor,slug:z.params.slug};try{const L=await j({url:"events-ugse/get-list-leaders-supervisor",method:"POST",data:A});D.value=L.data}catch(t){console.error("Error de red:",t)}},_=()=>{y.value=="2"?E():y.value=="3"&&N()},E=async()=>{o.value=!0,u.value=null;const A={slug:z.params.slug,company_id:m.value.id};try{const L=await j({url:"events-ugse/follow-up-leader-to-brand",method:"POST",data:A});u.value=L.data}catch(t){console.error("Error de red:",t)}finally{o.value=!1}},N=async()=>{l.value=!0,f.value=[];const A={slug:z.params.slug,company_id:m.value.id};try{const L=await j({url:"events-ugse/follow-up-leader-to-products",method:"POST",data:A});f.value=L.data}catch(t){console.error("Error de red:",t)}finally{l.value=!1}},y=b("1");return(A,t)=>{const L=c("a-select"),S=c("a-col"),I=c("a-button"),V=c("a-row"),R=c("a-card"),$=c("a-badge-ribbon"),T=c("a-avatar"),B=c("a-tab-pane"),ve=c("a-tabs"),J=c("a-empty"),_e=c("a-image"),X=c("a-spin"),ge=c("a-layout");return d(),w(ge,{style:{background:"#f5f7fa",padding:"24px","min-height":"100vh"}},{default:s(()=>[t[38]||(t[38]=e("div",null,[e("h1",{style:{"font-weight":"700","font-size":"24px","margin-bottom":"4px"}},"Empresas"),e("p",{style:{color:"#666"}},"Seguimiento y validación de empresas, marcas y productos")],-1)),a(V,{gutter:[16,16],style:{"margin-top":"16px","margin-bottom":"8px"}},{default:s(()=>[a(S,{xs:24,md:6},{default:s(()=>[a(L,{value:n.supervisor,"onUpdate:value":t[0]||(t[0]=h=>n.supervisor=h),placeholder:"Selecciona un supervisor",style:{width:"100%"},options:r.value,onChange:g},null,8,["value","options"])]),_:1}),a(S,{xs:24,md:6},{default:s(()=>[a(L,{value:n.leader,"onUpdate:value":t[1]||(t[1]=h=>n.leader=h),placeholder:"Selecciona un asesor",style:{width:"100%"},options:D.value},null,8,["value","options"])]),_:1}),a(S,{xs:24,md:4},{default:s(()=>[a(I,{type:"primary",block:"",onClick:v,loading:U.value},{default:s(()=>t[3]||(t[3]=[x("Buscar")])),_:1},8,["loading"])]),_:1})]),_:1}),a(X,{spinning:U.value},{default:s(()=>[C.value.length>0>0?(d(),w(V,{key:0,gutter:24,style:{"margin-top":"8px"}},{default:s(()=>[a(S,{xs:24,md:8},{default:s(()=>[e("div",jt,[a(R,{style:{"border-radius":"12px"}},{default:s(()=>[t[6]||(t[6]=e("h3",{style:{"margin-bottom":"16px"}},"Lista de Empresas",-1)),(d(!0),O(F,null,Z(C.value,h=>(d(),w($,{key:h.id,text:h.estadoName,color:h.estado},{default:s(()=>{var H;return[a(R,{size:"small",hoverable:"",style:K([{"margin-bottom":"12px","border-radius":"10px",cursor:"pointer"},((H=m.value)==null?void 0:H.id)===h.id?"border: 2px solid #9254de;":""]),onClick:Y=>{m.value=h,_()}},{default:s(()=>[e("div",null,[e("strong",null,p(h.nombre),1),t[4]||(t[4]=e("br",null,null,-1)),e("small",null,"RUC: "+p(h.ruc),1),t[5]||(t[5]=e("br",null,null,-1)),e("small",null,p(h.representante),1)])]),_:2},1032,["style","onClick"])]}),_:2},1032,["text","color"]))),128))]),_:1})])]),_:1}),a(S,{xs:24,md:16},{default:s(()=>[m.value?(d(),O("div",Nt,[a(R,{style:{"border-radius":"12px","margin-bottom":"16px"}},{default:s(()=>[e("div",Rt,[e("div",null,[e("h2",Vt,p(m.value.nombre),1),e("p",Ht,p(m.value.razonSocial),1)]),e("div",Bt,[e("p",Ft,[t[9]||(t[9]=e("strong",null,"RUC:",-1)),x(" "+p(m.value.ruc),1)]),e("p",Gt,[t[10]||(t[10]=e("strong",null,"Asesor:",-1)),x(" "+p(m.value.asesor),1)])])]),a(ve,{activeKey:y.value,"onUpdate:activeKey":t[2]||(t[2]=h=>y.value=h),style:{"margin-top":"12px"},onChange:_},{default:s(()=>[a(B,{key:"1",tab:"📋 Información"}),a(B,{key:"2",tab:"🏷️ Marca"}),a(B,{key:"3",tab:"📦 Productos (3)"})]),_:1},8,["activeKey"])]),_:1}),y.value==="1"?(d(),w(R,{key:0,style:{"border-radius":"12px"}},{default:s(()=>[t[25]||(t[25]=e("div",{class:"seguimiento-tag"}," Validada ",-1)),t[26]||(t[26]=e("h3",null,"Validación de Información",-1)),a(V,{gutter:[32,16],style:{"margin-top":"16px"}},{default:s(()=>[a(S,{xs:24,md:12},{default:s(()=>[t[17]||(t[17]=e("h4",null,"Datos de la Empresa",-1)),e("p",null,[t[11]||(t[11]=e("strong",null,"Nombre Comercial",-1)),t[12]||(t[12]=e("br",null,null,-1)),x(p(m.value.nombre),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Razón Social",-1)),t[14]||(t[14]=e("br",null,null,-1)),x(p(m.value.razonSocial),1)]),e("p",null,[t[15]||(t[15]=e("strong",null,"RUC",-1)),t[16]||(t[16]=e("br",null,null,-1)),x(p(m.value.ruc),1)])]),_:1}),a(S,{xs:24,md:12},{default:s(()=>[t[24]||(t[24]=e("h4",null,"Representante Legal",-1)),e("p",null,[t[18]||(t[18]=e("strong",null,"Nombre Completo",-1)),t[19]||(t[19]=e("br",null,null,-1)),x(p(m.value.representante),1)]),e("p",null,[t[20]||(t[20]=e("strong",null,"DNI",-1)),t[21]||(t[21]=e("br",null,null,-1)),x(p(m.value.dni),1)]),e("p",null,[t[22]||(t[22]=e("strong",null,"Celular",-1)),t[23]||(t[23]=e("br",null,null,-1)),x("+51 "+p(m.value.celular),1)])]),_:1})]),_:1})]),_:1})):k("",!0),y.value==="2"?(d(),w(R,{key:1,style:{"border-radius":"12px","text-align":"center"}},{default:s(()=>[y.value==="2"?(d(),w(R,{key:0,style:{"border-radius":"12px"}},{default:s(()=>[t[34]||(t[34]=e("div",{style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"16px"}},[e("h3",{style:{"margin-bottom":"0"}},"Validación de Marca")],-1)),a(X,{spinning:o.value},{default:s(()=>{var h,H,Y,le;return[u.value?(d(),O("div",qt,[t[27]||(t[27]=e("h4",null,"Logo de la Empresa",-1)),a(_e,{width:100,src:(h=u.value)==null?void 0:h.logo.url,style:{border:"1px solid #d7d7d7"}},null,8,["src"]),t[28]||(t[28]=e("br",null,null,-1)),t[29]||(t[29]=e("br",null,null,-1)),t[30]||(t[30]=e("h4",null,"Sitio Web",-1)),e("a",{href:(H=u.value)==null?void 0:H.url,target:"_blank",style:{color:"#1677ff","text-decoration":"none"}},p((Y=u.value)==null?void 0:Y.url),9,Qt),t[31]||(t[31]=e("br",null,null,-1)),t[32]||(t[32]=e("br",null,null,-1)),t[33]||(t[33]=e("h4",null,"Descripción",-1)),e("p",null,p((le=u.value)==null?void 0:le.description),1)])):(d(),w(J,{key:0,image:M(P)},null,8,["image"]))]}),_:1},8,["spinning"])]),_:1})):k("",!0)]),_:1})):k("",!0),y.value==="3"?(d(),w(R,{key:2,style:{"border-radius":"12px","text-align":"center"}},{default:s(()=>[y.value==="3"?(d(),w(R,{key:0,style:{"border-radius":"12px"}},{default:s(()=>[e("div",Wt,[t[35]||(t[35]=e("h3",{style:{"margin-bottom":"0"}},"Productos",-1)),e("div",Jt,p(f.value.length)+" de 3 requeridos ",1)]),!f.value||f.value.length===0?(d(),w(J,{key:0,image:M(P)},null,8,["image"])):k("",!0),a(X,{spinning:l.value},{default:s(()=>[a(V,{gutter:[16,16]},{default:s(()=>[(d(!0),O(F,null,Z(f.value,(h,H)=>(d(),w(S,{xs:24,sm:12,md:8,key:H},{default:s(()=>[e("a",{href:h.link,target:"_blank"},[a(R,{hoverable:"",style:{"border-radius":"12px",overflow:"hidden","min-height":"360px"},"body-style":{padding:"0"}},{default:s(()=>[e("img",{src:h.imagen,style:{width:"100%",height:"160px","object-fit":"cover"}},null,8,Yt),e("div",Zt,[e("h4",Kt,p(h.nombre),1),e("p",ea,[t[36]||(t[36]=x(" Categoría: ")),e("strong",null,p(h.categoria),1)]),e("p",ta,[t[37]||(t[37]=x(" Tipo: ")),e("strong",null,p(h.tipo),1)]),e("div",aa,[e("p",na,"S/ "+p(h.precioOriginal),1),e("p",sa,"S/ "+p(h.precioActual),1)])])]),_:2},1024)],8,Xt)]),_:2},1024))),128))]),_:1})]),_:1},8,["spinning"])]),_:1})):k("",!0)]),_:1})):k("",!0)])):(d(),w(R,{key:0,style:{"border-radius":"12px","text-align":"center",height:"100%","min-height":"300px"}},{default:s(()=>[e("div",Ut,[a(T,{size:"large",style:{background:"#f0f2f5","margin-bottom":"12px"}},{icon:s(()=>[a(M(me))]),_:1}),t[7]||(t[7]=e("h3",null,"Selecciona una Empresa",-1)),t[8]||(t[8]=e("p",{style:{color:"#777"}}," Haz clic en una empresa para ver su información, marca y productos ",-1))])]),_:1}))]),_:1})]),_:1})):(d(),w(J,{key:1,image:M(P),class:"followup-empty"},null,8,["image"]))]),_:1},8,["spinning"])]),_:1})}}},oa=G(la,[["__scopeId","data-v-f07536e2"]]);const ra={class:"dashboard-wrappers"},ia={class:"dashboard-container",style:{"margin-bottom":"1rem"}},ua={class:"dashboard-container"},da={key:0},ca={key:1},pa={key:2},ma={key:3},va={__name:"administrar-index",setup(i){const n=b("1");return(l,o)=>{const u=c("a-breadcrumb-item"),f=c("a-breadcrumb"),m=c("a-tab-pane"),P=c("a-tabs");return d(),O("div",ra,[e("div",ia,[a(f,null,{default:s(()=>[a(u,null,{default:s(()=>[e("a",{onClick:o[0]||(o[0]=z=>l.$router.go(-1))},[a(M(he)),o[2]||(o[2]=e("span",{class:"fs-13"}," Atrás",-1))])]),_:1}),a(u,null,{default:s(()=>o[3]||(o[3]=[e("h3",{class:"title-produce"},"Administración de CyberWOW",-1)])),_:1})]),_:1})]),e("div",ua,[a(P,{activeKey:n.value,"onUpdate:activeKey":o[1]||(o[1]=z=>n.value=z)},{default:s(()=>[a(m,{key:"1"},{tab:s(()=>[e("span",null,[a(M(Me)),o[4]||(o[4]=x(" Panel Principal "))])]),_:1}),a(m,{key:"2"},{tab:s(()=>[e("span",null,[a(M(me)),o[5]||(o[5]=x(" Empresas "))])]),_:1}),a(m,{key:"3"},{tab:s(()=>[e("span",null,[a(M(Ae)),o[6]||(o[6]=x(" Reportes "))])]),_:1}),a(m,{key:"4"},{tab:s(()=>[e("span",null,[a(M(Re)),o[7]||(o[7]=x(" Seguimiento "))])]),_:1})]),_:1},8,["activeKey"]),n.value==="1"?(d(),O("div",da,[a(it)])):k("",!0),n.value==="2"?(d(),O("div",ca,[a(ht)])):k("",!0),n.value==="3"?(d(),O("div",pa,[a(Mt)])):k("",!0),n.value==="4"?(d(),O("div",ma,[a(oa)])):k("",!0)])])}}},wa=G(va,[["__scopeId","data-v-8aed52f9"]]);export{wa as default};
