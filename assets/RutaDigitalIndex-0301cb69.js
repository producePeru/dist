import{r as l,a as Z,p as T,k as W,X as ae,o as f,d as $,c as p,Q as se,h as O,U as Se,b as y,w as _,N as te,O as oe,e as N,F as J,v as Ie,y as A,i as K,z as w,j as H,m as F,f as ie,g as le,K as we,G as Ce,a3 as Re,t as ne,a2 as Oe,s as xe}from"./index-c591accf.js";import{_ as De}from"./icoexcel-1b303edf.js";import{_ as Ne}from"./FormComponent-402a84a2.js";import{u as de}from"./selectes-78b8f035.js";import{u as Ae}from"./useBusinessman-47d7f9d8.js";import{_ as ce}from"./_plugin-vue_export-helper-c27b6911.js";import"./es-8dee4ab2.js";import{M as Te}from"./MoreOutlined-3b7a8877.js";import"./quill.snow-f4b7c3fe.js";const ke={class:"ruta-businessman-draw"},Pe={__name:"RutaDigitalEmpresario",emits:["stepNumber"],setup(B,{emit:C}){const v=C,n=de(),h=Ae(),g=l(!1),e=Z({}),x=l("REGISTRAR"),o=l({city_id:[],province_id:[],district_id:[],gender_id:[],sick:[]}),Y=async u=>{u=="city_id"&&(await n.fetchProvinces(e.city_id),o.value.province_id=n.provinces,R.value.province_id.disabled=!1),u=="province_id"&&(await n.fetchDistricts(e.province_id),o.value.district_id=n.districts,R.value.district_id.disabled=!1),u=="typedocument_id"&&(R.value.documentnumber.disabled=!1)},t=async u=>{u=="typedocument_id"&&(o.value.typedocument_id=n.typeDocuments),u=="country_id"&&(o.value.country_id=n.countries),u=="city_id"&&(e.city_id=null,e.province_id=null,e.district_id=null,o.value.province_id=[],o.value.city_id=n.cities),u=="province_id"&&(e.province_id=null,e.district_id=null,o.value.district_id=[]),u=="sick"&&q(),u=="gender_id"&&(o.value.gender_id=n.genders),u=="hasSoon"&&k()},q=()=>{o.value.sick=[{value:"si",label:"SI"},{value:"no",label:"NO"},{value:"na",label:"PREFIERO NO ESPECIFICAR"}]},k=()=>{o.value.hasSoon=[{value:"si",label:"SI"},{value:"no",label:"NO"},{value:"na",label:"PREFIERO NO ESPECIFICAR"}]},z=async u=>{R.value.documentnumber.loading=!0;try{const c={documentnumber:u},b=await h.get(c),{data:m}=b;b.status==200?(e.lastname=m.lastname,e.middlename=m.middlename,e.name=m.name,e.country_id=m.country_id,e.city_id=m.city_id,await n.fetchProvinces(m.city_id),o.value.province_id=n.provinces,e.province_id=m.province_id,await n.fetchDistricts(m.province_id),o.value.district_id=n.districts,e.district_id=m.district_id,e.address=m.address,m.birthday&&(e.birthday=T(m.birthday,"YYYY-MM-DD")),e.phone=m.phone,e.email=m.email,e.gender_id=m.gender_id,q(),e.sick=m.sick,k(),e.hasSoon=m.hasSoon):b.status==404?(S(),se.warning({message:"Aviso",description:"El servicio de consulta RENIEC no está disponible. Por favor, registre los datos manualmente.",duration:2.5}),R.value.lastname.disabled=!1,R.value.middlename.disabled=!1,R.value.name.disabled=!1):O.error("Información ingresada errada.")}catch{console.log("Error:",h.error)}finally{R.value.documentnumber.loading=!1}},L=async()=>{g.value=!0;const u={typedocument_id:e.typedocument_id,documentnumber:e.documentnumber,lastname:e.lastname,middlename:e.middlename,name:e.name,country_id:e.country_id,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,address:e.address,birthday:T(e.birthday).format("YYYY-MM-DD"),phone:e.phone,email:e.email,gender_id:e.gender_id,sick:e.sick,hasSoon:e.hasSoon};try{const c=await h.create(u);if(c.status==200){const b={id:c.data.id,dni:c.data.documentnumber,city_id:c.data.city_id,province_id:c.data.province_id,district_id:c.data.district_id,step:1};v("stepNumber",b),S(),O.success(c.message)}}catch{O.error(n.error)}finally{g.value=!1}},S=()=>{e.lastname=null,e.middlename=null,e.name=null,e.country_id=null,e.city_id=null,e.province_id=null,e.district_id=null,e.address=null,e.birthday=null,e.phone=null,e.email=null,e.gender_id=null,e.sick=null,e.hasSoon=null},R=l({typedocument_id:{type:"iSelect",label:"TIPO DE DOCUMENTO",name:"typedocument_id",required:!0,message:"Seleccionar tipo de documento",disabled:!1},documentnumber:{type:"iInputSearch",label:"NÚMERO DOCUMENTO",name:"documentnumber",required:!0,message:"Escribe número de documento",disabled:!0,loading:h.loading},lastname:{type:"iText",label:"APELLIDO PATERNO",name:"lastname",required:!0,message:"Escribir apellido",disabled:!0},middlename:{type:"iText",label:"APELLIDO MATERNO",name:"middlename",required:!0,message:"Escribir apellido",disabled:!0},name:{type:"iText",label:"NOMBRES",name:"name",required:!0,message:"Escribir nombre",disabled:!0},country_id:{type:"iSelect",label:"PAÍS",name:"country_id",required:!0,message:"Seleccionar país"},city_id:{type:"iSelect",label:"REGIÓN RESIDENCIA",name:"city_id",required:!0,message:"Seleccionar región"},province_id:{type:"iSelect",label:"PROVINCIA RESIDENCIA",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO RESIDENCIA",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},address:{type:"iText",label:"DIRECCIÓN RESIDENCIA",name:"address",required:!0,message:"Escribir dirección",disabled:!1},birthday:{type:"iDate",label:"FECHA NACIMIENTO",name:"birthday",required:!0,message:"Seleccionar fecha de nacimiento",disabledDate:u=>{if(!u)return!1;const c=T(),b=c.subtract(100,"year").endOf("day"),m=c.subtract(18,"year").endOf("day");return u.isAfter(m)||u.isBefore(b)},defaultPickerValue:T().subtract(18,"year"),rules:[{validator:(u,c)=>{if(!c)return Promise.reject(new Error("Seleccionar fecha de nacimiento"));const b=T(),m=b.subtract(100,"year").endOf("day"),G=b.subtract(18,"year").endOf("day");return T(c).isAfter(G)?Promise.reject(new Error("Debe tener 18 años o más")):T(c).isBefore(m)?Promise.reject(new Error("La edad no puede superar los 100 años")):Promise.resolve()},trigger:"change"}]},phone:{type:"iNumber",label:"NÚMERO DE CELULAR",name:"phone",required:!0,message:"Escribe un número de contacto de 9 dígitos",maxlength:9,disabled:!1,rules:[{validator:(u,c)=>{if(!c)return Promise.reject(new Error("El número es requerido"));const b=c.toString();return b.length!==9?Promise.reject(new Error("El número debe tener exactamente 9 dígitos")):b.substring(0,1)!=="9"?Promise.reject(new Error("El número debe comenzar con 9")):Promise.resolve()},trigger:"change"}]},email:{type:"iText",label:"CORREO ELECTRÓNICO",name:"email",required:!1,message:"Escribir un email válido",disabled:!1,rules:[{validator:(u,c)=>c?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)?Promise.resolve():Promise.reject(new Error("Debe ingresar un email válido")):Promise.resolve(),trigger:"change"}]},gender_id:{type:"iSelect",label:"GÉNERO",name:"gender_id",required:!0,message:"Seleccionar tipo de documento"},sick:{type:"iSelect",label:"¿TIENE ALGUNA DISCAPACIDAD?",name:"sick",required:!0,message:"Seleccionar opción"},hasSoon:{type:"iSelect",label:"¿TIENE HIJOS?",name:"hasSoon",required:!0,message:"Seleccionar opción"}});return W(async()=>{await n.fetchTypeDocuments(),o.value.type_document_id=n.typeDocuments,await n.fetchCountries(),o.value.country_id=n.countries,await n.fetchCities(),o.value.city_id=n.cities,await n.fetchGenders(),o.value.gender_id=n.genders,await n.fetchCities(),await n.fetchGenders()}),ae("formState",e),ae("loadingState",g),(u,c)=>(f(),$("div",ke,[p(Ne,{fields:R.value,options:o.value,btnSaveName:x.value,onHandleFocusSelect:t,onHandleChangeSelect:Y,onOnSubmit:L,mayus:!0,onHandleSearchDni:z},null,8,["fields","options","btnSaveName"])]))}};const Ue={class:"agreement-wrapper"},Me={class:"grid-item"},Le={key:3},qe={__name:"RutaDigitalEmpresa",props:["dataStepOne"],emits:["close"],setup(B,{emit:C}){const v=de(),n=C,h=B;v.$patch({cities:v.cities}),v.$patch({provinces:v.provinces}),v.$patch({districts:v.districts}),v.$patch({economicSectors:v.economicSectors}),v.$patch({comercialActivities:v.comercialActivities}),v.fetchCities(),v.fetchEconomicSectors(),v.fetchComercialActivities();const g=l({ruc:{type:"iSearch",label:"NÚMERO RUC",name:"ruc",required:!0,message:"Escribe número de documento",disabled:!1,max:11},socialReason:{type:"iText",label:"RAZÓN SOCIAL",name:"socialReason",required:!0,message:"Escribir razón social",disabled:!0},comercialName:{type:"iText",label:"NOMBRE COMERCIAL",name:"comercialName",required:!0,message:"Escribir nombre comercial",disabled:!0},city_id:{type:"iSelect",label:"REGIÓN",name:"city_id",required:!0,message:"Seleccionar región",disabled:!0},province_id:{type:"iSelect",label:"PROVINCIA",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},address:{type:"iText",label:"DIRECCIÓN",name:"address",required:!0,message:"Escribir dirección",disabled:!0},economicsector_id:{type:"iSelect",label:"SECTOR ECONÓMICO",name:"economicsector_id",required:!0,message:"Seleccionar sector económico",disabled:!0},comercialactivity_id:{type:"iSelect",label:"ACTIVIDAD COMERCIAL",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!0}}),e=l(null),x=l(null),o=l(!1);l(null);const Y=l(!1);l(!0);const t=Z({}),q=r=>{const d=t[r]?t[r].trim():"";t[r]=d},k=async r=>{try{const{data:d}=await ie({url:`select/provinces/${r}`,method:"GET"});e.value=d}catch(d){console.error("Error de red:",d)}},z=async r=>{try{const{data:d}=await ie({url:`select/districts/${r}`,method:"GET"});x.value=d}catch(d){console.error("Error de red:",d)}},L=(r,d)=>{const I=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return d.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(I)},S=async r=>{if(r.length!==11)return O.warning("El RUC debe tener exactamente 11 caracteres.");if(!/^\d+$/.test(r))return O.warning("El RUC debe contener solo números.");if(!/^(10|15|20)/.test(r))return O.warning("El RUC debe comenzar con 10, 15 o 20.");o.value=!0;try{const d=await F({url:`api/consult-company-ruc/${t.ruc}`,method:"POST"});if(g.value.comercialName.disabled=!1,g.value.socialReason.disabled=!1,g.value.city_id.disabled=!1,g.value.address.disabled=!1,g.value.comercialactivity_id.disabled=!1,g.value.economicsector_id.disabled=!1,d.status==200){const{data:I}=d;t.socialReason=I.socialReason,t.comercialName=I.comercialName}else se.warning({message:"Aviso",description:"El servicio de consulta SUNAT no está disponible. Por favor, registre los datos manualmente.",duration:2.5})}catch{console.log("There was an error")}finally{o.value=!1}},R=r=>{t.province_id=null,t.district_id=null,k(r)},u=r=>{t.district_id=null,z(r)},c=()=>{t.comercialName=null,t.socialReason=null,t.city_id=null,t.province_id=null,t.district_id=null,t.address=null,t.comercialactivity_id=null,t.economicsector_id=null},b=async()=>{Y.value=!0;const r={ruc:t.ruc,comercialName:t.comercialName,socialReason:t.socialReason,city_id:t.city_id,province_id:t.province_id,district_id:t.district_id,address:t.address,comercialactivity_id:t.comercialactivity_id,economicsector_id:t.economicsector_id};try{const d=await F({url:"ruta-digital/mype",method:"POST",data:r});if(d.status==200){const I={ruc:d.ruc,dni:h.dataStepOne.dni,person_id:h.dataStepOne.id,mype_id:d.id},D=await F({url:"ruta-digital/create",method:"POST",data:I});if(D.status==409)return O.error(D.message);D.status==200&&(c(),t.ruc=null,O.success(D.message),n("close"))}}catch{O.error("No se pudo registrar a este usuario")}finally{Y.value=!1}},m=()=>{O.error("COMPLETA LOS VALORES REQUERIDOS")},G=async r=>{try{t.city_id=r.city_id,await k(r.city_id),t.province_id=r.province_id,await z(r.province_id),t.district_id=r.district_id}catch(d){O.error(d.message)}};return W(async()=>{h.dataStepOne&&G(h.dataStepOne)}),Se(()=>h.dataStepOne,r=>{r?G(r):c()}),(r,d)=>{const I=y("a-select"),D=y("a-form-item"),P=y("a-input-search"),X=y("a-input"),s=y("a-button"),i=y("a-form"),U=y("a-spin");return f(),$("div",Ue,[p(U,{spinning:o.value},{default:_(()=>[p(i,{layout:"vertical",model:t,name:"basic",autocomplete:"off",onFinish:b,onFinishFailed:m,onKeydown:d[0]||(d[0]=te(oe(()=>{},["prevent"]),["enter"]))},{default:_(()=>[N("div",Me,[(f(!0),$(J,null,Ie(g.value,(a,V)=>(f(),$(J,{key:V},[a.type==="iSelect"?(f(),A(D,{key:0,class:"item-max",name:a.name,label:a.label,rules:[{required:a.required,message:a.message}]},{default:_(()=>[a.name=="city_id"?(f(),A(I,{key:0,value:t[a.name],"onUpdate:value":E=>t[a.name]=E,options:K(v).cities,"show-search":"","filter-option":L,onChange:R,disabled:a.disabled},null,8,["value","onUpdate:value","options","disabled"])):w("",!0),a.name=="province_id"?(f(),A(I,{key:1,value:t[a.name],"onUpdate:value":E=>t[a.name]=E,options:e.value,"show-search":"","filter-option":L,onChange:u,disabled:!t.city_id},null,8,["value","onUpdate:value","options","disabled"])):w("",!0),a.name=="district_id"?(f(),A(I,{key:2,value:t[a.name],"onUpdate:value":E=>t[a.name]=E,options:x.value,"show-search":"","filter-option":L,disabled:!t.province_id},null,8,["value","onUpdate:value","options","disabled"])):w("",!0),a.name=="economicsector_id"?(f(),A(I,{key:3,value:t[a.name],"onUpdate:value":E=>t[a.name]=E,"show-search":"",options:K(v).economicSectors,"filter-option":L,disabled:a.disabled},null,8,["value","onUpdate:value","options","disabled"])):w("",!0),a.name=="comercialactivity_id"?(f(),A(I,{key:4,value:t[a.name],"onUpdate:value":E=>t[a.name]=E,"show-search":"",options:K(v).comercialActivities,"filter-option":L,disabled:a.disabled},null,8,["value","onUpdate:value","options","disabled"])):w("",!0)]),_:2},1032,["name","label","rules"])):w("",!0),a.type==="iSearch"?(f(),A(D,{key:1,name:a.name,label:a.label,rules:[{required:a.required,message:a.message,max:a.max},{pattern:/^(10|15|20)\d{9,}$/,message:"El número debe comenzar con 10, 15 o 20, tener solo números, y al menos 11 caracteres"}]},{default:_(()=>[p(P,{value:t[a.name],"onUpdate:value":E=>t[a.name]=E,loading:o.value,maxlength:a.max,onSearch:S,onKeyup:te(S,["enter"])},null,8,["value","onUpdate:value","loading","maxlength"])]),_:2},1032,["name","label","rules"])):w("",!0),a.type==="iText"?(f(),A(D,{key:2,name:a.name,label:a.label,rules:[{required:a.required,message:a.message,type:a.email,max:a.max,min:a.min}]},{default:_(()=>[p(X,{value:t[a.name],"onUpdate:value":E=>t[a.name]=E,disabled:a.disabled,maxlength:a.max,onBlur:E=>q(a.name)},null,8,["value","onUpdate:value","disabled","maxlength","onBlur"])]),_:2},1032,["name","label","rules"])):w("",!0),a.type==="space"?(f(),$("div",Le)):w("",!0)],64))),128))]),p(D,null,{default:_(()=>[p(s,{class:"btn-produce",type:"primary","html-type":"submit",loading:Y.value},{default:_(()=>d[1]||(d[1]=[H("FINALIZAR")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])}}},$e=ce(qe,[["__scopeId","data-v-47508702"]]),Ye={__name:"RutaDigitalNuevo",emits:["closeDraw"],setup(B,{emit:C}){const v=C,n=l(1),h=l(null),g=x=>{h.value=x,n.value=x.step+1},e=()=>{n.value=1,v("closeDraw")};return(x,o)=>(f(),$("section",null,[n.value==1?(f(),A(Pe,{key:0,onStepNumber:g})):w("",!0),n.value==2?(f(),A($e,{key:1,dataStepOne:h.value,onClose:e},null,8,["dataStepOne"])):w("",!0)]))}},re=(localStorage.getItem("token")||le.get("token")||"").replace(/"/g,""),ze=re?`Bearer ${re}`:"",Fe="https://apituempresa.soporte-pnte.com/api/",Be="http://127.0.0.1:8000/api/",Ge=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?Be:Fe;async function Ve(B,C,v){try{const n=await we({url:`${Ge}${B}`,headers:{"Content-Type":"application/json",Authorization:`Bearer ${ze}`},method:"POST",responseType:"blob",data:v}),h=window.URL.createObjectURL(new Blob([n.data])),g=document.createElement("a");g.href=h;const e=`${C}.xlsx`;g.setAttribute("download",e),document.body.appendChild(g),g.click(),document.body.removeChild(g)}catch(n){console.error("Error al descargar el archivo:",n)}}const je={class:"layout-content"},He=["onClick"],Ke={class:"paginator"},Qe={__name:"RutaDigitalIndex",props:["idConvenio"],setup(B){T.locale("es"),le.get("token");const C=JSON.parse(localStorage.getItem("role")),v=l(null),n=l(null);l(null);const h=l(!1),g=l(null),e=l(0),x=l(50),o=l({page:1}),Y=l(1200),t=l([]),q=l(!1),k=l(!1);l(!1),l(!1),l(!1),l(null);const z=l(window.innerHeight-100),L=[{title:"#",dataIndex:"idx",fixed:"left",align:"center",width:70},{title:"FECHA DE REGISTRO",dataIndex:"date",fixed:"left",align:"center",width:140},{title:"DNI ASESOR",dataIndex:"asesor_documentnumber",fixed:"left",align:"center",width:100},{title:"NOMBRE DEL ASESOR",dataIndex:"asesor_name",width:180},{title:"CDE/MAC",dataIndex:"asesor_cde",width:160,align:"center"},...C.some(s=>s.id!==1)?[{title:"SUPERVISOR",dataIndex:"supervisador",width:180}]:[],{title:"TIPO DOCUMENTO",dataIndex:"typedocument",align:"center",width:130},{title:"NRO DOCUMENTO",dataIndex:"documentnumber",align:"center",width:130},{title:"NACIONALIDAD (NOMBRE DEL PAIS)",dataIndex:"country",align:"center",width:140},{title:"FECHA DE NACIMIENTO",dataIndex:"birthdate",align:"center",width:120},{title:"APELLIDOS",dataIndex:"lastname",width:150},{title:"NOMBRES",dataIndex:"name",width:150},...C.some(s=>s.id!==1)?[{title:"SEXO (F/M)",dataIndex:"gender",width:60}]:[],...C.some(s=>s.id!==1)?[{title:"DISCAPACIDAD (SI/NO)",dataIndex:"sick",width:120}]:[],...C.some(s=>s.id!==1)?[{title:"CELULAR",dataIndex:"phone",width:100}]:[],...C.some(s=>s.id!==1)?[{title:"CORREO",dataIndex:"email",width:150}]:[],{title:"NÚMERO DE RUC",dataIndex:"ruc",align:"center",width:120},{title:"REGION DE LA MYPE",dataIndex:"region",align:"center",width:120},{title:"PROVINCIA DE LA MYPE",dataIndex:"province",align:"center",width:150},{title:"DISTRITO DE LA MYPE",dataIndex:"district",align:"center",width:130},{title:"DIRECCIÓN",dataIndex:"address",width:240},{title:"SECTOR ECONOMICO",dataIndex:"comercialactivity",align:"center",width:180},{title:"ACTIVIDAD COMERCIAL",dataIndex:"economicsector",align:"center",width:140},{title:"AUTODIAGNÓSTICO",dataIndex:"status",align:"center",fixed:"right",width:140}],S=Z({search:""}),R=()=>{o.value.page=1,S.search,P()},u=()=>{S.search||P()},c=s=>{g.value=s,k.value=!0},b=s=>{params.value.page=s,P()},m=()=>{z.value=window.innerHeight-320},G=()=>{g.value=null,k.value=!0},r=()=>{k.value=!1,P()},d=async s=>{try{const i=await F({url:`agreement/delete/${s.id}`,method:"DELETE"});i.status==200&&(P(),O.success(i.message))}catch(i){console.error("Error de red:",i)}},I=Ce(()=>s=>(o.value.page-1)*x.value+s+1),D=async s=>{try{const i=await F({url:`ruta-digital/status/${s}`,method:"PUT"});i.status==200&&(P(),O.success(i.message))}catch(i){console.error("Error de red:",i)}},P=async s=>{try{q.value=!0;const i={};n.value&&(i.start=T(n.value[0]).format("YYYY-MM-DD"),i.end=T(n.value[1]).format("YYYY-MM-DD")),S.search&&(i.search=S.search),o.value.page&&(i.page=o.value.page);const U=await F({url:"ruta-digital/list",method:"GET",params:i}),a=U.data;t.value=a.data,e.value=a.total,x.value=a.per_page,v.value=U.role}catch(i){console.error("Error de red:",i)}finally{q.value=!1}},X=async()=>{try{h.value=!0;const s={};n.value&&(s.start=T(n.value[0]).format("YYYY-MM-DD"),s.end=T(n.value[1]).format("YYYY-MM-DD")),S.search&&(s.search=S.search),o.value.page&&(s.page=o.value.page);const{data:i}=await F({url:"ruta-digital/list-all",method:"GET",params:s});await Ve("download/digital-routes","ruta-digital",i)}catch(s){console.error("Error de red:",s)}finally{h.value=!1}};return Re(()=>{window.removeEventListener("resize",m)}),W(()=>{window.addEventListener("resize",m),m(),P()}),(s,i)=>{const U=y("a-button"),a=y("a-range-picker"),V=y("a-col"),E=y("a-input"),ue=y("a-input-group"),me=y("a-row"),pe=y("a-switch"),ee=y("a-menu-item"),_e=y("a-popconfirm"),ve=y("a-menu"),ge=y("a-dropdown"),ye=y("a-table"),fe=y("a-tag"),he=y("a-pagination"),be=y("a-drawer");return f(),$("div",je,[N("div",null,[i[11]||(i[11]=N("h3",{class:"title-produce"},"RUTA DIGITAL - UGO",-1)),p(me,{style:{margin:"1rem 0"}},{default:_(()=>[p(V,{xs:24,md:16,lg:18},{default:_(()=>[p(U,{type:"primary",onClick:G,style:{}},{default:_(()=>i[4]||(i[4]=[H("REGISTRAR")])),_:1}),p(U,{class:"btn-excel",onClick:X,loading:h.value,type:"primary",style:{margin:"0 0.6rem"}},{default:_(()=>i[5]||(i[5]=[N("img",{width:"20",style:{margin:"-2px 4px 0 0"},src:De},null,-1)])),_:1},8,["loading"]),p(a,{value:n.value,"onUpdate:value":i[0]||(i[0]=M=>n.value=M),style:{width:"240px","font-size":"13px"},onChange:P},null,8,["value"])]),_:1}),p(V,{xs:24,md:8,lg:6},{default:_(()=>[p(ue,{compact:""},{default:_(()=>[p(E,{value:S.search,"onUpdate:value":i[1]||(i[1]=M=>S.search=M),style:{width:"calc(100% - 80px)"},onInput:u,placeholder:"Buscar por RUC o DNI"},null,8,["value"]),p(U,{type:"primary",disabled:S.search==="",onClick:R},{default:_(()=>i[6]||(i[6]=[H("BUSCAR")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),p(ye,{bordered:"",scroll:{x:Y.value,y:z.value},class:"table-agreements-ugse",columns:L,"data-source":t.value,pagination:!1,loading:q.value,size:"small"},{headerCell:_(({column:M})=>i[7]||(i[7]=[])),bodyCell:_(({column:M,record:j,index:Ee})=>[M.dataIndex=="idx"?(f(),$(J,{key:0},[H(ne(I.value(Ee)),1)],64)):w("",!0),M.dataIndex=="status"?(f(),A(pe,{key:1,checked:j.status,"onUpdate:checked":Q=>j.status=Q,checkedValue:1,unCheckedValue:0,onChange:Q=>D(j.id)},{checkedChildren:_(()=>i[8]||(i[8]=[N("span",{style:{"font-size":"12px"}},"Si",-1)])),unCheckedChildren:_(()=>i[9]||(i[9]=[N("span",{style:{"font-size":"12px"}},"No",-1)])),_:2},1032,["checked","onUpdate:checked","onChange"])):w("",!0),M.dataIndex=="actions"?(f(),A(ge,{key:2,trigger:["click"]},{overlay:_(()=>[p(ve,null,{default:_(()=>[p(ee,null,{default:_(()=>[N("a",{onClick:Q=>c(j)},"Editar",8,He)]),_:2},1024),p(ee,null,{default:_(()=>[p(_e,{title:"¿Seguro de eliminar?",onConfirm:Q=>d(j)},{icon:_(()=>[p(K(Oe),{style:{color:"red"}})]),default:_(()=>[i[10]||(i[10]=N("a",null,"Eliminar",-1))]),_:2},1032,["onConfirm"])]),_:2},1024)]),_:2},1024)]),default:_(()=>[N("a",{class:"ant-dropdown-link",onClick:i[2]||(i[2]=oe(()=>{},["prevent"]))},[p(U,{shape:"circle",icon:xe(K(Te)),size:"small"},null,8,["icon"])])]),_:2},1024)):w("",!0)]),_:1},8,["scroll","data-source","loading"])]),N("div",Ke,[N("span",null,[p(fe,{color:"blue"},{default:_(()=>[N("b",null,ne(e.value),1)]),_:1}),i[12]||(i[12]=H("Registros"))]),p(he,{size:"small",total:e.value,pageSize:x.value,onChange:b,showSizeChanger:!1},null,8,["total","pageSize"])]),p(be,{open:k.value,"onUpdate:open":i[3]||(i[3]=M=>k.value=M),"root-class-name":"root-class-name",title:"Ruta Digital",placement:"right",width:"650"},{default:_(()=>[p(Ye,{onCloseDraw:r})]),_:1},8,["open"])])}}},ra=ce(Qe,[["__scopeId","data-v-a9dfdd3f"]]);export{ra as default};
