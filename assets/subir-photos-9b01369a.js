import{U as y}from"./UpImage-080f4fc6.js";import{p as w,r,k as E,b as m,o as l,d as c,e as s,c as i,F as b,v as k,f as u,w as x,j as I,h as D}from"./index-c591accf.js";import"./es-8dee4ab2.js";import"./_plugin-vue_export-helper-c27b6911.js";const N={class:"container"},T={class:"coffe-images"},B={class:"coffe-images-grid"},q={__name:"subir-photos",setup(C){w.locale("es");const d=r([]),p=r(null),o=r(null),f=()=>null,g=async e=>{p.value=e.id,await n()},v=async e=>{o.value=e;try{(await u({url:`events-pnte/remove-image-from-coffee-event/${e}`,method:"DELETE"})).status==200&&(D.success("Imagen eliminada correctamente"),await n())}catch(a){console.error("Error de red:",a)}finally{o.value=null}},n=async()=>{try{const e=await u({url:"events-pnte/show-all-photos-from-coffee-event?type=thumb",method:"GET"});e.status==200&&(d.value=e.data)}catch(e){console.error("Error de red:",e)}};return E(()=>{n()}),(e,a)=>{const _=m("a-avatar"),h=m("a-button");return l(),c("div",N,[s("div",T,[a[1]||(a[1]=s("img",{class:"coffe-logo",src:"https://fiesta-del-cafe.soporte-pnte.com/assets/logo-DKN6DEo-.webp",alt:""},null,-1)),i(y,{style:{width:"100%"},"accept-formats":["image/jpeg","image/png"],maxImages:1,clearField:!0,onUploadSuccess:g,imageLoad:f(),nameType:"coffe"},null,8,["imageLoad"]),a[2]||(a[2]=s("h4",{style:{"margin-top":"2rem","font-weight":"600"}},"Imagenes",-1)),s("div",B,[(l(!0),c(b,null,k(d.value,t=>(l(),c("div",{key:t.id},[i(_,{src:t.url,shape:"square",size:100},null,8,["src"]),i(h,{loading:t.id==o.value,type:"text",danger:"",onClick:L=>v(t.id)},{default:x(()=>a[0]||(a[0]=[I("Eliminar")])),_:2},1032,["loading","onClick"])]))),128))])])])}}};export{q as default};
