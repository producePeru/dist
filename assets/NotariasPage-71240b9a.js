import{p as P,E as V,u as B,r as t,G as U,k as j,b as g,o as n,d as s,e as o,F as T,v as L,i as F,c as m,w as v,f as $,y as q,j as O,t as c,z as r}from"./index-e34d0eae.js";import{u as J}from"./selectes-4a24a0f3.js";import"./es-3d01e08a.js";const Q={class:"notarias-list-public"},X={style:{overflow:"hidden"}},Y={class:"notaries-public-table"},K={key:0,style:{display:"grid","grid-template-columns":"1fr 1fr"}},W={key:1,style:{"text-transform":"uppercase"}},Z={key:2,style:{"text-transform":"uppercase"}},ee={key:3,style:{"text-transform":"uppercase"}},te={key:4,style:{"text-transform":"uppercase"}},ae={style:{display:"grid","grid-template-columns":"1fr 1fr"}},ne=["innerHTML"],se=["innerHTML"],oe=["innerHTML"],ie=["innerHTML"],le=["innerHTML"],re={class:"paginator"},ge={__name:"NotariasPage",setup(de){P.locale("es");const I=V(),w=B();JSON.parse(localStorage.getItem("role"));const p=J();t(null),t(null),t(!1),t();const f=t(50),A=t([]),x=t(!1),N=t(0),_=t({page:1});t("plans-action/list");const E=t(1200),S=t(window.innerHeight-100);t(!1),t(null),t(null);const d=t(+I.params.city?+I.params.city:null);p.$patch({cities:p.cities}),p.fetchCities();const R=[{title:"#",dataIndex:"idx",fixed:"left",align:"center",width:50},{title:"NOTARÍA",dataIndex:"name",width:250,fixed:"left"},{title:"REGIÓN",fixed:"left",dataIndex:"region",width:120,align:"center"},{title:"PROVINCIA",fixed:"left",dataIndex:"province",width:120,align:"center"},{title:"DISTRITO",fixed:"left",dataIndex:"district",width:120,align:"center"},{title:"DIRECCIÓN",dataIndex:"address",width:180},{title:"GASTOS NOTARIALES",dataIndex:"gastos_notariales",width:450},{title:"BIOMÉTRICO / HUELLA DIGITAL",dataIndex:"biometric",width:200,align:"center"},{title:"SOCIO O INTERVINIENTE ADICIONAL",dataIndex:"socio",width:200,align:"center"},{title:"CONTÁCTO",dataIndex:"contacto",width:280,align:"center"}],b=async()=>{w.push(`/notarias/${d.value}`),d.value=d.value,await y()},C=()=>{S.value=window.innerHeight-230},k=l=>{_.value.page=l,y()},y=async()=>{x.value=!0;try{const l={};_.value.page&&(l.page=_.value.page),I.params.city&&(l.city=d.value);const e=await $({url:"public/notaries",method:"GET",params:l});A.value=e.data,N.value=e.total,f.value=e.per_page}catch(l){console.error("Error de red:",l)}finally{x.value=!1}},H=U(()=>l=>(_.value.page-1)*f.value+l+1);return j(()=>{y(),window.addEventListener("resize",C),C()}),(l,e)=>{const M=g("a-radio"),G=g("a-radio-group"),z=g("a-table"),D=g("a-pagination");return n(),s("section",Q,[o("div",null,[e[1]||(e[1]=o("h3",{style:{"font-weight":"600","font-size":"14px"}},"REGIÓN",-1)),(n(!0),s(T,null,L(F(p).cities,(a,i)=>(n(),q(G,{value:d.value,"onUpdate:value":e[0]||(e[0]=h=>d.value=h),key:i,class:"notarias-list-public-city",onChange:b},{default:v(()=>[m(M,{value:a.value},{default:v(()=>[O(c(a.label),1)]),_:2},1032,["value"])]),_:2},1032,["value"]))),128))]),o("div",X,[o("div",Y,[e[4]||(e[4]=o("h1",{class:""},"CATÁLOGO DE NOTARIAS",-1)),e[5]||(e[5]=o("h3",null,"SI EL CAPITAL > 1 UIT (S/.5150) ADICIONAL PAGARÁ GASTOS REGISTRALES EN CUALQUIER NOTARIA",-1)),m(z,{bordered:"",scroll:{x:E.value,y:S.value},class:"table-actions",columns:R,"data-source":A.value,pagination:!1,loading:x.value,size:"small"},{headerCell:v(({column:a,text:i})=>[a.dataIndex==="gastos_notariales"?(n(),s("div",K,e[2]||(e[2]=[o("span",null,"GASTOS NOTARIALES",-1),o("span",{style:{"padding-left":"8px"}},"CONDICIONES",-1)]))):r("",!0)]),bodyCell:v(({column:a,record:i,index:h})=>[a.dataIndex==="idx"?(n(),s(T,{key:0},[O(c(H.value(h)),1)],64)):r("",!0),a.dataIndex==="name"?(n(),s("span",W,c(i.name),1)):r("",!0),a.dataIndex==="region"?(n(),s("span",Z,c(i.city.name),1)):r("",!0),a.dataIndex==="province"?(n(),s("span",ee,c(i.province.name),1)):r("",!0),a.dataIndex==="district"?(n(),s("span",te,c(i.district.name),1)):r("",!0),a.dataIndex==="gastos_notariales"?(n(!0),s(T,{key:5},L(i.gastos,(u,ue)=>(n(),s("div",ae,[o("div",{innerHTML:u==null?void 0:u.gasto},null,8,ne),o("div",{innerHTML:u==null?void 0:u.condicion,style:{"border-left":"1px solid #ddd","padding-left":"8px"}},null,8,se)]))),256)):r("",!0),a.dataIndex==="biometric"?(n(),s("div",{key:6,innerHTML:i.biometrico},null,8,oe)):r("",!0),a.dataIndex==="socio"?(n(),s("div",{key:7,innerHTML:i.sociointerveniente},null,8,ie)):r("",!0),a.dataIndex==="contacto"?(n(),s("div",{key:8,innerHTML:i.infocontacto},null,8,le)):r("",!0)]),_:1},8,["scroll","data-source","loading"]),o("div",re,[e[3]||(e[3]=o("span",null,null,-1)),m(D,{size:"small",total:N.value,pageSize:f.value,onChange:k,showSizeChanger:!1},null,8,["total","pageSize"])])])])])}}};export{ge as default};
