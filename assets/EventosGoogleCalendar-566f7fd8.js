import{c as r,A as H,l as O,a as Z,p as K,r as f,j as ee,b as y,o as c,d as p,e as t,t as d,w as M,h as g,L as te,f as j,F as ne,q as ae,s as A,i as P,v as se,x as b,y as le,z as oe}from"./index-8174b8f9.js";import"./es-dc5604eb.js";import{H as re}from"./HomeOutlined-5f9b1c2b.js";import{T as ie}from"./TeamOutlined-946e9102.js";import{E as de}from"./EnvironmentOutlined-f4f3845c.js";import{U as ue}from"./UserOutlined-8367c543.js";var ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 512.3v-.3c0-229.8-186.2-416-416-416S96 282.2 96 512v.4c0 229.8 186.2 416 416 416s416-186.2 416-416v-.3.2zm-6.7-74.6l.6 3.3-.6-3.3zM676.7 638.2c53.5-82.2 52.5-189.4-11.1-263.7l162.4-8.4c20.5 44.4 32 93.8 32 145.9 0 185.2-144.6 336.6-327.1 347.4l143.8-221.2zM512 652.3c-77.5 0-140.2-62.7-140.2-140.2 0-77.7 62.7-140.2 140.2-140.2S652.2 434.5 652.2 512 589.5 652.3 512 652.3zm369.2-331.7l-3-5.7 3 5.7zM512 164c121.3 0 228.2 62.1 290.4 156.2l-263.6-13.9c-97.5-5.7-190.2 49.2-222.3 141.1L227.8 311c63.1-88.9 166.9-147 284.2-147zM102.5 585.8c26 145 127.1 264 261.6 315.1C229.6 850 128.5 731 102.5 585.8zM164 512c0-55.9 13.2-108.7 36.6-155.5l119.7 235.4c44.1 86.7 137.4 139.7 234 121.6l-74 145.1C302.9 842.5 164 693.5 164 512zm324.7 415.4c4 .2 8 .4 12 .5-4-.2-8-.3-12-.5z"}}]},name:"chrome",theme:"outlined"};const pe=ce;function N(o){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?Object(arguments[a]):{},u=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(l).filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable}))),u.forEach(function(n){me(o,n,l[n])})}return o}function me(o,a,l){return a in o?Object.defineProperty(o,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[a]=l,o}var L=function(a,l){var u=N({},a,l.attrs);return r(H,N({},u,{icon:pe}),null)};L.displayName="ChromeOutlined";L.inheritAttrs=!1;const ve=L;var fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};const _e=fe;function U(o){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?Object(arguments[a]):{},u=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(l).filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable}))),u.forEach(function(n){he(o,n,l[n])})}return o}function he(o,a,l){return a in o?Object.defineProperty(o,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[a]=l,o}var V=function(a,l){var u=U({},a,l.attrs);return r(H,U({},u,{icon:_e}),null)};V.displayName="FilterOutlined";V.inheritAttrs=!1;const ge=V;const ye={class:"container-events"},be={class:"schedule"},Oe={class:"schedule-header"},Me={class:"schedule-date"},ke={class:"schedule-filter"},De={key:0,class:"event-time"},Ce={key:1,class:"event-time"},we={class:"event-hour-2"},Ee={class:"title"},Se={class:"event-description"},ze=["onClick"],Ae={class:"modal-calendar-detail"},Pe={style:{"line-height":"1.3","margin-bottom":".5rem"}},Le=["innerHTML"],Ve={key:0},xe={style:{"margin-left":".5rem"}},Te={key:1},Fe={style:{"margin-left":".5rem"}},Ye={key:2},$e={style:{"margin-left":".5rem"}},je={style:{"margin-left":".5rem"}},Ne={key:0},Ue={style:{"margin-left":".5rem"}},He={key:3},Be={style:{"margin-left":".5rem"}},Ge={key:4},Re=["href"],Ie={key:5},qe=["innerHTML"],tt={__name:"EventosGoogleCalendar",setup(o){O.locale("es");const a=Z({value1:["ugo","ugse"]}),l=["ugo","ugse"],u=K(te,{style:{fontSize:"24px"},spin:!0});f(!1);const n=f(null),D=f(!1),C=f(null),x=f(null),T=f(new Date),k=f([]),F=f(null),w=f([]),E=f(!1),B=s=>{n.value=s,D.value=!0},G=s=>{if(Array.isArray(s)&&s.length>0&&s[0].id){const e=s[0].id;C.value=e,F.value!==e&&(F.value=e,$(e))}else console.warn("⚠️ No se pudo detectar el cambio de mes.")},S=s=>({1:"#808080",2:"#f06464",3:"#fd9d0f",4:"#ffb74d",5:"#00b522",6:"#1546b0",7:"#9c27b0",8:"#ff07d8"})[s],Y=s=>({1:"Despega tu empresa",2:"Ferias",3:"Fortalece tu Mercado",4:"Mujer Produce",5:"Potencia tu Empresa",6:"Ruta Digital",7:"Otros UGSE",8:"Difusión UGO"})[s],R=s=>{if(!Array.isArray(s)||s.length===0)return"";const e=O(s[0]).locale("es").format("DD [de] MMMM"),m=s.length>1?O(s[s.length-1]).locale("es").format("DD [de] MMMM"):null;return m?`Desde: ${e} Hasta: ${m}`:`${e}`},I=async()=>{C.value&&(await z("nodata"),await $(C.value))},z=async(s={date:O().format("YYYY-MM-DD")},e)=>{E.value=!0;const m=O(s.date).format("YYYY-MM-DD");x.value=O(s.date).format("dddd DD [de] MMMM [de] YYYY"),e!="nodata"&&k.value.length>0&&k.value[0].dates&&(k.value[0].dates=s.date);const _={ugo:["dte","ftm","pte","dif"],ugse:["ferias","mp","rd","ougse"]};let h=[];a.value1.forEach(v=>{_[v]&&h.push(..._[v])}),h=[...new Set(h)];try{const v=await j({url:`pnte/events-day/${m}`,method:"GET",params:h});v.data&&Array.isArray(v.data)?w.value=v.data:console.warn("⚠️ Respuesta inesperada de la API:",v)}catch(v){console.error("❌ Error al obtener eventos:",v)}finally{E.value=!1}},$=async s=>{try{const e={ugo:["dte","ftm","pte","dif"],ugse:["ferias","mp","rd","ougse"]};let m=[];a.value1.forEach(h=>{e[h]&&m.push(...e[h])}),m=[...new Set(m)];const _=await j({url:`pnte/dots/${s}`,method:"GET",params:m});_.data&&Array.isArray(_.data)?k.value=[{key:"today",highlight:"",dates:[new Date]},..._.data]:console.warn("⚠️ Respuesta de API inesperada:",_)}catch(e){console.error("❌ Error al obtener eventos:",e)}},q=async()=>{await z()};return ee(()=>{q()}),(s,e)=>{const m=y("VCalendar"),_=y("a-checkbox-group"),h=y("a-menu"),v=y("a-dropdown"),J=y("a-empty"),Q=y("a-spin"),W=y("a-modal");return c(),p("section",ye,[e[10]||(e[10]=t("h1",{class:"title-pc"},"CALENDARIO 2025",-1)),t("div",null,[r(m,{ref:"calendar",modelValue:T.value,"onUpdate:modelValue":e[0]||(e[0]=i=>T.value=i),attributes:k.value,expanded:"",locale:"es",transparent:"",borderless:"","onUpdate:pages":G,onDayclick:z},null,8,["modelValue","attributes"])]),t("div",be,[t("div",Oe,[e[3]||(e[3]=t("h4",null,"EVENTOS",-1)),t("span",Me,d(x.value),1),r(v,{trigger:["click"]},{overlay:M(()=>[r(h,null,{default:M(()=>[t("div",ke,[r(_,{value:a.value1,"onUpdate:value":e[1]||(e[1]=i=>a.value1=i),options:l,onChange:I},null,8,["value"])])]),_:1})]),default:M(()=>[t("span",null,[r(g(ge))])]),_:1})]),r(Q,{indicator:g(u),spinning:E.value},{default:M(()=>[w.value.length>0?(c(!0),p(ne,{key:0},ae(w.value,(i,X)=>(c(),p("div",{key:X,class:"event"},[i.start?(c(),p("div",Ce,[t("div",null,d(i.start),1),e[5]||(e[5]=t("br",null,null,-1)),t("div",we,d(i.end),1)])):(c(),p("div",De,e[4]||(e[4]=[t("div",{style:{"text-align":"center","line-height":"1.2"}},"Todo el día",-1)]))),t("div",{class:"schedule-details",style:A({"border-color":S(i.id_pnte)})},[t("small",{class:"schedule-tag",style:A({"background-color":S(i.id_pnte)})},d(Y(i.id_pnte)),5),t("div",Ee,d(i.title),1),t("div",Se,[P(d(i.descriptionparse)+" ",1),t("span",{onClick:Je=>B(i),style:{color:"#2196f3",cursor:"pointer"}},"Ver más",8,ze)])],4)]))),128)):(c(),se(J,{key:1,class:"no-events"},{description:M(()=>e[6]||(e[6]=[t("span",{class:"no-events-span"},"No hay eventos para este día",-1)])),_:1}))]),_:1},8,["indicator","spinning"])]),r(W,{open:D.value,"onUpdate:open":e[2]||(e[2]=i=>D.value=i),title:"",footer:""},{default:M(()=>[t("div",Ae,[t("div",null,[t("h3",Pe,d(n.value.titleComplete),1),t("small",{class:"modal-calendar-tag",style:A({"background-color":S(n.value.id_pnte)})},d(Y(n.value.id_pnte)),5)]),t("div",{style:{"margin-bottom":"1rem",color:"#6c6c6c"},class:"html-format",innerHTML:n.value.descripionAll},null,8,Le),n.value.organiza?(c(),p("div",Ve,[r(g(re)),t("span",xe,d(n.value.organiza),1)])):b("",!0),n.value.gps?(c(),p("div",Te,[r(g(de)),t("span",Fe,d(n.value.gps),1)])):b("",!0),n.value.numMypes?(c(),p("div",Ye,[t("span",null,[r(g(ie))]),t("span",$e,d(n.value.numMypes),1)])):b("",!0),t("div",null,[t("div",null,[r(g(le)),t("span",je,d(R(n.value.dates)),1)]),n.value.start?(c(),p("div",Ne,[r(g(oe)),t("span",Ue,d(n.value.start),1),e[7]||(e[7]=P(" - ")),t("span",null,d(n.value.end),1)])):b("",!0)]),n.value.nameUser?(c(),p("div",He,[r(g(ue)),t("span",Be,[P(d(n.value.nameUser)+" ",1),e[8]||(e[8]=t("small",null,"(Representante)",-1))])])):b("",!0),n.value.link?(c(),p("div",Ge,[r(g(ve)),t("a",{style:{"margin-left":".5rem"},href:n.value.link,target:"_blank",rel:"noopener noreferrer"},"Link del evento",8,Re)])):b("",!0),n.value.resultado?(c(),p("div",Ie,[e[9]||(e[9]=t("h3",null,"Resultados",-1)),t("div",{style:{color:"#6c6c6c"},class:"html-format",innerHTML:n.value.resultado},null,8,qe)])):b("",!0)])]),_:1},8,["open"])])}}};export{tt as default};
