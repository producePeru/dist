import{c as u,A as U,l as D,a as Z,p as K,r as f,j as ee,b as O,o as r,d as i,e,i as y,q as m,t as c,w as M,h as b,L as te,f as N,F as ne,s as ae,v as Y,x as se,y as le,z as oe}from"./index-8020f5f4.js";import"./es-0342cad1.js";import{H as re}from"./HomeOutlined-c010b509.js";import{T as ie}from"./TeamOutlined-ef1ad032.js";import{U as de}from"./UserOutlined-5fbceb02.js";var ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 512.3v-.3c0-229.8-186.2-416-416-416S96 282.2 96 512v.4c0 229.8 186.2 416 416 416s416-186.2 416-416v-.3.2zm-6.7-74.6l.6 3.3-.6-3.3zM676.7 638.2c53.5-82.2 52.5-189.4-11.1-263.7l162.4-8.4c20.5 44.4 32 93.8 32 145.9 0 185.2-144.6 336.6-327.1 347.4l143.8-221.2zM512 652.3c-77.5 0-140.2-62.7-140.2-140.2 0-77.7 62.7-140.2 140.2-140.2S652.2 434.5 652.2 512 589.5 652.3 512 652.3zm369.2-331.7l-3-5.7 3 5.7zM512 164c121.3 0 228.2 62.1 290.4 156.2l-263.6-13.9c-97.5-5.7-190.2 49.2-222.3 141.1L227.8 311c63.1-88.9 166.9-147 284.2-147zM102.5 585.8c26 145 127.1 264 261.6 315.1C229.6 850 128.5 731 102.5 585.8zM164 512c0-55.9 13.2-108.7 36.6-155.5l119.7 235.4c44.1 86.7 137.4 139.7 234 121.6l-74 145.1C302.9 842.5 164 693.5 164 512zm324.7 415.4c4 .2 8 .4 12 .5-4-.2-8-.3-12-.5z"}}]},name:"chrome",theme:"outlined"};const ce=ue;function $(o){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},p=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(s).filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable}))),p.forEach(function(a){pe(o,a,s[a])})}return o}function pe(o,n,s){return n in o?Object.defineProperty(o,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[n]=s,o}var A=function(n,s){var p=$({},n,s.attrs);return u(U,$({},p,{icon:ce}),null)};A.displayName="ChromeOutlined";A.inheritAttrs=!1;const ve=A;var me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};const fe=me;function H(o){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},p=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(s).filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable}))),p.forEach(function(a){_e(o,a,s[a])})}return o}function _e(o,n,s){return n in o?Object.defineProperty(o,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[n]=s,o}var F=function(n,s){var p=H({},n,s.attrs);return u(U,H({},p,{icon:fe}),null)};F.displayName="FilterOutlined";F.inheritAttrs=!1;const ge=F;const ye={class:"container-events"},he={class:"wrapper-dot"},be={key:0},Oe={key:1},Me={key:2},ke={key:3},De={key:4},Ce={key:5},we={class:"schedule"},Se={class:"schedule-header"},Ee={class:"schedule-date"},Pe={class:"schedule-filter"},ze={key:0,class:"event-time"},Ye={key:1,class:"event-time"},Ae={class:"event-hour-2"},Fe={class:"title"},Le={class:"event-description"},Ve=["onClick"],xe={class:"modal-calendar-detail"},Te={style:{"line-height":"1.3","margin-bottom":".5rem"}},je=["innerHTML"],Ne={key:0},$e={style:{"margin-left":".5rem"}},He={key:1},Ue={style:{"margin-left":".5rem"}},Re={style:{"margin-left":".5rem"}},Be={style:{"margin-left":".5rem"}},Ge={key:2},Ie={style:{"margin-left":".5rem"}},qe={key:3},Je=["href"],Qe={key:4},We=["innerHTML"],at={__name:"EventosGoogleCalendar",setup(o){D.locale("es");const n=Z({value1:["ugo","ugse"]}),s=["ugo","ugse"],p=K(te,{style:{fontSize:"24px"},spin:!0});f(!1);const a=f(null),C=f(!1),w=f(null),L=f(null),V=f(new Date),k=f([]),x=f(null),S=f([]),E=f(!1),R=l=>{a.value=l,C.value=!0},B=l=>{if(Array.isArray(l)&&l.length>0&&l[0].id){const t=l[0].id;w.value=t,x.value!==t&&(x.value=t,j(t))}else console.warn("⚠️ No se pudo detectar el cambio de mes.")},P=l=>({1:"#808080",2:"#f06464",3:"#fd9d0f",4:"#ffb74d",5:"#00b522",6:"#1546b0"})[l],T=l=>({1:"Despega tu empresa",2:"Ferias",3:"Fortalece tu Mercado",4:"Mujer Produce",5:"Potencia tu Empresa",6:"Ruta Digital"})[l],G=l=>D(l).locale("es").format("D [de] MMMM [de] YYYY"),I=async()=>{w.value&&(await z("nodata"),await j(w.value))},z=async(l={date:D().format("YYYY-MM-DD")},t)=>{E.value=!0;const h=D(l.date).format("YYYY-MM-DD");L.value=D(l.date).format("dddd DD [de] MMMM [de] YYYY"),t!="nodata"&&k.value.length>0&&k.value[0].dates&&(k.value[0].dates=l.date);const _={ugo:["dte","ftm","pte"],ugse:["ferias","mp","rd"]};let g=[];n.value1.forEach(v=>{_[v]&&g.push(..._[v])}),g=[...new Set(g)];try{const v=await N({url:`pnte/events-day/${h}`,method:"GET",params:g});v.data&&Array.isArray(v.data)?S.value=v.data:console.warn("⚠️ Respuesta inesperada de la API:",v)}catch(v){console.error("❌ Error al obtener eventos:",v)}finally{E.value=!1}},j=async l=>{try{const t={ugo:["dte","ftm","pte"],ugse:["ferias","mp","rd"]};let h=[];n.value1.forEach(g=>{t[g]&&h.push(...t[g])}),h=[...new Set(h)];const _=await N({url:`pnte/dots/${l}`,method:"GET",params:h});_.data&&Array.isArray(_.data)?k.value=[{key:"today",highlight:"",dates:[new Date]},..._.data]:console.warn("⚠️ Respuesta de API inesperada:",_)}catch(t){console.error("❌ Error al obtener eventos:",t)}},q=async()=>{await z()};return ee(()=>{q()}),(l,t)=>{const h=O("VCalendar"),_=O("a-checkbox-group"),g=O("a-menu"),v=O("a-dropdown"),J=O("a-empty"),Q=O("a-spin"),W=O("a-modal");return r(),i("section",ye,[t[16]||(t[16]=e("h1",{class:"title-pc"},"CALENDARIO 2025",-1)),e("div",null,[u(h,{ref:"calendar",modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=d=>V.value=d),attributes:k.value,expanded:"",locale:"es",transparent:"",borderless:"","onUpdate:pages":B,onDayclick:z},null,8,["modelValue","attributes"]),e("div",he,[n.value1.includes("ugo")?(r(),i("div",be,t[3]||(t[3]=[e("i",{class:"dotend dot-1"},null,-1),y(),e("span",null,"Despega tu empresa",-1)]))):m("",!0),n.value1.includes("ugse")?(r(),i("div",Oe,t[4]||(t[4]=[e("i",{class:"dotend dot-2"},null,-1),y(),e("span",null,"Ferias",-1)]))):m("",!0),n.value1.includes("ugo")?(r(),i("div",Me,t[5]||(t[5]=[e("i",{class:"dotend dot-3"},null,-1),y(),e("span",null,"Fortalece tu Mercado",-1)]))):m("",!0),n.value1.includes("ugse")?(r(),i("div",ke,t[6]||(t[6]=[e("i",{class:"dotend dot-4"},null,-1),y(),e("span",null,"Mujer Produce",-1)]))):m("",!0),n.value1.includes("ugo")?(r(),i("div",De,t[7]||(t[7]=[e("i",{class:"dotend dot-5"},null,-1),y(),e("span",null,"Potencia tu Empresa",-1)]))):m("",!0),n.value1.includes("ugse")?(r(),i("div",Ce,t[8]||(t[8]=[e("i",{class:"dotend dot-6"},null,-1),y(),e("span",null,"Ruta Digital",-1)]))):m("",!0)])]),e("div",we,[e("div",Se,[t[9]||(t[9]=e("h4",null,"EVENTOS",-1)),e("span",Ee,c(L.value),1),u(v,{trigger:["click"]},{overlay:M(()=>[u(g,null,{default:M(()=>[e("div",Pe,[u(_,{value:n.value1,"onUpdate:value":t[1]||(t[1]=d=>n.value1=d),options:s,onChange:I},null,8,["value"])])]),_:1})]),default:M(()=>[e("span",null,[u(b(ge))])]),_:1})]),u(Q,{indicator:b(p),spinning:E.value},{default:M(()=>[S.value.length>0?(r(!0),i(ne,{key:0},ae(S.value,(d,X)=>(r(),i("div",{key:X,class:"event"},[d.allDay==1?(r(),i("div",ze,t[10]||(t[10]=[e("div",{style:{"text-align":"center","line-height":"1.2"}},"Todo el día",-1)]))):(r(),i("div",Ye,[e("div",null,c(d.start),1),t[11]||(t[11]=e("br",null,null,-1)),e("div",Ae,c(d.end),1)])),e("div",{class:"schedule-details",style:Y({"border-color":P(d.id_pnte)})},[e("small",{class:"schedule-tag",style:Y({"background-color":P(d.id_pnte)})},c(T(d.id_pnte)),5),e("div",Fe,c(d.title),1),e("div",Le,[y(c(d.descriptionparse)+" ",1),e("span",{onClick:Xe=>R(d),style:{color:"#2196f3",cursor:"pointer"}},"Ver más",8,Ve)])],4)]))),128)):(r(),se(J,{key:1,class:"no-events"},{description:M(()=>t[12]||(t[12]=[e("span",{class:"no-events-span"},"No hay eventos para este día",-1)])),_:1}))]),_:1},8,["indicator","spinning"])]),u(W,{open:C.value,"onUpdate:open":t[2]||(t[2]=d=>C.value=d),title:"",footer:""},{default:M(()=>[e("div",xe,[e("div",null,[e("h3",Te,c(a.value.title),1),e("small",{class:"modal-calendar-tag",style:Y({"background-color":P(a.value.id_pnte)})},c(T(a.value.id_pnte)),5)]),e("div",{style:{"margin-bottom":"1rem",color:"#6c6c6c"},class:"html-format",innerHTML:a.value.descripionAll},null,8,je),a.value.organiza?(r(),i("div",Ne,[u(b(re)),e("span",$e,c(a.value.organiza),1)])):m("",!0),a.value.numMypes?(r(),i("div",He,[e("span",null,[u(b(ie))]),e("span",Ue,c(a.value.numMypes)+" Participantes",1)])):m("",!0),e("div",null,[e("div",null,[u(b(le)),e("span",Re,c(G(a.value.date)),1)]),e("div",null,[u(b(oe)),e("span",Be,c(a.value.start),1),t[13]||(t[13]=y(" - ")),e("span",null,c(a.value.end),1)])]),a.value.nameUser?(r(),i("div",Ge,[u(b(de)),e("span",Ie,[y(c(a.value.nameUser)+" ",1),t[14]||(t[14]=e("small",null,"(Responsable)",-1))])])):m("",!0),a.value.link?(r(),i("div",qe,[u(b(ve)),e("a",{style:{"margin-left":".5rem"},href:a.value.link,target:"_blank",rel:"noopener noreferrer"},"Link",8,Je)])):m("",!0),a.value.resultado?(r(),i("div",Qe,[t[15]||(t[15]=e("h3",null,"Resultados",-1)),e("div",{style:{color:"#6c6c6c"},class:"html-format",innerHTML:a.value.resultado},null,8,We)])):m("",!0)])]),_:1},8,["open"])])}}};export{at as default};
