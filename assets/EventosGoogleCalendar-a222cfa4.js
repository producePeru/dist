import{F as _,i as T,a as k,b as D}from"./index-45ae245f.js";import{r as a,j as h,b as B,o as u,d as p,c as g,h as F,w as M,l as H,e as o,i as r,t as c,p as x,q as C}from"./index-57df8bbc.js";const V={class:"calendar-container"},w={key:0},L={key:0},S=["innerHTML"],A={__name:"EventosGoogleCalendar",setup(G){const v=a(!1),i=a(!1),s=a(null),b={1:"#7986CB",2:"#33B679",3:"#8E24AA",4:"#E67C73",5:"#F6BF26",6:"#F4511E",7:"#039BE5",8:"#616161",9:"#3F51B5",10:"#0B8043",11:"#D50000"},m=a({plugins:[T,k,D],headerToolbar:{left:"title",center:"",right:"prev,next today"},buttonText:{today:"Hoy",month:"Mes",week:"Semana",day:"Día"},initialView:"dayGridMonth",fixedHeight:!0,height:"101%",editable:!1,droppable:!1,locale:"es",events:[],dayMaxEventRows:3,moreLinkText:"+ Ver más...",eventContent:function(e){const t=e.event.start?C(e.event.start):null,n=t&&t.hour()!==0?t.format("HH:mm"):"",d=e.event.title,y=e.event.backgroundColor||"";let l='<div class="fc-event-content">';return y&&(l+=`<span class="fc-event-color" style="background:${y};"></span>`),n&&(l+=`<span class="fc-event-time">${n}</span>`),l+=`<span class="fc-event-title">${d}</span>`,l+="</div>",{html:l}},eventDidMount:e=>{e.el.style.borderRadius="5px",e.el.style.border="none",e.el.style.padding="4px 6px",e.el.style.fontSize="12px",e.el.style.fontFamily="'Google Sans', 'Roboto', Arial, sans-serif",e.el.style.fontWeight="500"},eventClick:e=>{s.value=e.event,i.value=!0}}),E=async()=>{try{v.value=!0;const e=await H({url:"google/events-pnte/events",method:"GET"});if(e&&e.data){const t=e.data.map(n=>({id:n.id,title:n.summary,start:n.start,end:n.end,description:n.description||"",backgroundColor:b[n.color]||"#4285F4",textColor:"#ffffff"}));m.value.events=t}}catch(e){console.error("Error al obtener los eventos:",e)}finally{v.value=!1}},f=e=>C(e).format("DD/MM/YYYY HH:mm");return h(()=>{E()}),(e,t)=>{const n=B("a-modal");return u(),p("section",V,[g(F(_),{class:"demo-app-calendar",options:m.value},null,8,["options"]),g(n,{visible:i.value,"onUpdate:visible":t[0]||(t[0]=d=>i.value=d),title:"DETALLES DEL EVENTO",footer:null,width:"420px",style:{"z-index":"999"}},{default:M(()=>[s.value?(u(),p("div",w,[o("p",null,[t[1]||(t[1]=o("strong",null,"Título:",-1)),r(" "+c(s.value.title),1)]),o("p",null,[t[2]||(t[2]=o("strong",null,"Inicio:",-1)),r(" "+c(f(s.value.start)),1)]),o("p",null,[t[3]||(t[3]=o("strong",null,"Fin:",-1)),r(" "+c(f(s.value.end)),1)]),s.value.extendedProps.description?(u(),p("p",L,[t[4]||(t[4]=o("strong",null,"Descripción:",-1)),t[5]||(t[5]=r()),o("p",{innerHTML:s.value.extendedProps.description},null,8,S)])):x("",!0)])):x("",!0)]),_:1},8,["visible"])])}}};export{A as default};
