import{r as x,a as Se,b as g,o as a,d as u,c as v,w as _,e as w,F as p,x as Ce,h as C,q as y,s as i,t as r,i as m,z as W,m as j,K as R,g as Le,v as qe,H as Pe,k as Oe,n as ie,G as Be,Q as Ge,I as He,M as Ve,p as je,j as Je}from"./index-400de86f.js";import{_ as Qe}from"./icoexcel-1b303edf.js";import"./es-9afbe049.js";import{u as oe}from"./selectes-0d937319.js";import{a as We,r as Ze}from"./asesorias-d8655cd6.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import{M as Ke}from"./MoreOutlined-f34ed09f.js";const Xe={class:"wrapper-booking"},et={class:"grid-booking"},tt={__name:"EditarAsesoria",props:["info"],emits:["closeDraw"],setup(q,{emit:P}){const l=oe(),N=JSON.parse(localStorage.getItem("profile")),U=x(!1),D=q,G=P;l.$patch({components:l.components}),l.$patch({componentThemes:l.componentThemes}),l.$patch({modalities:l.modalities}),l.$patch({cities:l.cities}),l.$patch({economicSectors:l.economicSectors}),l.$patch({comercialActivities:l.comercialActivities}),l.fetchEconomicSectors(),l.fetchComercialActivities(),l.fetchComponents(),l.fetchComponentThemes(),l.fetchModalities(),l.fetchCities();const c=x(!0),e=Se({observations:null,user_id:N.user_id,people_id:null,component_id:null,theme_id:null,modality_id:null,city_id:null,province_id:null,district_id:null}),O=()=>{l.cities&&(c.value=!1),e.economicsector_id=D.info.economicsector_id,e.comercialactivity_id=D.info.comercialactivity_id,e.ruc=D.info.ruc,e.component_id=D.info.component_id,H(D.info.component_id),e.theme_id=D.info.theme_id,e.modality_id=D.info.modality_id,e.city_id=D.info.city_id,M(D.info.city_id),e.province_id=D.info.province_id,T(D.info.province_id),e.district_id=D.info.district_id,e.observations=D.info.observations},H=h=>{e.theme_id=null,l.fetchComponentThemes(h)},M=h=>{e.province_id=null,e.district_id=null,l.fetchProvinces(h)},T=h=>{e.district_id=null,l.fetchDistricts(h)},z=(h,I)=>{const S=h.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return I.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(S)},F=h=>{h=="ruc"&&(e[h]=e[h].replace(/\D/g,""))},b=async()=>{U.value=!0;const h={economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,ruc:e.ruc,observations:e.observations,component_id:e.component_id,theme_id:e.theme_id,modality_id:e.modality_id,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,updated_by:N.user_id};try{const I=await W({url:`advisory/update/${D.info.id}`,method:"PUT",data:h});I.status===200&&(j.success(I.message),e.component_id=null,e.theme_id=null,e.modality_id=null,e.city_id=null,e.province_id=null,e.district_id=null,e.observations=null,G("closeDraw",!0))}catch(I){console.log("Error: "+I)}finally{U.value=!1}},E=()=>{j.warning("Debes de completar todos los espacios requeridos")};return(h,I)=>{const S=g("a-select"),A=g("a-form-item"),J=g("a-textarea"),V=g("a-input"),Y=g("a-button"),o=g("a-form"),Q=g("a-spin");return a(),u("div",Xe,[v(Q,{spinning:c.value},{default:_(()=>[v(o,{layout:"vertical",model:e,name:"basic",autocomplete:"off",onFinish:b,onFinishFailed:E},{default:_(()=>[w("div",et,[(a(!0),u(p,null,Ce(C(We),(t,ee)=>(a(),u(p,{key:ee},[t.type==="iSelect"?(a(),y(A,{key:0,class:"item-max",name:t.name,label:t.label,rules:[{required:t.required,message:t.message}]},{default:_(()=>[t.name=="modality_id"?(a(),y(S,{key:0,value:e[t.name],"onUpdate:value":k=>e[t.name]=k,options:C(l).modalities},null,8,["value","onUpdate:value","options"])):i("",!0)]),_:2},1032,["name","label","rules"])):i("",!0),t.type==="iTextarea"?(a(),y(A,{key:1,name:t.name,label:t.label,rules:[{required:t.required,message:t.message}]},{default:_(()=>[v(J,{value:e[t.name],"onUpdate:value":k=>e[t.name]=k,rows:3},null,8,["value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):i("",!0),t.type==="iText"?(a(),y(A,{key:2,name:t.name,label:t.label,rules:[{required:t.required,message:t.message,type:t.email,max:t.max}]},{default:_(()=>[v(V,{value:e[t.name],"onUpdate:value":k=>e[t.name]=k,maxlength:t.max,onInput:k=>F(t.name),placeholder:t.placeholder},null,8,["value","onUpdate:value","maxlength","onInput","placeholder"])]),_:2},1032,["name","label","rules"])):i("",!0),t.type==="iSelectWrite"?(a(),y(A,{key:3,class:"item-max",name:t.name,label:t.label,rules:[{required:t.required,message:t.message}]},{default:_(()=>[t.name=="theme_id"?(a(),y(S,{key:0,value:e[t.name],"onUpdate:value":k=>e[t.name]=k,"show-search":"",options:C(l).componentThemes,"filter-option":z,disabled:!e.component_id},null,8,["value","onUpdate:value","options","disabled"])):i("",!0),t.name=="city_id"?(a(),y(S,{key:1,value:e[t.name],"onUpdate:value":k=>e[t.name]=k,"show-search":"",options:C(l).cities,"filter-option":z,onChange:M},null,8,["value","onUpdate:value","options"])):i("",!0),t.name=="province_id"?(a(),y(S,{key:2,value:e[t.name],"onUpdate:value":k=>e[t.name]=k,"show-search":"",options:C(l).provinces,"filter-option":z,onChange:T,disabled:!e.city_id},null,8,["value","onUpdate:value","options","disabled"])):i("",!0),t.name=="district_id"?(a(),y(S,{key:3,value:e[t.name],"onUpdate:value":k=>e[t.name]=k,"show-search":"",options:C(l).districts,"filter-option":z,disabled:!e.province_id},null,8,["value","onUpdate:value","options","disabled"])):i("",!0),t.name=="component_id"?(a(),y(S,{key:4,value:e[t.name],"onUpdate:value":k=>e[t.name]=k,options:C(l).components,onChange:H},null,8,["value","onUpdate:value","options"])):i("",!0),t.name=="economicsector_id"?(a(),y(S,{key:5,value:e[t.name],"onUpdate:value":k=>e[t.name]=k,"show-search":"",options:C(l).economicSectors,"filter-option":z},null,8,["value","onUpdate:value","options"])):i("",!0),t.name=="comercialactivity_id"?(a(),y(S,{key:6,value:e[t.name],"onUpdate:value":k=>e[t.name]=k,"show-search":"",options:C(l).comercialActivities,"filter-option":z},null,8,["value","onUpdate:value","options"])):i("",!0)]),_:2},1032,["name","label","rules"])):i("",!0)],64))),128))]),w("div",null,r(O()),1),v(A,null,{default:_(()=>[v(Y,{type:"primary",class:"btn-produce","html-type":"submit",loading:U.value},{default:_(()=>[m("GUARDAR")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])}}},at=ne(tt,[["__scopeId","data-v-fe1afd70"]]);const it={class:"wrapper-booking"},ot={class:"grid-booking"},nt={__name:"EditarFormalizacionRUC10",props:["info"],emits:["closeDraw"],setup(q,{emit:P}){const l=x(!0),N=JSON.parse(localStorage.getItem("profile")),U=q,D=P,G=x(!1),c=oe();c.$patch({cities:c.cities}),c.$patch({provinces:c.provinces}),c.$patch({districts:c.districts}),c.$patch({modalities:c.modalities}),c.$patch({detailProcedures:c.detailProcedures}),c.$patch({economicSectors:c.economicSectors}),c.$patch({comercialActivities:c.comercialActivities}),c.fetchDetailProcedures(),c.fetchModalities(),c.fetchEconomicSectors(),c.fetchComercialActivities(),c.fetchCities();const e=Se({detailprocedure_id:null,modality_id:null,economicsector_id:null,comercialactivity_id:null,city_id:null,province_id:null,district_id:null,user_id:N.user_id}),O=()=>{e.detailprocedure_id=U.info.detailprocedure_id,e.modality_id=U.info.modality_id,e.economicsector_id=U.info.economicsector_id,e.comercialactivity_id=U.info.comercialactivity_id,e.city_id=U.info.city_id,M(U.info.city_id),e.province_id=U.info.province_id,T(U.info.province_id),e.district_id=U.info.district_id,e.ruc=U.info.ruc,e.address=U.info.address,c.cities&&(l.value=!1)},H=E=>{E=="ruc"&&(e[E]=e[E].replace(/\D/g,""))},M=E=>{e.province_id=null,e.district_id=null,c.fetchProvinces(E)},T=E=>{e.district_id=null,c.fetchDistricts(E)},z=(E,h)=>{const I=E.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return h.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(I)},F=async()=>{G.value=!0;const E={detailprocedure_id:e.detailprocedure_id,modality_id:e.modality_id,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,address:e.address,ruc:e.ruc,updated_by:N.user_id};try{const h=await W({url:`formalization/update-ruc-10/${U.info.id}`,method:"PUT",data:E});h.status===200&&(j.success(h.message),e.detailprocedure_id=null,e.modality_id=null,e.economicsector_id=null,e.comercialactivity_id=null,e.city_id=null,e.province_id=null,e.district_id=null,e.address=null,e.ruc=null,D("closeDraw",!0))}catch(h){console.log("Error: "+h)}finally{G.value=!1}},b=()=>{j.warning("Debes de completar todos los espacios requeridos")};return(E,h)=>{const I=g("a-select"),S=g("a-form-item"),A=g("a-input"),J=g("a-button"),V=g("a-form"),Y=g("a-spin");return a(),u("div",it,[v(Y,{spinning:l.value},{default:_(()=>[v(V,{layout:"vertical",model:e,name:"basic",autocomplete:"off",onFinish:F,onFinishFailed:b},{default:_(()=>[w("div",ot,[(a(!0),u(p,null,Ce(C(Ze),(o,Q)=>(a(),u(p,{key:Q},[o.type==="iSelect"?(a(),y(S,{key:0,class:"item-max",name:o.name,label:o.label,rules:[{required:o.required,message:o.message}]},{default:_(()=>[o.name=="detailprocedure_id"?(a(),y(I,{key:0,value:e[o.name],"onUpdate:value":t=>e[o.name]=t,options:C(c).detailProcedures},null,8,["value","onUpdate:value","options"])):i("",!0),o.name=="modality_id"?(a(),y(I,{key:1,value:e[o.name],"onUpdate:value":t=>e[o.name]=t,options:C(c).modalities},null,8,["value","onUpdate:value","options"])):i("",!0)]),_:2},1032,["name","label","rules"])):i("",!0),o.type==="iText"?(a(),y(S,{key:1,name:o.name,label:o.label,rules:[{required:o.required,message:o.message,type:o.email,max:o.max}]},{default:_(()=>[v(A,{value:e[o.name],"onUpdate:value":t=>e[o.name]=t,disabled:o.disabled,maxlength:o.max,onInput:t=>H(o.name)},null,8,["value","onUpdate:value","disabled","maxlength","onInput"])]),_:2},1032,["name","label","rules"])):i("",!0),o.type==="iSelectWrite"?(a(),y(S,{key:2,class:"item-max",name:o.name,label:o.label,rules:[{required:o.required,message:o.message}]},{default:_(()=>[o.name=="economicsector_id"?(a(),y(I,{key:0,value:e[o.name],"onUpdate:value":t=>e[o.name]=t,options:C(c).economicSectors},null,8,["value","onUpdate:value","options"])):i("",!0),o.name=="comercialactivity_id"?(a(),y(I,{key:1,value:e[o.name],"onUpdate:value":t=>e[o.name]=t,options:C(c).comercialActivities},null,8,["value","onUpdate:value","options"])):i("",!0),o.name=="city_id"?(a(),y(I,{key:2,value:e[o.name],"onUpdate:value":t=>e[o.name]=t,"show-search":"",options:C(c).cities,"filter-option":z,onChange:M},null,8,["value","onUpdate:value","options"])):i("",!0),o.name=="province_id"?(a(),y(I,{key:3,value:e[o.name],"onUpdate:value":t=>e[o.name]=t,"show-search":"",options:C(c).provinces,"filter-option":z,onChange:T,disabled:!e.city_id},null,8,["value","onUpdate:value","options","disabled"])):i("",!0),o.name=="district_id"?(a(),y(I,{key:4,value:e[o.name],"onUpdate:value":t=>e[o.name]=t,"show-search":"",options:C(c).districts,"filter-option":z,disabled:!e.province_id},null,8,["value","onUpdate:value","options","disabled"])):i("",!0)]),_:2},1032,["name","label","rules"])):i("",!0)],64))),128))]),w("div",null,r(O()),1),v(S,null,{default:_(()=>[v(J,{type:"primary",class:"btn-produce","html-type":"submit",loading:G.value},{default:_(()=>[m("GUARDAR")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])}}},st=ne(nt,[["__scopeId","data-v-4855a03a"]]);const X=q=>(je("data-v-2e32b1ac"),q=q(),Je(),q),lt={class:"header-rep"},dt={class:"filters-dig"},rt=X(()=>w("img",{width:"20",style:{margin:"-2px 4px 0 0"},src:Qe},null,-1)),ct={class:"filters"},ut={class:"rango"},mt=X(()=>w("label",null,"Buscar por rango de Fechas",-1)),pt={key:0,class:"asesor"},_t=X(()=>w("label",null,"Buscar por Asesores",-1)),vt=["onClick"],ft=X(()=>w("a",null,"Eliminar",-1)),ht={class:"paginator-asesories"},ke=20,yt={__name:"AsesoriasLista",setup(q){R.locale("es");const P=x(!1),l=x(!1),N=x(null),U=JSON.parse(localStorage.getItem("role")),D=Le.get("token"),G="https://apituempresa.soporte-pnte.com/api/",c="http://127.0.0.1:8000/api/",e=window.location.hostname=="localhost"||window.location.hostname=="127.0.0.1"?c:G,O=oe(),H=x([]),M=x(!1),T=x(!1),z=x(0),F=x({page:0}),b=x("asesorias"),E=x(1200),h=x(window.innerHeight-100),I=x("historial/advisories/filters"),S=x([]),A=x(null);O.$patch({asesores:O.asesores}),O.fetchAsesores();const J=x([{label:"Últimos 7 días",value:[R().add(-7,"d"),R()]},{label:"Últimos 14 días",value:[R().add(-14,"d"),R()]},{label:"Último mes",value:[R().add(-30,"d"),R()]},{label:"Último 3 meses",value:[R().add(-90,"d"),R()]}]),V=()=>{h.value=window.innerHeight-320};qe(()=>{window.removeEventListener("resize",V)});const Y=x([]),o=x([{title:"#",dataIndex:"idx",fixed:"left",align:"center",width:50},{title:"Fecha",dataIndex:"ase_fecha",fixed:"left",align:"center",width:130},{title:"Solicitante Apellidos",dataIndex:"sol_apellidos",width:180},{title:"Solicitante Nombres",dataIndex:"sol_nombres",width:180},{title:"S. Tipo Documento",dataIndex:"sol_tipo_doc",width:160},{title:"S. Núm. Documento",dataIndex:"sol_num_doc",width:150},{title:"S. Email",dataIndex:"sol_email",width:200},{title:"S. Celular",dataIndex:"sol_phone",width:110,align:"center"},{title:"Asesorado por",dataIndex:"asesor",width:200},{title:"Supervisor",dataIndex:"misupervisor",width:200},{title:"Región",dataIndex:"mype_region",width:140},{title:"Provincia",dataIndex:"mype_provincia",width:160},{title:"Distrito",dataIndex:"mype_distrito",width:160},{title:"Componente",dataIndex:"componente",width:180},{title:"Tema",dataIndex:"tema_componente",width:180},{title:"Modalidad",dataIndex:"modality",width:120,align:"center"},{title:"",dataIndex:"actions",width:50,align:"center",fixed:"right"}]),Q=x([{title:"#",dataIndex:"idx",fixed:"left",align:"center",width:50},{title:"Fecha",dataIndex:"ase_fecha",fixed:"left",align:"center",width:130},{title:"Solicitante Apellidos",dataIndex:"sol_apellidos",width:180},{title:"Solicitante Nombres",dataIndex:"sol_nombres",width:180},{title:"S. Tipo Documento",dataIndex:"sol_tipo_doc",width:160},{title:"S. Núm. Documento",dataIndex:"sol_num_doc",width:150},{title:"S. Email",dataIndex:"sol_email",width:200},{title:"S. Celular",dataIndex:"sol_phone",width:110,align:"center"},{title:"Asesorado por",dataIndex:"asesor",width:200},{title:"Supervisor",dataIndex:"misupervisor",width:200},{title:"Región",dataIndex:"mype_region",width:140},{title:"Provincia",dataIndex:"mype_provincia",width:160},{title:"Distrito",dataIndex:"mype_distrito",width:160},{title:"Detalle del trámite",dataIndex:"detalle_tramite",width:180},{title:"Sector económico",dataIndex:"sector_economico",width:180},{title:"Actividad comercial",dataIndex:"atividad_comercial",width:180},{title:"Modalidad",dataIndex:"modality",width:120,align:"center"},{title:"",dataIndex:"actions",width:50,align:"center",fixed:"right"}]),t=x([{title:"#",dataIndex:"idx",fixed:"left",align:"center",width:50},{title:"Fecha",dataIndex:"ase_fecha",fixed:"left",align:"center",width:130},{title:"Solicitante Apellidos",dataIndex:"sol_apellidos",width:180},{title:"Solicitante Nombres",dataIndex:"sol_nombres",width:180},{title:"S. Tipo Documento",dataIndex:"sol_tipo_doc",width:160},{title:"S. Núm. Documento",dataIndex:"sol_num_doc",width:150},{title:"S. Email",dataIndex:"sol_email",width:200},{title:"S. Celular",dataIndex:"sol_phone",width:110,align:"center"},{title:"Asesorado por",dataIndex:"asesor",width:200},{title:"Supervisor",dataIndex:"misupervisor",width:200},{title:"Región",dataIndex:"mype_region",width:140},{title:"Provincia",dataIndex:"mype_provincia",width:160},{title:"Distrito",dataIndex:"mype_distrito",width:160},{title:"Dirección",dataIndex:"mype_direccion",width:230},{title:"Nombre de Empresa Constituida",dataIndex:"mype_nombre",width:240},{title:"Régimen",dataIndex:"tipo_regimen",width:76,align:"center"},{title:"Número de notaría",dataIndex:"numero_envio_notaria",width:140},{title:"Notaría",dataIndex:"notaria",width:150},{title:"Modalidad",dataIndex:"modality",width:120,align:"center"},{title:"RUC",dataIndex:"ruc",width:120,align:"center"}]),ee=async()=>{L(b.value)},k=f=>{F.value.page=f,L()},Ue=f=>R(f).format("DD-MM-YYYY HH:mm"),De=f=>({asesorias:"Asesorías",ruc10:"Formalizaciones RUC 10",ruc20:"Formalizaciones RUC 20"})[f],Ae=async f=>{try{let n=null;b.value=="asesorias"&&(n=`advisory/delete/${f.id}`),b.value=="ruc10"&&(n=`formalization/delete-ruc-10/${f.id}`);const $=await W({url:n,method:"DELETE"});L(),j.success($.message)}catch(n){console.error("Error de red:",n)}},Ee=async f=>{try{let n=null;b.value=="asesorias"&&(n=`advisory/find/${f.id}`),b.value=="ruc10"&&(n=`formalization/find-ruc-10/${f.id}`);const $=await W({url:n,method:"GET"});$.status==200&&(N.value=$.data,b.value=="asesorias"&&(P.value=!0),b.value=="ruc10"&&(l.value=!0))}catch(n){console.error("Error de red:",n)}},$e=async()=>{T.value=!0;let f="",n="";b.value=="asesorias"&&(f="download/asesories",n="asesorias.xlsx"),b.value=="ruc10"&&(f="download/formalizations-ruc10",n="formalizacionesRUC10.xlsx"),b.value=="ruc20"&&(f="download/formalizations-ruc20",n="formalizacionesRUC20.xlsx");try{const $={};A.value&&($.dateStart=R(A.value[0]).format("YYYY-MM-DD"),$.dateEnd=R(A.value[1]).format("YYYY-MM-DD"));const{data:te}=await Be.get(`${e}${f}`,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${D}`},params:$,responseType:"blob"}),ae=new Blob([te]),Z=window.URL.createObjectURL(ae),B=document.createElement("a");B.href=Z,B.download=n,document.body.appendChild(B),B.click(),document.body.removeChild(B)}catch{j.error("Error")}finally{T.value=!1}},L=async f=>{try{M.value=!0;const n={...S.value.length>=1&&{user_id:S.value.toString()},...A.value&&{dateStart:R(A.value[0]).format("YYYY-MM-DD")},...A.value&&{dateEnd:R(A.value[1]).format("YYYY-MM-DD")},...F.value.page!=0&&{page:F.value.page}};b.value=="asesorias"&&(Y.value=o.value),f=="asesorias"&&(F.value.page=0,b.value=f,Y.value=o.value,I.value="historial/advisories/filters"),f=="ruc10"&&(F.value.page=0,b.value=f,Y.value=Q.value,I.value="historial/formalizations-10/filters"),f=="ruc20"&&(F.value.page=0,b.value=f,Y.value=t.value,I.value="historial/formalizations-20/filters");const $=await W({url:I.value,method:"GET",params:n});H.value=$.data,z.value=$.total}catch(n){console.error("Error de red:",n)}finally{M.value=!1}},ze=Pe(()=>f=>((F.value.page==0?1:F.value.page)-1)*ke+f+1);return Oe(()=>{L(),window.addEventListener("resize",V),V()}),(f,n)=>{const $=g("a-button"),te=g("a-range-picker"),ae=g("a-select"),Z=g("a-tag"),B=g("a-menu-item"),Re=g("a-popconfirm"),Fe=g("a-menu"),Ne=g("a-dropdown"),Me=g("a-table"),Te=g("a-pagination"),se=g("a-drawer");return a(),u(p,null,[w("div",null,[w("div",lt,[w("h3",{class:ie({hdactive:b.value=="asesorias"}),onClick:n[0]||(n[0]=s=>L("asesorias"))},"ASESORÍAS",2),w("h3",{class:ie({hdactive:b.value=="ruc10"}),onClick:n[1]||(n[1]=s=>L("ruc10"))},"FORMALIZACIONES RUC 10",2),w("h3",{class:ie({hdactive:b.value=="ruc20"}),onClick:n[2]||(n[2]=s=>L("ruc20"))},"FORMALIZACIONES RUC 20",2)]),w("div",dt,[w("div",null,[w("div",null,[v($,{class:"btn-excel",onClick:$e,loading:T.value,type:"primary"},{default:_(()=>[rt,m(" DESCARGAR ")]),_:1},8,["loading"])])]),w("div",ct,[w("div",ut,[mt,v(te,{value:A.value,"onUpdate:value":n[3]||(n[3]=s=>A.value=s),presets:J.value},null,8,["value","presets"])]),C(U)[0].id==1?(a(),u("div",pt,[_t,v(ae,{value:S.value,"onUpdate:value":n[4]||(n[4]=s=>S.value=s),mode:"multiple",placeholder:"Selecciona asesores","max-tag-count":"responsive",options:C(O).asesores},null,8,["value","options"])])):i("",!0),v($,{onClick:ee},{default:_(()=>[m("BUSCAR")]),_:1})])]),v(Me,{bordered:"",scroll:{x:E.value,y:h.value},class:"table-historial",columns:Y.value,"data-source":H.value,pagination:!1,loading:M.value,size:"small"},{bodyCell:_(({column:s,record:d,index:Ye})=>{var le,de,re,ce,ue,me,pe,_e,ve,fe,he,ye,ge,xe,we,be,Ie;return[s.dataIndex=="idx"?(a(),u(p,{key:0},[m(r(ze.value(Ye)),1)],64)):i("",!0),s.dataIndex=="ase_fecha"?(a(),u(p,{key:1},[m(r(Ue(d.created_at)),1)],64)):i("",!0),s.dataIndex=="sol_apellidos"?(a(),u(p,{key:2},[m(r(d.people.lastname)+" "+r(d.people.middlename),1)],64)):i("",!0),s.dataIndex=="sol_nombres"?(a(),u(p,{key:3},[m(r(d.people.name),1)],64)):i("",!0),s.dataIndex=="sol_tipo_doc"?(a(),u(p,{key:4},[m(r(d.people.typedocument.name),1)],64)):i("",!0),s.dataIndex=="sol_num_doc"?(a(),u(p,{key:5},[m(r(d.people.documentnumber),1)],64)):i("",!0),s.dataIndex=="sol_email"?(a(),u(p,{key:6},[m(r(d.people.email),1)],64)):i("",!0),s.dataIndex=="sol_phone"?(a(),u(p,{key:7},[m(r(d.people.phone),1)],64)):i("",!0),s.dataIndex=="asesor"?(a(),u(p,{key:8},[m(r((le=d.user)==null?void 0:le.profile.name)+" "+r((de=d.user)==null?void 0:de.profile.lastname)+" "+r((re=d.user)==null?void 0:re.profile.middlename),1)],64)):i("",!0),s.dataIndex=="misupervisor"?(a(),u(p,{key:9},[m(r((ce=d.supervisor)==null?void 0:ce.supervisor_user.profile.name)+" "+r((ue=d.supervisor)==null?void 0:ue.supervisor_user.profile.lastname)+" "+r((me=d.supervisor)==null?void 0:me.supervisor_user.profile.middlename),1)],64)):i("",!0),s.dataIndex=="mype_region"?(a(),u(p,{key:10},[m(r((pe=d.city)==null?void 0:pe.name),1)],64)):i("",!0),s.dataIndex=="mype_provincia"?(a(),u(p,{key:11},[m(r((_e=d.province)==null?void 0:_e.name),1)],64)):i("",!0),s.dataIndex=="mype_distrito"?(a(),u(p,{key:12},[m(r((ve=d.district)==null?void 0:ve.name),1)],64)):i("",!0),s.dataIndex=="componente"?(a(),u(p,{key:13},[m(r((fe=d.component)==null?void 0:fe.name),1)],64)):i("",!0),s.dataIndex=="tema_componente"?(a(),u(p,{key:14},[m(r((he=d.theme)==null?void 0:he.name),1)],64)):i("",!0),s.dataIndex=="detalle_tramite"?(a(),u(p,{key:15},[m(r((ye=d.detailprocedure)==null?void 0:ye.name),1)],64)):i("",!0),s.dataIndex=="sector_economico"?(a(),u(p,{key:16},[m(r((ge=d.economicsector)==null?void 0:ge.name),1)],64)):i("",!0),s.dataIndex=="atividad_comercial"?(a(),u(p,{key:17},[m(r((xe=d.comercialactivity)==null?void 0:xe.name),1)],64)):i("",!0),s.dataIndex=="mype_direccion"?(a(),u(p,{key:18},[m(r(d==null?void 0:d.address),1)],64)):i("",!0),s.dataIndex=="mype_nombre"?(a(),u(p,{key:19},[m(r(d.nameMype),1)],64)):i("",!0),s.dataIndex=="tipo_regimen"?(a(),u(p,{key:20},[m(r((we=d.regime)==null?void 0:we.name),1)],64)):i("",!0),s.dataIndex=="numero_envio_notaria"?(a(),u(p,{key:21},[m(r(d.numbernotary),1)],64)):i("",!0),s.dataIndex=="notaria"?(a(),u(p,{key:22},[m(r((be=d.notary)==null?void 0:be.name),1)],64)):i("",!0),s.dataIndex=="codesunarp"?(a(),u(p,{key:23},[m(r(d.codesunarp),1)],64)):i("",!0),s.dataIndex==="modality"?(a(),y(Z,{key:24,color:((Ie=d.modality)==null?void 0:Ie.name)=="Presencial"?"green":"orange"},{default:_(()=>{var K;return[m(r((K=d.modality)==null?void 0:K.name),1)]}),_:2},1032,["color"])):i("",!0),s.dataIndex=="ruc"?(a(),u(p,{key:25},[m(r(d.ruc?d.ruc:"EN TRÁMITE"),1)],64)):i("",!0),s.dataIndex=="actions"?(a(),y(Ne,{key:26,trigger:["click"]},{overlay:_(()=>[v(Fe,null,{default:_(()=>[v(B,null,{default:_(()=>[w("a",{onClick:K=>Ee(d)},"Editar",8,vt)]),_:2},1024),v(B,null,{default:_(()=>[v(Re,{title:"¿Seguro de eliminar?",onConfirm:K=>Ae(d),class:"prod-alert"},{icon:_(()=>[v(C(Ge),{style:{color:"red"}})]),default:_(()=>[ft]),_:2},1032,["onConfirm"])]),_:2},1024)]),_:2},1024)]),default:_(()=>[w("a",{class:"ant-dropdown-link",onClick:n[5]||(n[5]=He(()=>{},["prevent"]))},[v($,{shape:"circle",icon:Ve(C(Ke)),size:"small"},null,8,["icon"])])]),_:2},1024)):i("",!0)]}),_:1},8,["scroll","columns","data-source","loading"])]),w("div",ht,[w("span",null,[v(Z,{color:"blue"},{default:_(()=>[w("b",null,r(z.value),1)]),_:1}),m(r(De(b.value)),1)]),v(Te,{size:"small",total:z.value,pageSize:ke,onChange:k,showSizeChanger:!1,defaultCurrent:2},null,8,["total"])]),v(se,{width:"600",title:"Editar asesoría",open:P.value,"onUpdate:open":n[7]||(n[7]=s=>P.value=s),placement:"right"},{default:_(()=>[v(at,{info:N.value,onCloseDraw:n[6]||(n[6]=s=>(P.value=!1,L()))},null,8,["info"])]),_:1},8,["open"]),v(se,{width:"650",title:"Editar Formalización RUC 10",open:l.value,"onUpdate:open":n[9]||(n[9]=s=>l.value=s),placement:"right"},{default:_(()=>[v(st,{info:N.value,onCloseDraw:n[8]||(n[8]=s=>(l.value=!1,L()))},null,8,["info"])]),_:1},8,["open"])],64)}}},Ct=ne(yt,[["__scopeId","data-v-2e32b1ac"]]);export{Ct as default};
