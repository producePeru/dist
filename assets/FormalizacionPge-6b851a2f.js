import{_ as z,a as h,b as D}from"./ico-fb-52730242.js";import{a as L,r as c,u as O,l as j,n as k,b as u,o as M,d as R,e as n,q as G,c as t,w as i,F as Q,s as P,g as N,f as p,m as V,j as Y,p as J,k as X}from"./index-302d1fe3.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";const H="/assets/image 18-affc5495.png",K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAfCAYAAACYn/8/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABfSURBVHgB7c4hEYBAAAXRDxJFABwhMFQgAflIQAUMEdCEQHIdTuzMzexL8LpnnP9Ums4jw7qkxnfdebc9tfo0yjjNOM04zTjNOM04zTjNOM04zTjNOM04zTjNOK3ZeAGQ1whJsy738gAAAABJRU5ErkJggg==";const w=m=>(J("data-v-e1543f0c"),m=m(),X(),m),W=w(()=>n("div",{class:"container header-wrapper"},[n("img",{src:D,alt:"logo-produce"}),n("img",{src:z,alt:"logo-tu-empresa"})],-1)),Z=[W],ee=P('<section class="container" data-v-e1543f0c><div class="baner" data-v-e1543f0c><div data-v-e1543f0c><img class="baner-img" src="'+H+'" alt="" data-v-e1543f0c></div><div data-v-e1543f0c><h1 class="ff title" data-v-e1543f0c>Formalización</h1><p class="ff baner-text-1" data-v-e1543f0c>¡Únete a nuestra plataforma web y descubre un mundo de posibilidades! </p><p class="ff baner-text-2" data-v-e1543f0c>Regístrate ahora para acceder a contenido exclusivo, conectar con personas afines y aprovechar al máximo todas nuestras herramientas. ¡Te esperamos para empezar esta emocionante aventura juntos! </p></div></div></section>',1),ae={class:"form"},te={class:"container"},oe={class:"form-wrapper"},se=w(()=>n("h2",{class:"ff title"},"Formulario de formalización digital",-1)),re={class:"number-cel"},le=w(()=>n("div",{class:"flat-51"},[n("img",{src:K,alt:"peru"}),n("span",null,"+51")],-1)),ne=P('<footer data-v-e1543f0c><div class="container" data-v-e1543f0c><div class="footer-wrapper" data-v-e1543f0c><div class="footer-tuempresa-info" data-v-e1543f0c><img src="'+z+'" alt="footer logo tu empresa" data-v-e1543f0c><p class="ff" data-v-e1543f0c>Programa Nacional &quot;Tu Empresa&quot; Brindamos a los emprendedores acompañamiento en formalización y constitución de empresas.</p></div><div data-v-e1543f0c></div><div data-v-e1543f0c><b data-v-e1543f0c>Contáctanos</b><p data-v-e1543f0c>Lima - Guardia Civil : Av. Guardia Civil N° 834 - Primer Piso, San Isidro - Lima - Lima - San Isidro - Perú</p><p data-v-e1543f0c>016162291</p></div><div class="footer-redes" data-v-e1543f0c><a href="" data-v-e1543f0c><img src="'+h+'" alt="tu empresa facebook" data-v-e1543f0c></a><a href="" data-v-e1543f0c><img src="'+h+'" alt="tu empresa facebook" data-v-e1543f0c></a><a href="" data-v-e1543f0c><img src="'+h+'" alt="tu empresa facebook" data-v-e1543f0c></a></div></div></div></footer>',1),ie={__name:"FormalizacionPge",setup(m){const a=L({dni:null,name_lastname:null,email:null,phone:null,departament:null,province:null,district:null,address:null,id_cde:null}),f=c(!1),F=c(null),_=c(!1),g=c([]),v=c([]),d=c([]),C=O(),U=async()=>{N.remove("formalizacion"),f.value=!0;try{await p({url:"/public/formalization",method:"POST",data:a})&&(N.set("formalization-data",JSON.stringify(a)),C.push({name:"formalizacion-mapa"}))}catch{V.error("Error al registrar")}finally{f.value=!1}},x=r=>{console.log("Failed:",r)},I=()=>{a.dni=a.dni.replace(/\D/g,"")},A=(r,e)=>{const l=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return e.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(l)},B=async()=>{try{const{data:r}=await p({url:"/departaments",method:"GET"});let e=r.map(l=>({label:l.label,value:l.id}));g.value=[...g.value,...e]}catch(r){console.log(r)}},E=async r=>{a.province=null,a.district=null,v.value=[],d.value=[];try{const{data:e}=await p({url:`/province/${r}`,method:"GET"});let l=e.map(o=>({label:o.label,value:o.id}));v.value=[...v.value,...l]}catch(e){console.log(e)}},T=async r=>{a.district=null,d.value=[];try{const{data:e}=await p({url:`/district/${r}`,method:"GET"});let l=e.map(o=>({label:o.label,value:o.id}));d.value=[...d.value,...l]}catch(e){console.log(e)}},y=()=>{window.pageYOffset>10?_.value=!0:_.value=!1};return j(()=>{B(),window.addEventListener("scroll",y)}),k(()=>{window.removeEventListener("scroll",y)}),(r,e)=>{const l=u("a-input"),o=u("a-form-item"),b=u("a-select"),S=u("a-button"),q=u("a-form");return M(),R(Q,null,[n("header",{class:G(["header",{floatingNav:_.value}]),ref_key:"navBar",ref:F},Z,2),ee,n("section",ae,[n("div",te,[n("div",oe,[se,t(q,{class:"form-values",model:a,name:"basic",layout:"vertical",autocomplete:"off",onFinish:U,onFinishFailed:x},{default:i(()=>[t(o,{label:"Número DNI",name:"dni",rules:[{required:!0,message:"Por favor ingresa tu número de DNI",min:8,max:8}]},{default:i(()=>[t(l,{value:a.dni,"onUpdate:value":e[0]||(e[0]=s=>a.dni=s),onInput:I},null,8,["value"])]),_:1}),t(o,{label:"Nombres y Apellidos",name:"name_lastname",rules:[{required:!0,message:"Por favor ingresa tu número de DNI"}]},{default:i(()=>[t(l,{value:a.name_lastname,"onUpdate:value":e[1]||(e[1]=s=>a.name_lastname=s)},null,8,["value"])]),_:1}),t(o,{label:"Correo electrónico",name:"email",rules:[{required:!0,message:"Por favor ingresa tu correo electrónico",type:"email"}]},{default:i(()=>[t(l,{value:a.email,"onUpdate:value":e[2]||(e[2]=s=>a.email=s)},null,8,["value"])]),_:1}),t(o,{label:"Número de celular",name:"phone",rules:[{required:!0,message:"Por favor ingresa tu número de celular",min:9,max:9}]},{default:i(()=>[n("div",re,[le,t(l,{value:a.phone,"onUpdate:value":e[3]||(e[3]=s=>a.phone=s)},null,8,["value"])])]),_:1}),t(o,{label:"Departamento",name:"departament",rules:[{required:!0,message:"Por favor selecciona un departamento"}]},{default:i(()=>[t(b,{value:a.departament,"onUpdate:value":e[4]||(e[4]=s=>a.departament=s),"show-search":"",options:g.value,"filter-option":A,onChange:E},null,8,["value","options"])]),_:1}),t(o,{label:"Provincia",name:"province",rules:[{required:!0,message:"Por favor selecciona tu provincia"}]},{default:i(()=>[t(b,{value:a.province,"onUpdate:value":e[5]||(e[5]=s=>a.province=s),"show-search":"",options:v.value,"filter-option":A,onChange:T},null,8,["value","options"])]),_:1}),t(o,{label:"Distrito",name:"district",rules:[{required:!0,message:"Por favor selecciona tu distrito"}]},{default:i(()=>[t(b,{value:a.district,"onUpdate:value":e[6]||(e[6]=s=>a.district=s),"show-search":"",options:d.value,"filter-option":A},null,8,["value","options"])]),_:1}),t(o,{label:"Dirección",name:"address",rules:[{required:!0,message:"Por favor ingresa tu dirección"}]},{default:i(()=>[t(l,{value:a.address,"onUpdate:value":e[7]||(e[7]=s=>a.address=s)},null,8,["value"])]),_:1}),t(o,null,{default:i(()=>[t(S,{loading:f.value,class:"form-button",type:"primary","html-type":"submit"},{default:i(()=>[Y("CONTINUAR")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])]),ne],64)}}},me=$(ie,[["__scopeId","data-v-e1543f0c"]]);export{me as default};
