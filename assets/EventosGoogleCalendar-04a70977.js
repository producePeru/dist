import{c,A as R,l as C,a as X,p as Z,r as f,j as K,b as O,o as r,d as i,e,i as _,q as m,t as d,w as k,h as b,L as ee,f as T,F as te,s as ne,v as A,x as ae,y as le,z as se}from"./index-7e8b7570.js";import"./es-3ef08290.js";import{H as oe}from"./HomeOutlined-51135bf1.js";import{T as re}from"./TeamOutlined-e72a7648.js";import{U as ie}from"./UserOutlined-ae2a62eb.js";var de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 512.3v-.3c0-229.8-186.2-416-416-416S96 282.2 96 512v.4c0 229.8 186.2 416 416 416s416-186.2 416-416v-.3.2zm-6.7-74.6l.6 3.3-.6-3.3zM676.7 638.2c53.5-82.2 52.5-189.4-11.1-263.7l162.4-8.4c20.5 44.4 32 93.8 32 145.9 0 185.2-144.6 336.6-327.1 347.4l143.8-221.2zM512 652.3c-77.5 0-140.2-62.7-140.2-140.2 0-77.7 62.7-140.2 140.2-140.2S652.2 434.5 652.2 512 589.5 652.3 512 652.3zm369.2-331.7l-3-5.7 3 5.7zM512 164c121.3 0 228.2 62.1 290.4 156.2l-263.6-13.9c-97.5-5.7-190.2 49.2-222.3 141.1L227.8 311c63.1-88.9 166.9-147 284.2-147zM102.5 585.8c26 145 127.1 264 261.6 315.1C229.6 850 128.5 731 102.5 585.8zM164 512c0-55.9 13.2-108.7 36.6-155.5l119.7 235.4c44.1 86.7 137.4 139.7 234 121.6l-74 145.1C302.9 842.5 164 693.5 164 512zm324.7 415.4c4 .2 8 .4 12 .5-4-.2-8-.3-12-.5z"}}]},name:"chrome",theme:"outlined"};const ue=de;function $(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},p=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(l).filter(function(a){return Object.getOwnPropertyDescriptor(l,a).enumerable}))),p.forEach(function(a){ce(s,a,l[a])})}return s}function ce(s,n,l){return n in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}var F=function(n,l){var p=$({},n,l.attrs);return c(R,$({},p,{icon:ue}),null)};F.displayName="ChromeOutlined";F.inheritAttrs=!1;const pe=F;var ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};const me=ve;function U(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?Object(arguments[n]):{},p=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(l).filter(function(a){return Object.getOwnPropertyDescriptor(l,a).enumerable}))),p.forEach(function(a){fe(s,a,l[a])})}return s}function fe(s,n,l){return n in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}var V=function(n,l){var p=U({},n,l.attrs);return c(R,U({},p,{icon:me}),null)};V.displayName="FilterOutlined";V.inheritAttrs=!1;const ge=V;const ye={class:"container-events"},_e={class:"wrapper-dot"},he={key:0},be={key:1},Oe={key:2},ke={key:3},Me={key:4},Ce={key:5},we={class:"schedule"},De={class:"schedule-header"},Se={class:"schedule-date"},Ee={class:"schedule-filter"},Pe={key:0,class:"event-time"},ze={key:1,class:"event-time"},Ae={class:"event-hour-2"},Fe={class:"title"},Ve={class:"event-description"},xe=["onClick"],je={class:"modal-calendar-detail"},Ye={key:0},Ne={style:{"margin-left":".5rem"}},Le={key:1},Te={style:{"margin-left":".5rem"}},$e={style:{"margin-left":".5rem"}},Ue={style:{"margin-left":".5rem"}},Re={key:2},Be={style:{"margin-left":".5rem"}},Ge={key:3},He=["href"],Ie={key:4},Ke={__name:"EventosGoogleCalendar",setup(s){C.locale("es");const n=X({value1:["ugo","ugse"]}),l=["ugo","ugse"],p=Z(ee,{style:{fontSize:"24px"},spin:!0});f(!1);const a=f(null),w=f(!1),D=f(null),x=f(null),j=f(new Date),M=f([]),Y=f(null),S=f([]),E=f(!1),B=o=>{a.value=o,w.value=!0},G=o=>{if(Array.isArray(o)&&o.length>0&&o[0].id){const t=o[0].id;D.value=t,Y.value!==t&&(Y.value=t,L(t))}else console.warn("⚠️ No se pudo detectar el cambio de mes.")},P=o=>({1:"#808080",2:"#f06464",3:"#fd9d0f",4:"#ffb74d",5:"#00b522",6:"#1546b0"})[o],N=o=>({1:"Despega tu empresa",2:"Ferias",3:"Fortalece tu Mercado",4:"Mujer Produce",5:"Potencia tu Empresa",6:"Ruta Digital"})[o],H=async()=>{D.value&&(await z("nodata"),await L(D.value))},z=async(o={date:C().format("YYYY-MM-DD")},t)=>{E.value=!0;const h=C(o.date).format("YYYY-MM-DD");x.value=C(o.date).format("dddd DD [de] MMMM [de] YYYY"),t!="nodata"&&M.value.length>0&&M.value[0].dates&&(M.value[0].dates=o.date);const g={ugo:["dte","ftm","pte"],ugse:["ferias","mp","rd"]};let y=[];n.value1.forEach(v=>{g[v]&&y.push(...g[v])}),y=[...new Set(y)];try{const v=await T({url:`pnte/events-day/${h}`,method:"GET",params:y});v.data&&Array.isArray(v.data)?S.value=v.data:console.warn("⚠️ Respuesta inesperada de la API:",v)}catch(v){console.error("❌ Error al obtener eventos:",v)}finally{E.value=!1}},L=async o=>{try{const t={ugo:["dte","ftm","pte"],ugse:["ferias","mp","rd"]};let h=[];n.value1.forEach(y=>{t[y]&&h.push(...t[y])}),h=[...new Set(h)];const g=await T({url:`pnte/dots/${o}`,method:"GET",params:h});g.data&&Array.isArray(g.data)?M.value=[{key:"today",highlight:"",dates:[new Date]},...g.data]:console.warn("⚠️ Respuesta de API inesperada:",g)}catch(t){console.error("❌ Error al obtener eventos:",t)}},I=async()=>{await z()};return K(()=>{I()}),(o,t)=>{const h=O("VCalendar"),g=O("a-checkbox-group"),y=O("a-menu"),v=O("a-dropdown"),q=O("a-empty"),J=O("a-spin"),Q=O("a-modal");return r(),i("section",ye,[t[17]||(t[17]=e("h1",{class:"title-pc"},"CALENDARIO 2025",-1)),e("div",null,[c(h,{ref:"calendar",modelValue:j.value,"onUpdate:modelValue":t[0]||(t[0]=u=>j.value=u),attributes:M.value,expanded:"",locale:"es",transparent:"",borderless:"","onUpdate:pages":G,onDayclick:z},null,8,["modelValue","attributes"]),e("div",_e,[n.value1.includes("ugo")?(r(),i("div",he,t[3]||(t[3]=[e("i",{class:"dotend dot-1"},null,-1),_(),e("span",null,"Despega tu empresa",-1)]))):m("",!0),n.value1.includes("ugse")?(r(),i("div",be,t[4]||(t[4]=[e("i",{class:"dotend dot-2"},null,-1),_(),e("span",null,"Ferias",-1)]))):m("",!0),n.value1.includes("ugo")?(r(),i("div",Oe,t[5]||(t[5]=[e("i",{class:"dotend dot-3"},null,-1),_(),e("span",null,"Fortalece tu Mercado",-1)]))):m("",!0),n.value1.includes("ugse")?(r(),i("div",ke,t[6]||(t[6]=[e("i",{class:"dotend dot-4"},null,-1),_(),e("span",null,"Mujer Produce",-1)]))):m("",!0),n.value1.includes("ugo")?(r(),i("div",Me,t[7]||(t[7]=[e("i",{class:"dotend dot-5"},null,-1),_(),e("span",null,"Potencia tu Empresa",-1)]))):m("",!0),n.value1.includes("ugse")?(r(),i("div",Ce,t[8]||(t[8]=[e("i",{class:"dotend dot-6"},null,-1),_(),e("span",null,"Ruta Digital",-1)]))):m("",!0)])]),e("div",we,[e("div",De,[t[9]||(t[9]=e("h4",null,"EVENTOS",-1)),e("span",Se,d(x.value),1),c(v,{trigger:["click"]},{overlay:k(()=>[c(y,null,{default:k(()=>[e("div",Ee,[c(g,{value:n.value1,"onUpdate:value":t[1]||(t[1]=u=>n.value1=u),options:l,onChange:H},null,8,["value"])])]),_:1})]),default:k(()=>[e("span",null,[c(b(ge))])]),_:1})]),c(J,{indicator:b(p),spinning:E.value},{default:k(()=>[S.value.length>0?(r(!0),i(te,{key:0},ne(S.value,(u,W)=>(r(),i("div",{key:W,class:"event"},[u.allDay==1?(r(),i("div",Pe,t[10]||(t[10]=[e("div",{style:{"text-align":"center","line-height":"1.2"}},"Todo el día",-1)]))):(r(),i("div",ze,[e("div",null,d(u.start),1),t[11]||(t[11]=e("br",null,null,-1)),e("div",Ae,d(u.end),1)])),e("div",{class:"schedule-details",style:A({"border-color":P(u.id_pnte)})},[e("small",{class:"schedule-tag",style:A({"background-color":P(u.id_pnte)})},d(N(u.id_pnte)),5),e("div",Fe,d(u.title),1),e("div",Ve,[_(d(u.description)+" ",1),e("span",{onClick:qe=>B(u),style:{color:"#2196f3",cursor:"pointer"}},"Ver más",8,xe)])],4)]))),128)):(r(),ae(q,{key:1,class:"no-events"},{description:k(()=>t[12]||(t[12]=[e("span",{class:"no-events-span"},"No hay eventos para este día",-1)])),_:1}))]),_:1},8,["indicator","spinning"])]),c(Q,{open:w.value,"onUpdate:open":t[2]||(t[2]=u=>w.value=u),title:"",footer:""},{default:k(()=>[e("div",je,[e("div",null,[e("h3",null,d(a.value.title),1),e("small",{class:"modal-calendar-tag",style:A({"background-color":P(a.value.id_pnte)})},d(N(a.value.id_pnte)),5)]),e("p",null,d(a.value.descripionAll),1),a.value.organiza?(r(),i("div",Ye,[c(b(oe)),e("span",Ne,d(a.value.organiza),1)])):m("",!0),a.value.numMypes?(r(),i("div",Le,[e("span",null,[c(b(re))]),e("span",Te,d(a.value.numMypes)+" Participantes",1)])):m("",!0),e("div",null,[e("div",null,[c(b(le)),e("span",$e,d(a.value.date),1)]),e("div",null,[c(b(se)),e("span",Ue,d(a.value.start),1),t[13]||(t[13]=_(" - ")),e("span",null,d(a.value.end),1)])]),a.value.nameUser?(r(),i("div",Re,[c(b(ie)),e("span",Be,[_(d(a.value.nameUser)+" ",1),t[14]||(t[14]=e("small",null,"(Responsable)",-1))])])):m("",!0),a.value.link?(r(),i("div",Ge,[c(b(pe)),e("a",{style:{"margin-left":".5rem"},href:a.value.link,target:"_blank",rel:"noopener noreferrer"},"Link",8,He)])):m("",!0),t[16]||(t[16]=e("br",null,null,-1)),a.value.descripionAll?(r(),i("div",Ie,[t[15]||(t[15]=e("h3",null,"Resultados",-1)),e("p",null,d(a.value.descripionAll),1)])):m("",!0)])]),_:1},8,["open"])])}}};export{Ke as default};
