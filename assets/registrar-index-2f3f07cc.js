import{_ as W}from"./FormComponent-92ab5338.js";import{u as z}from"./selectes-c6bf1abf.js";import{c as _,A as se,r as y,a as F,k as G,T as H,W as q,o as w,d as x,e as r,t as R,z as Q,p as D,h as T,y as U,i as Z,L as he,m as K,f as Oe,n as $,X,j as B,D as Ie,C as Ce,G as de,b as j,w as C,F as ae,Y as Ne,Z as Pe,_ as Re}from"./index-ac49fc64.js";import{u as re}from"./useBusinessman-3f3e8519.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";import"./es-7f81e3a4.js";import{U as De}from"./UserOutlined-474360b8.js";import"./quill.snow-bd7ec515.js";var Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M894 462c30.9 0 43.8-39.7 18.7-58L530.8 126.2a31.81 31.81 0 00-37.6 0L111.3 404c-25.1 18.2-12.2 58 18.8 58H192v374h-72c-4.4 0-8 3.6-8 8v52c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-52c0-4.4-3.6-8-8-8h-72V462h62zM512 196.7l271.1 197.2H240.9L512 196.7zM264 462h117v374H264V462zm189 0h117v374H453V462zm307 374H642V462h118v374z"}}]},name:"bank",theme:"outlined"};const we=Ae;function ce(p){for(var c=1;c<arguments.length;c++){var s=arguments[c]!=null?Object(arguments[c]):{},m=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(s).filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable}))),m.forEach(function(i){Te(p,i,s[i])})}return p}function Te(p,c,s){return c in p?Object.defineProperty(p,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):p[c]=s,p}var ne=function(c,s){var m=ce({},c,s.attrs);return _(se,ce({},m,{icon:we}),null)};ne.displayName="BankOutlined";ne.inheritAttrs=!1;const Me=ne;var xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"};const Be=xe;function ue(p){for(var c=1;c<arguments.length;c++){var s=arguments[c]!=null?Object(arguments[c]):{},m=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(s).filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable}))),m.forEach(function(i){qe(p,i,s[i])})}return p}function qe(p,c,s){return c in p?Object.defineProperty(p,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):p[c]=s,p}var le=function(c,s){var m=ue({},c,s.attrs);return _(se,ue({},m,{icon:Be}),null)};le.displayName="SmileOutlined";le.inheritAttrs=!1;const je=le;var $e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M140 188h584v164h76V144c0-17.7-14.3-32-32-32H96c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h544v-76H140V188z"}},{tag:"path",attrs:{d:"M414.3 256h-60.6c-3.4 0-6.4 2.2-7.6 5.4L219 629.4c-.3.8-.4 1.7-.4 2.6 0 4.4 3.6 8 8 8h55.1c3.4 0 6.4-2.2 7.6-5.4L322 540h196.2L422 261.4a8.42 8.42 0 00-7.7-5.4zm12.4 228h-85.5L384 360.2 426.7 484zM936 528H800v-93c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v93H592c-13.3 0-24 10.7-24 24v176c0 13.3 10.7 24 24 24h136v152c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V752h136c13.3 0 24-10.7 24-24V552c0-13.3-10.7-24-24-24zM728 680h-88v-80h88v80zm160 0h-88v-80h88v80z"}}]},name:"translation",theme:"outlined"};const Le=$e;function me(p){for(var c=1;c<arguments.length;c++){var s=arguments[c]!=null?Object(arguments[c]):{},m=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(s).filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable}))),m.forEach(function(i){ke(p,i,s[i])})}return p}function ke(p,c,s){return c in p?Object.defineProperty(p,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):p[c]=s,p}var oe=function(c,s){var m=me({},c,s.attrs);return _(se,me({},m,{icon:Le}),null)};oe.displayName="TranslationOutlined";oe.inheritAttrs=!1;const Ue=oe;const ze={key:0},Fe={class:"description-document"},Ge={class:"description-document"},He={class:"description-document"},Ve={class:"description-document"},Je={__name:"RegistraEmpresario",props:{infoBusinessMan:{type:Object,required:!0,default:()=>({})},detailDocument:{type:Object,default:()=>({})}},emits:["registered"],setup(p,{emit:c}){const s=p,m=c,i=z(),O=re(),e=y(!1),d=F({}),t=y("REGISTRAR"),E=y({city_id:[],province_id:[],district_id:[],gender_id:[],sick:[]}),b=async o=>{o=="city_id"&&(await i.fetchProvinces(d.city_id),E.value.province_id=i.provinces,v.value.province_id.disabled=!1),o=="province_id"&&(await i.fetchDistricts(d.province_id),E.value.district_id=i.districts,v.value.district_id.disabled=!1)},A=async o=>{o=="id_pnte"&&(await i.fetchOfficesPnte(),E.value.id_pnte=i.officesPnte),o=="country_id"&&(E.value.country_id=i.countries),o=="city_id"&&(d.city_id=null,d.province_id=null,d.district_id=null,E.value.province_id=[],E.value.city_id=i.cities),o=="province_id"&&(d.province_id=null,d.district_id=null,E.value.district_id=[]),o=="sick"&&P(),o=="gender_id"&&(E.value.gender_id=i.genders),o=="hasSoon"&&S()},P=()=>{E.value.sick=[{value:"si",label:"SI"},{value:"no",label:"NO"},{value:"na",label:"PREFIERO NO ESPECIFICAR"}]},S=()=>{E.value.hasSoon=[{value:"si",label:"SI"},{value:"no",label:"NO"},{value:"na",label:"PREFIERO NO ESPECIFICAR"}]},f=async()=>{e.value=!0;const o={typedocument_id:s.detailDocument.type,documentnumber:s.detailDocument.number,lastname:d.lastname?d.lastname:s.infoBusinessMan.lastname,middlename:d.middlename?d.middlename:s.infoBusinessMan.middlename,name:d.name?d.name:s.infoBusinessMan.name,country_id:d.country_id,city_id:d.city_id,province_id:d.province_id,district_id:d.district_id,address:d.address,birthday:D(d.birthday).format("YYYY-MM-DD"),phone:d.phone,email:d.email,gender_id:d.gender_id,sick:d.sick,hasSoon:d.hasSoon};try{const n=await O.create(o);n.status==200&&(T.success(n.message),m("registered",n.data),l())}catch{T.error(i.error)}finally{e.value=!1}},l=()=>{d.lastname=null,d.middlename=null,d.name=null,d.country_id=null,d.city_id=null,d.province_id=null,d.district_id=null,d.address=null,d.birthday=null,d.phone=null,d.email=null,d.gender_id=null,d.sick=null,d.hasSoon=null},v=y({}),N=()=>{const o={...(s.detailDocument.type!=1||s.infoBusinessMan.reniecError=="no_disponible")&&{lastname:{type:"iText",label:"APELLIDO PATERNO",name:"lastname",required:!0,message:"Escribir apellido",disabled:!1},middlename:{type:"iText",label:"APELLIDO MATERNO",name:"middlename",required:!0,message:"Escribir apellido",disabled:!1},name:{type:"iText",label:"NOMBRES",name:"name",required:!0,message:"Escribir nombre",disabled:!1}},country_id:{type:"iSelect",label:"PAÍS",name:"country_id",required:!0,message:"Seleccionar país"},city_id:{type:"iSelect",label:"REGIÓN RESIDENCIA",name:"city_id",required:!0,message:"Seleccionar región"},province_id:{type:"iSelect",label:"PROVINCIA RESIDENCIA",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO RESIDENCIA",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},address:{type:"iText",label:"DIRECCIÓN RESIDENCIA",name:"address",required:!0,message:"Escribir dirección",disabled:!1},birthday:{type:"iDate",label:"FECHA NACIMIENTO",name:"birthday",required:!0,message:"Seleccionar fecha de nacimiento",disabledDate:n=>{if(!n)return!1;const u=D(),h=u.subtract(100,"year").endOf("day"),M=u.subtract(18,"year").endOf("day");return n.isAfter(M)||n.isBefore(h)},defaultPickerValue:D().subtract(18,"year"),rules:[{validator:(n,u)=>{if(!u)return Promise.reject(new Error("Seleccionar fecha de nacimiento"));const h=D(),M=h.subtract(100,"year").endOf("day"),k=h.subtract(18,"year").endOf("day");return D(u).isAfter(k)?Promise.reject(new Error("Debe tener 18 años o más")):D(u).isBefore(M)?Promise.reject(new Error("La edad no puede superar los 100 años")):Promise.resolve()},trigger:"change"}]},phone:{type:"iNumber",label:"NÚMERO DE CELULAR",name:"phone",required:!0,message:"Escribe un número de contacto de 9 dígitos",maxlength:9,disabled:!1,rules:[{validator:(n,u)=>{if(!u)return Promise.reject(new Error("El número es requerido"));const h=u.toString();return h.length!==9?Promise.reject(new Error("El número debe tener exactamente 9 dígitos")):h.substring(0,1)!=="9"?Promise.reject(new Error("El número debe comenzar con 9")):Promise.resolve()},trigger:"change"}]},email:{type:"iText",label:"CORREO ELECTRÓNICO",name:"email",required:!1,message:"Escribir un email válido",disabled:!1,rules:[{validator:(n,u)=>u?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)?Promise.resolve():Promise.reject(new Error("Debe ingresar un email válido")):Promise.resolve(),trigger:"change"}]},gender_id:{type:"iSelect",label:"GÉNERO",name:"gender_id",required:!0,message:"Seleccionar tipo de documento"},sick:{type:"iSelect",label:"¿TIENE ALGUNA DISCAPACIDAD?",name:"sick",required:!0,message:"Seleccionar opción"},hasSoon:{type:"iSelect",label:"¿TIENE HIJOS?",name:"hasSoon",required:!0,message:"Seleccionar opción"}};v.value=o};return G(async()=>{s.detailDocument&&N(s.detailDocument),await i.fetchCountries(),await i.fetchCities(),await i.fetchGenders()}),H(()=>s.detailDocument,o=>{o&&N()}),q("formState",d),q("loadingState",e),(o,n)=>(w(),x("div",null,[s.detailDocument.type==1&&s.infoBusinessMan.name?(w(),x("div",ze,[r("div",Fe,[n[0]||(n[0]=r("span",null,"Documento:",-1)),r("b",null,"DNI: "+R(p.infoBusinessMan.numeroDocumento),1)]),r("div",Ge,[n[1]||(n[1]=r("span",null,"Apellido Paterno:",-1)),r("b",null,R(p.infoBusinessMan.lastname),1)]),r("div",He,[n[2]||(n[2]=r("span",null,"Apellido Materno:",-1)),r("b",null,R(p.infoBusinessMan.middlename),1)]),r("div",Ve,[n[3]||(n[3]=r("span",null,"Nombres:",-1)),r("b",null,R(p.infoBusinessMan.name),1)])])):Q("",!0),_(W,{fields:v.value,options:E.value,btnSaveName:t.value,onHandleFocusSelect:A,onHandleChangeSelect:b,onOnSubmit:f,mayus:!0},null,8,["fields","options","btnSaveName"])]))}},Ye=ee(Je,[["__scopeId","data-v-83c7f4c5"]]);const Ze={key:1},Qe={__name:"EditarEmpresario",props:{updateInfoBusinessman:{type:Object,required:!0,default:()=>({})}},emits:["registered"],setup(p,{emit:c}){const s=p,m=c,i=z(),O=re(),e=y(!0),d=y(!1),t=F({}),E=y("REGISTRAR"),b=y({city_id:[],province_id:[],district_id:[],gender_id:[],sick:[]}),A=async n=>{n=="city_id"&&(await i.fetchProvinces(t.city_id),b.value.province_id=i.provinces,N.value.province_id.disabled=!1),n=="province_id"&&(await i.fetchDistricts(t.province_id),b.value.district_id=i.districts,N.value.district_id.disabled=!1)},P=async n=>{n=="typedocument_id"&&(b.value.typedocument_id=i.typeDocuments),n=="country_id"&&(await i.fetchCountries(),b.value.country_id=i.countries),n=="city_id"&&(await i.fetchCities(),t.city_id=null,t.province_id=null,t.district_id=null,b.value.province_id=[],b.value.city_id=i.cities),n=="province_id"&&(t.province_id=null,t.district_id=null,b.value.district_id=[]),n=="sick"&&S(),n=="gender_id"&&(await i.fetchGenders(),b.value.gender_id=i.genders),n=="hasSoon"&&f()},S=()=>{b.value.sick=[{value:"si",label:"SI"},{value:"no",label:"NO"},{value:"na",label:"PREFIERO NO ESPECIFICAR"}]},f=()=>{b.value.hasSoon=[{value:"si",label:"SI"},{value:"no",label:"NO"},{value:"na",label:"PREFIERO NO ESPECIFICAR"}]},l=async()=>{d.value=!0;const n={typedocument_id:t.typedocument_id,documentnumber:t.documentnumber,lastname:t.lastname,middlename:t.middlename,name:t.name,country_id:t.country_id,city_id:t.city_id,province_id:t.province_id,district_id:t.district_id,address:t.address,birthday:D(t.birthday).format("YYYY-MM-DD"),phone:t.phone,email:t.email,gender_id:t.gender_id,sick:t.sick,hasSoon:t.hasSoon};try{const u=await O.create(n);u.status==200&&(T.success(u.message),m("registered",u.data),v())}catch{T.error(i.error)}finally{d.value=!1}},v=()=>{t.typedocument_id=null,t.documentnumber=null,t.lastname=null,t.middlename=null,t.name=null,t.country_id=null,t.city_id=null,t.province_id=null,t.district_id=null,t.address=null,t.birthday=null,t.phone=null,t.email=null,t.gender_id=null,t.sick=null,t.hasSoon=null},N=y({typedocument_id:{type:"iSelect",label:"TIPO DE DOCUMENTO",name:"typedocument_id",required:!0,message:"Seleccionar tipo de documento"},documentnumber:{type:"iText",label:"NÚMERO DE DOCUMENTO DE IDENTIDAD",name:"documentnumber",required:!0,message:"Escribir número de documento",disabled:!1},lastname:{type:"iText",label:"APELLIDO PATERNO",name:"lastname",required:!0,message:"Escribir apellido",disabled:!1},middlename:{type:"iText",label:"APELLIDO MATERNO",name:"middlename",required:!0,message:"Escribir apellido",disabled:!1},name:{type:"iText",label:"NOMBRES",name:"name",required:!0,message:"Escribir nombre",disabled:!1},country_id:{type:"iSelect",label:"PAÍS",name:"country_id",required:!0,message:"Seleccionar país"},city_id:{type:"iSelect",label:"REGIÓN RESIDENCIA",name:"city_id",required:!1,message:"Seleccionar región"},province_id:{type:"iSelect",label:"PROVINCIA RESIDENCIA",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!1},district_id:{type:"iSelect",label:"DISTRITO RESIDENCIA",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!1},address:{type:"iText",label:"DIRECCIÓN RESIDENCIA",name:"address",required:!0,message:"Escribir dirección",disabled:!1},birthday:{type:"iDate",label:"FECHA NACIMIENTO",name:"birthday",required:!0,message:"Seleccionar fecha de nacimiento",disabledDate:n=>{if(!n)return!1;const u=D(),h=u.subtract(100,"year").endOf("day"),M=u.subtract(18,"year").endOf("day");return n.isAfter(M)||n.isBefore(h)},defaultPickerValue:(()=>{const n=D(),u=n.subtract(100,"year").endOf("day");let h=n.subtract(18,"year").endOf("day");for(;h.day()===0||h.day()===6;)h=h.subtract(1,"day");return h.isBefore(u)?u:h})(),rules:[{validator:(n,u)=>{if(!u)return Promise.reject(new Error("Seleccionar fecha de nacimiento"));const h=D(),M=h.subtract(100,"year").endOf("day"),k=h.subtract(18,"year").endOf("day");return D(u).isAfter(k)?Promise.reject(new Error("Debe tener 18 años o más")):D(u).isBefore(M)?Promise.reject(new Error("La edad no puede superar los 100 años")):Promise.resolve()},trigger:"change"}]},phone:{type:"iNumber",label:"NÚMERO DE CELULAR",name:"phone",required:!0,message:"Escribe un número de contacto de 9 dígitos",maxlength:9,disabled:!1,rules:[{validator:(n,u)=>{if(!u)return Promise.reject(new Error("El número es requerido"));const h=u.toString();return h.length!==9?Promise.reject(new Error("El número debe tener exactamente 9 dígitos")):h.substring(0,1)!=="9"?Promise.reject(new Error("El número debe comenzar con 9")):Promise.resolve()},trigger:"change"}]},email:{type:"iText",label:"CORREO ELECTRÓNICO",name:"email",required:!1,message:"Escribir un email válido",disabled:!1,rules:[{validator:(n,u)=>u?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)?Promise.resolve():Promise.reject(new Error("Debe ingresar un email válido")):Promise.resolve(),trigger:"change"}]},gender_id:{type:"iSelect",label:"GÉNERO",name:"gender_id",required:!0,message:"Seleccionar tipo de documento"},sick:{type:"iSelect",label:"¿TIENE ALGUNA DISCAPACIDAD?",name:"sick",required:!0,message:"Seleccionar opción"},hasSoon:{type:"iSelect",label:"¿TIENE HIJOS?",name:"hasSoon",required:!0,message:"Seleccionar opción"}}),o=async n=>{e.value=!0;try{n&&(await i.fetchTypeDocuments(),b.value.typedocument_id=i.typeDocuments,t.typedocument_id=n.typedocument_id,t.documentnumber=n.documentnumber,t.lastname=n.lastname,t.middlename=n.middlename,t.name=n.name,await i.fetchCountries(),b.value.country_id=i.countries,t.country_id=n.country_id,await i.fetchCities(),b.value.city_id=i.cities,t.city_id=n.city_id,await i.fetchProvinces(t.city_id),b.value.province_id=i.provinces,t.province_id=n.province_id,await i.fetchDistricts(t.province_id),b.value.district_id=i.districts,t.district_id=n.district_id,t.address=n.address,n.birthday&&(t.birthday=D(n.birthday,"YYYY-MM-DD")),t.phone=n.phone,t.email=n.email,await i.fetchGenders(),b.value.gender_id=i.genders,t.gender_id=n.gender_id,S(),t.sick=n.sick,f(),t.hasSoon=n.hasSoon)}catch(u){console.error("Error al cargar la información:",u)}finally{e.value=!1}};return G(()=>{s.updateInfoBusinessman&&o(s.updateInfoBusinessman)}),H(()=>s.updateInfoBusinessman,n=>{n?o(n):v()}),q("formState",t),q("loadingState",d),(n,u)=>e.value?(w(),U(Z(he),{key:0,style:{color:"#00a6db"}})):(w(),x("div",Ze,[_(W,{fields:N.value,options:b.value,btnSaveName:E.value,onHandleFocusSelect:P,onHandleChangeSelect:A,onOnSubmit:l,mayus:!0},null,8,["fields","options","btnSaveName"])]))}},We=ee(Qe,[["__scopeId","data-v-6fc3aa55"]]);const Xe={class:"ases-draw"},Ke={__name:"RegistrarAsesoria",props:{detailRegister:{type:Object,required:!0,default:()=>({})},infoBusinessMan:{type:Object,required:!1,default:()=>({})}},emits:["registered"],setup(p,{emit:c}){const s=p,m=c,i=z(),O=y(!1),e=F({}),d=y("REGISTRAR"),t=y({city_id:[],province_id:[],district_id:[],gender_id:[],sick:[]}),E=async(l,v)=>{if(l=="city_id"&&(await i.fetchProvinces(e.city_id),t.value.province_id=i.provinces,S.value.province_id.disabled=!1),l=="province_id"&&(await i.fetchDistricts(e.province_id),t.value.district_id=i.districts,S.value.district_id.disabled=!1),l=="component_id"&&(await i.fetchComponentThemes(e.component_id),t.value.theme_id=i.componentThemes,e.theme_id=null,S.value.theme_id.disabled=!1),l==="theme_id")if(v==17)S.value={...S.value,observations:{type:"iNumber",label:"NÚMERO DE RESERVA (Z- 7 dígitos)",name:"observations",required:!0,message:"Ingresar número de reserva",disabled:!1,rules:[{validator:(N,o)=>{if(!o)return Promise.reject(new Error("Ingresar número de reserva"));const n=String(o).length;return n<7?Promise.reject(new Error("El número debe tener al menos 7 cifras")):n>7?Promise.reject(new Error("El número no puede superar las 7 cifras")):Promise.resolve()},trigger:"change"}]}};else{e.observations=null;const{observations:N,...o}=S.value;S.value=o}},b=async l=>{l=="economicsector_id"&&(await i.fetchEconomicSectors(),t.value.economicsector_id=i.economicSectors),l=="comercialactivity_id"&&(await i.fetchComercialActivities(),t.value.comercialactivity_id=i.comercialActivities),l=="component_id"&&(await i.fetchComponents(),t.value.component_id=i.components),l=="modality_id"&&(await i.fetchModalities(),t.value.modality_id=i.modalities),l=="city_id"&&(await i.fetchCities(),e.province_id=null,e.district_id=null,t.value.province_id=[],t.value.city_id=i.cities),l=="province_id"&&(e.province_id=null,e.district_id=null,t.value.district_id=[])},A=async()=>{O.value=!0;const l={dni:s.detailRegister.dni,cde_id:s.detailRegister.cde_id,people_id:s.detailRegister.people_id,user_id:s.detailRegister.user_id,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,component_id:e.component_id,theme_id:e.theme_id,modality_id:e.modality_id,ruc:e.ruc,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,...e.observations&&{observations:e.observations}};try{const v=await K({url:"advisory/create",method:"POST",data:l});v.status==200&&(T.success(v.message),m("registered",v.data),P())}catch{T.error(i.error)}finally{O.value=!1}},P=()=>{e.economicsector_id=null,e.comercialactivity_id=null,e.component_id=null,e.theme_id=null,e.theme_id=null,e.modality_id=null,e.ruc=null,e.city_id=null,e.province_id=null,e.district_id=null},S=y({economicsector_id:{type:"iSelect",label:"SECTOR ECONÓMICO",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},comercialactivity_id:{type:"iSelect",label:"ACTIVIDAD COMERCIAL",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},component_id:{type:"iSelect",label:"COMPONENTE",name:"component_id",required:!0,message:"Seleccionar un componente",disabled:!1},theme_id:{type:"iSelect",label:"TEMA DEL COMPONENTE",name:"theme_id",required:!0,message:"Seleccionar un tema del componente",disabled:!0},modality_id:{type:"iSelect",label:"MODALIDAD DE ATENCIÓN",name:"modality_id",required:!0,message:"Seleccionar modalidad",disabled:!1},ruc:{type:"iNumber",label:"RUC",name:"ruc",message:"Escribir número de RUC",disabled:!1,maxlength:11,rules:[{validator:(l,v)=>{if(!v)return Promise.resolve();const N=v.toString();return N.length!==11?Promise.reject(new Error("El número debe tener exactamente 11 dígitos")):["10","15","17","20"].includes(N.substring(0,2))?Promise.resolve():Promise.reject(new Error("El RUC debe empezar con 10, 15, 17 o 20"))},trigger:"change"}]},city_id:{type:"iSelect",label:"REGIÓN DEL NEGOCIO",name:"city_id",required:!0,message:"Seleccionar región",disabled:!1},province_id:{type:"iSelect",label:"PROVINCIA DEL NEGOCIO",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO DEL NEGOCIO",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0}}),f=async l=>{l&&(console.log("info",l),await i.fetchCities(),t.value.city_id=i.cities,e.city_id=l.city_id,await i.fetchProvinces(e.city_id),t.value.province_id=i.provinces,e.province_id=l.province_id,await i.fetchDistricts(e.province_id),t.value.district_id=i.districts,e.district_id=l.district_id)};return G(()=>{s.infoBusinessMan&&f(s.infoBusinessMan)}),H(()=>s.infoBusinessMan,l=>{l?f(l):P()}),q("formState",e),q("loadingState",O),(l,v)=>(w(),x("div",Xe,[_(W,{fields:S.value,options:t.value,btnSaveName:d.value,onHandleFocusSelect:b,onHandleChangeSelect:E,onOnSubmit:A},null,8,["fields","options","btnSaveName"])]))}};const ei={class:"ppnn-draw"},ii={__name:"RegistrarPPNN",props:{detailRegister:{type:Object,required:!0,default:()=>({})},infoBusinessMan:{type:Object,required:!1,default:()=>({})}},emits:["registered"],setup(p,{emit:c}){const s=p,m=c,i=z(),O=y(!1),e=F({}),d=y("REGISTRAR"),t=y({city_id:[],province_id:[],district_id:[],economicsector_id:[]}),E=async(l,v)=>{l=="city_id"&&(await i.fetchProvinces(e.city_id),t.value.province_id=i.provinces,S.value.province_id.disabled=!1),l=="province_id"&&(await i.fetchDistricts(e.province_id),t.value.district_id=i.districts,S.value.district_id.disabled=!1),l=="component_id"&&(await i.fetchComponentThemes(e.component_id),t.value.theme_id=i.componentThemes,e.theme_id=null,S.value.theme_id.disabled=!1)},b=async l=>{l=="economicsector_id"&&(await i.fetchEconomicSectors(),t.value.economicsector_id=i.economicSectors),l=="comercialactivity_id"&&(await i.fetchComercialActivities(),t.value.comercialactivity_id=i.comercialActivities),l=="component_id"&&(await i.fetchComponents(),t.value.component_id=i.components),l=="detailprocedure_id"&&(await i.fetchDetailProcedures(),t.value.detailprocedure_id=i.detailProcedures),l=="modality_id"&&(await i.fetchModalities(),t.value.modality_id=i.modalities),l=="city_id"&&(await i.fetchCities(),e.city_id=null,e.province_id=null,e.district_id=null,t.value.province_id=[],t.value.city_id=i.cities),l=="province_id"&&(e.province_id=null,e.district_id=null,t.value.district_id=[])},A=async()=>{O.value=!0;const l={dni:s.detailRegister.dni,cde_id:s.detailRegister.cde_id,people_id:s.detailRegister.people_id,user_id:s.detailRegister.user_id,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,detailprocedure_id:e.detailprocedure_id,modality_id:e.modality_id,ruc:e.ruc,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,address:e.address};try{const v=await K({url:"formalization/create-ruc-10",method:"POST",data:l});v.status==200&&(T.success(v.message),m("registered",v.data),P())}catch{T.error(i.error)}finally{O.value=!1}},P=()=>{e.economicsector_id=null,e.comercialactivity_id=null,e.detailprocedure_id=null,e.modality_id=null,e.ruc=null,e.city_id=null,e.province_id=null,e.district_id=null,e.address=null},S=y({economicsector_id:{type:"iSelect",label:"SECTOR ECONÓMICO",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},comercialactivity_id:{type:"iSelect",label:"ACTIVIDAD COMERCIAL",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},detailprocedure_id:{type:"iSelect",label:"DETALLE DEL TRÁMITE",name:"detailprocedure_id",required:!0,message:"Seleccionar detalle del trámite",disabled:!1},modality_id:{type:"iSelect",label:"MODALIDAD DE ATENCIÓN",name:"modality_id",required:!0,message:"Seleccionar modalidad",disabled:!1},ruc:{type:"iNumber",label:"NÚMERO DE RUC",name:"ruc",message:"Escribir número de RUC",disabled:!1,maxlength:11,required:!0,rules:[{validator:(l,v)=>{if(!v)return Promise.reject(new Error("El Número de RUC es obligatorio"));const N=v.toString();return N.length!==11?Promise.reject(new Error("El número debe tener exactamente 11 dígitos")):["10","15","17"].includes(N.substring(0,2))?Promise.resolve():Promise.reject(new Error("El RUC debe empezar con 10, 15 o 17"))},trigger:"change"}]},city_id:{type:"iSelect",label:"REGIÓN DEL NEGOCIO",name:"city_id",required:!0,message:"Seleccionar región",disabled:!1},province_id:{type:"iSelect",label:"PROVINCIA DEL NEGOCIO",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO DEL NEGOCIO",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},address:{type:"iText",label:"DIRECCIÓN DEL NEGOCIO",name:"address",required:!0,message:"Escribir la direccion del Negocio",disabled:!1}}),f=async l=>{l&&(console.log("info",l),await i.fetchCities(),t.value.city_id=i.cities,e.city_id=l.city_id,await i.fetchProvinces(e.city_id),t.value.province_id=i.provinces,e.province_id=l.province_id,await i.fetchDistricts(e.province_id),t.value.district_id=i.districts,e.district_id=l.district_id,e.address=l.address)};return G(()=>{s.infoBusinessMan&&f(s.infoBusinessMan)}),H(()=>s.infoBusinessMan,l=>{l?f(l):P()}),q("formState",e),q("loadingState",O),(l,v)=>(w(),x("div",ei,[_(W,{fields:S.value,options:t.value,btnSaveName:d.value,onHandleFocusSelect:b,onHandleChangeSelect:E,onOnSubmit:A,mayus:!0},null,8,["fields","options","btnSaveName"])]))}};const ti={class:"ppjj-draw"},ai={__name:"RegistrarPPJJ",props:{detailRegister:{type:Object,required:!0,default:()=>({})},infoBusinessMan:{type:Object,required:!1,default:()=>({})}},emits:["registered"],setup(p,{emit:c}){D.locale("es");const s=p,m=c,i=z(),O=y(!1),e=F({}),d=y("REGISTRAR"),t=y({city_id:[],province_id:[],district_id:[],modality_id:[],comercialactivity_id:[],isbic:[],typecapital_id:[]}),E=async o=>{o=="city_id"&&(await i.fetchProvinces(e.city_id),t.value.province_id=i.provinces,v.value.province_id.disabled=!1),o=="province_id"&&(await i.fetchDistricts(e.province_id),t.value.district_id=i.districts,v.value.district_id.disabled=!1)},b=async o=>{o=="city_id"&&(await i.fetchCities(),e.city_id=null,e.province_id=null,e.district_id=null,t.value.province_id=[],t.value.city_id=i.cities),o=="province_id"&&(e.province_id=null,e.district_id=null,t.value.district_id=[]),o=="modality_id"&&(await i.fetchModalities(),t.value.modality_id=i.modalities),o=="regime_id"&&(await i.fetchRegimes(),t.value.regime_id=i.regimes),o=="economicsector_id"&&(await i.fetchEconomicSectors(),t.value.economicsector_id=i.economicSectors),o=="comercialactivity_id"&&(await i.fetchComercialActivities(),t.value.comercialactivity_id=i.comercialActivities),o=="notary_id"&&f(),o=="isbic"&&A(),o=="typecapital_id"&&(await i.fetchTypeCapital(),t.value.typecapital_id=i.typeCapital)},A=()=>{t.value.isbic=[{value:"SI",label:"SI"},{value:"NO",label:"NO"}]},P=async()=>{O.value=!0;const o={dni:s.detailRegister.dni,cde_id:s.detailRegister.cde_id,people_id:s.detailRegister.people_id,user_id:s.detailRegister.user_id,ruc:e.ruc,regime_id:e.regime_id,nameMype:e.nameMype,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,address:e.address,modality_id:e.modality_id,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,numbernotary:e.numbernotary,notary_id:e.notary_id,dateReception:e.dateReception?D(e.dateReception).format("YYYY-MM-DD"):null,datetramite:e.dateTramite?D(e.dateTramite).format("YYYY-MM-DD"):null,isbic:e.isbic,montocapital:e.montocapital,typecapital_id:e.typecapital_id};try{const n=await K({url:"formalization/create-ruc20",method:"POST",data:o});n.status==200&&(T.success(n.message),m("registered",n.data),l())}catch{T.error(i.error)}finally{O.value=!1}},S=async o=>{o=="dateReception"&&(e.dateTramite&&(e.dateTramite=null),v.value.dateTramite.disabled=!1)},f=async()=>{try{const{data:o}=await Oe({url:"public/notaries-filters",method:"GET"}),n=o.map(u=>({value:u.id,name:u.name,city:u.city.name,province:u.province.name,district:u.district.name,address:u.address}));t.value.notary_id=n}catch(o){console.error("Error de red:",o)}},l=()=>{Object.keys(e).forEach(o=>{e[o]=null}),v.value.province_id.disabled=!0,v.value.district_id.disabled=!0,v.value.dateTramite.disabled=!0},v=y({ruc:{type:"iNumber",label:"NÚMERO DE RUC",name:"ruc",message:"Escribir número de RUC",disabled:!1,maxlength:11,required:!1,rules:[{validator:(o,n)=>{if(!n)return Promise.resolve();const u=n.toString();return u.length!==11?Promise.reject(new Error("El número debe tener exactamente 11 dígitos")):["20"].includes(u.substring(0,2))?Promise.resolve():Promise.reject(new Error("El RUC debe empezar con 20"))},trigger:"change"}]},regime_id:{type:"iSelect",label:"TIPO DE RÉGIMEN SOCIETARIO",name:"regime_id",required:!0,message:"Seleccionar el régimen societario",disabled:!1},nameMype:{type:"iText",label:"NOMBRE EMPRESA",name:"nameMype",required:!0,message:"Escribir nombre de la empresa",disabled:!1},city_id:{type:"iSelect",label:"REGIÓN DEL NEGOCIO",name:"city_id",required:!0,message:"Seleccionar región",disabled:!1},province_id:{type:"iSelect",label:"PROVINCIA DEL NEGOCIO",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO DEL NEGOCIO",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},address:{type:"iText",label:"DIRECCIÓN DEL NEGOCIO",name:"address",required:!0,message:"Escribir la direccion del Negocio",disabled:!1},modality_id:{type:"iSelect",label:"MODALIDAD DE ATENCIÓN",name:"modality_id",required:!0,message:"Seleccionar modalidad",disabled:!1},economicsector_id:{type:"iSelect",label:"SECTOR ECONÓMICO",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},comercialactivity_id:{type:"iSelect",label:"ACTIVIDAD COMERCIAL",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},numbernotary:{type:"iText",label:"NÚMERO SOLICITUD CONSTANCIA",name:"numbernotary",required:!0,message:"Escribir el número de solicitud",disabled:!1,maxlength:8,rules:[{validator:(o,n)=>{if(!n)return Promise.reject(new Error("El número de notaría es requerido"));const u=n.toString();return/^\d{8}$/.test(u)?Promise.resolve():Promise.reject(new Error("El número debe tener exactamente 8 dígitos numéricos"))},trigger:"change"}]},notary_id:{type:"iSelectNotary",label:"NOTARÍA",name:"notary_id",required:!0,message:"Seleccionar una notaría",disabled:!1},dateReception:{type:"iDate",label:"FECHA DE RECEPCION PNTE",name:"dateReception",required:!0,disabled:!1,disabledDate:o=>!1},dateTramite:{type:"iDate",label:"FEC. TRÁMITE SID SUNARP-SUNAT",name:"dateTramite",required:!0,disabled:!0,disabledDate:o=>e.dateReception&&o&&D(o).isBefore(D(e.dateReception))},isbic:{type:"iSelect",label:"¿ES UNA SOCIEDAD BIC?",name:"isbic",required:!0,message:"Buscar BIC",disabled:!1},montocapital:{type:"iMoney",label:"MONTO DE CAPITAL SOCIAL",name:"montocapital",required:!0,message:"Escribir el Monto de capital social",disabled:!1},typecapital_id:{type:"iSelect",label:"TIPO DE APORTE DE CAPITAL",name:"typecapital_id",required:!0,message:"Seleccionar BIC",disabled:!1}}),N=async o=>{o&&(console.log("info",o),await i.fetchCities(),t.value.city_id=i.cities,e.city_id=o.city_id,await i.fetchProvinces(e.city_id),t.value.province_id=i.provinces,e.province_id=o.province_id,await i.fetchDistricts(e.province_id),t.value.district_id=i.districts,e.district_id=o.district_id,e.address=o.address)};return G(()=>{s.infoBusinessMan&&N(s.infoBusinessMan)}),H(()=>s.infoBusinessMan,o=>{o?N(o):l()}),q("formState",e),q("loadingState",O),(o,n)=>(w(),x("div",ti,[_(W,{fields:v.value,options:t.value,btnSaveName:d.value,onHandleFocusSelect:b,onHandleChangeSelect:E,onHandleChangeClock:S,onOnSubmit:P,mayus:!0},null,8,["fields","options","btnSaveName"])]))}};const si={class:"history-grid"},ri={class:"history-card"},ni={class:"history-body"},li={class:"history-top"},oi={class:"history-type"},di={class:"history-dt"},ci={class:"history-advisor"},ui={key:0,class:"history-advisor"},mi={class:"history-card"},pi={class:"history-body"},vi={class:"history-top"},_i={class:"history-type"},fi={class:"history-card"},yi={class:"history-body"},bi={class:"history-top"},gi={class:"history-type"},Si={class:"history-card"},Ei={class:"history-body"},hi={class:"history-top"},Oi={class:"history-type"},Ii={__name:"historialInformationBusinessman",props:{infoBusinessMan:{type:Object,required:!1,default:()=>({})}},setup(p){const c=p,s=y(null),m={edit:{label:"Registrado",icon:je,colorClass:"text-blue-500"},asesoria:{label:"Asesorias",icon:Ue,colorClass:"text-green-500"},ppnn:{label:"PPNN",icon:Ce,colorClass:"text-purple-500"},ppjj:{label:"PPJJ",icon:Me,colorClass:"text-orange-500"}},i=async O=>{try{const e=await K({url:`follow/registration-day/${O.documentnumber}`,method:"GET"});e.status==200&&(s.value=e.data)}catch(e){console.log("error::",e)}finally{}};return G(()=>{c.infoBusinessMan&&i(c.infoBusinessMan)}),H(()=>c.infoBusinessMan,O=>{O&&i(O)}),(O,e)=>{var d,t,E,b,A,P,S,f;return w(),x("div",null,[e[13]||(e[13]=r("h4",{style:{"margin-top":"16px"}},"Movimientos recientes",-1)),r("div",si,[r("div",ri,[r("div",{class:$(["history-icon",m.edit.colorClass])},[(w(),U(X(m.edit.icon)))],2),r("div",ni,[r("div",li,[r("span",oi,R(m.edit.label),1),e[0]||(e[0]=r("span",{class:"dot"},"•",-1)),r("span",di,R((d=s.value)==null?void 0:d.date),1)]),r("div",ci,[e[1]||(e[1]=B(" Registrado por: ")),r("strong",null,R((t=s.value)==null?void 0:t.registeredby),1),B(" "+R((E=s.value)!=null&&E.cde?`/ ${(b=s.value)==null?void 0:b.cde}`:""),1)]),(A=s.value)!=null&&A.updatedby?(w(),x("div",ui,[e[2]||(e[2]=B(" Validado por: ")),r("strong",null,R((P=s.value)==null?void 0:P.updatedby),1),B(" "+R((S=s.value)!=null&&S.cdeUpdate?`/ ${(f=s.value)==null?void 0:f.cdeUpdate}`:""),1)])):Q("",!0)])]),r("div",mi,[r("div",{class:$(["history-icon",m.asesoria.colorClass])},[(w(),U(X(m.asesoria.icon)))],2),r("div",pi,[r("div",vi,[r("span",_i,R(m.asesoria.label),1)]),e[3]||(e[3]=Ie('<ol class="history-list" data-v-61526c5b><li data-v-61526c5b><div class="history-note" data-v-61526c5b>Se realizó la primera asesoría en marketing.</div><div class="history-advisor" data-v-61526c5b> Atendido por: <strong data-v-61526c5b>María López</strong></div></li><li data-v-61526c5b><div class="history-note" data-v-61526c5b>Se revisaron los documentos de la empresa.</div><div class="history-advisor" data-v-61526c5b> Atendido por: <strong data-v-61526c5b>Juan Pérez</strong></div></li><li data-v-61526c5b><div class="history-note" data-v-61526c5b>Se dio orientación en el proceso de registro.</div><div class="history-advisor" data-v-61526c5b> Atendido por: <strong data-v-61526c5b>Ana Torres</strong></div></li></ol>',1))])]),r("div",fi,[r("div",{class:$(["history-icon",m.ppnn.colorClass])},[(w(),U(X(m.ppnn.icon)))],2),r("div",yi,[r("div",bi,[r("span",gi,R(m.ppnn.label),1),e[4]||(e[4]=r("span",{class:"dot"},"•",-1)),e[5]||(e[5]=r("span",{class:"history-dt"},"datetime",-1))]),e[6]||(e[6]=r("div",{class:"history-note"},"detalle...",-1)),e[7]||(e[7]=r("div",{class:"history-advisor"},[B("Atendido por: "),r("strong",null,"nombre asesor")],-1))])]),r("div",Si,[r("div",{class:$(["history-icon",m.ppjj.colorClass])},[(w(),U(X(m.ppjj.icon)))],2),r("div",Ei,[r("div",hi,[r("span",Oi,R(m.ppjj.label),1),e[8]||(e[8]=r("span",{class:"dot"},"•",-1)),e[9]||(e[9]=r("span",{class:"history-dt"},"datetime",-1))]),e[10]||(e[10]=r("div",{class:"history-note"},"detalle...",-1)),e[11]||(e[11]=r("div",{class:"history-advisor"},[B("Atendido por: "),r("strong",null,"nombre asesor")],-1))])]),e[12]||(e[12]=r("div",{class:"history-empty"},"No hay registros.",-1))])])}}},Ci=ee(Ii,[["__scopeId","data-v-61526c5b"]]);const Ni={class:"page"},Pi={class:"hint"},Ri={style:{display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"8px"}},Di={class:"quick-actions"},Ai={class:"user-card"},wi={class:"avatar-box"},Ti={class:"user-fields"},Mi={class:"field"},xi={class:"value"},Bi={class:"field"},qi={class:"value"},ji={class:"field"},$i={class:"value"},Li={class:"field"},ki={class:"value"},Ui={class:"user-actions"},zi={__name:"registrar-index",setup(p){const c=z(),s=y(!1),m=y(!1),i=y(null),O=JSON.parse(localStorage.getItem("profile")||"{}"),e=y(O.cde_id),d=y(!1),t=y(null),E=y(null),b=y(null),A=y(null),P=y(!1),S=re(),f=y(null),l=F({type:"DNI",number:null}),v=y(!1);c.fetchCdes();const N=de(()=>{switch(l.type){case"DNI":return 8;case"CE":return 9;case"PAS":return 12;case"PTP":return 9;default:return 10}}),o=de(()=>{switch(l.type){case"DNI":return"12345678";case"CE":return"001234567";case"PAS":return"Ingrese su pasaporte";case"PTP":return"Ingrese su PTP";default:return"Ingrese documento"}});function n(){const g=String(l.number||"").trim();return g.length?g.length!==N.value?(T.error(`El ${l.type} debe tener ${N.value} dígitos`),!1):["DNI","CE","PTP"].includes(l.type)&&!/^\d+$/.test(g)?(T.error("Solo dígitos"),!1):(f.value=null,!0):(T.warning("Ingrese el número de documento"),!1)}const u=g=>{P.value=!1,f.value=g},h=g=>{E.value=!1};function M(g){l.type=g,l.number=null,f.value=null}async function k(){if(n()){v.value=!0;try{const g={documentnumber:l.number};if(l.type==="DNI"){const a=await S.get(g);A.value={type:1,number:l.number},a.status==200?(f.value=a.data,v.value=!1):pe(g)}else{const a=await S.get(g);a.status==200?(f.value=a.data,v.value=!1):(A.value={type:l.type==="CE"?2:l.type==="PAS"?3:l.type==="PTP"?4:1,number:String(l.number??"").trim()},b.value={},P.value=!0,v.value=!1)}}catch{console.log("Error:",S.error)}}}const pe=async g=>{try{const a=await S.reniec(g);a.status==200&&(b.value=a.data,P.value=!0),v.value=!1}catch{Re.warning({message:"Aviso",description:"El servicio de consulta RENIEC no está disponible. Por favor, registre los datos manualmente.",duration:2.5}),b.value={reniecError:"no_disponible",numeroDocumento:l.number,name:null,lastname:null,middlename:null},A.value={type:1,number:l.number},setTimeout(()=>{P.value=!0,v.value=!1},3e3)}};function ie(g){const a={dni:f.value.documentnumber,people_id:f.value.id,user_id:O.id,cde_id:e.value};g==="Asesoría"&&(i.value=a,d.value=!0),g==="PPNN"&&(i.value=a,m.value=!0),g==="PPJJ"&&(i.value=a,s.value=!0)}const ve=g=>{e.value=g;const a=JSON.parse(localStorage.getItem("profile")||"{}");a.cde_id=g,localStorage.setItem("profile",JSON.stringify(a))},_e=(g,a)=>{const L=g.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return a.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(L)};function fe(g){t.value=g,E.value=!0}const te=g=>{g==="ase"?d.value=!1:g==="ppnn"?m.value=!1:g==="ppjj"?s.value=!1:console.log("Error: tipo no reconocido")};return(g,a)=>{const L=j("a-card"),V=j("a-col"),ye=j("a-row"),be=j("a-input"),J=j("a-button"),ge=j("a-input-group"),Se=j("a-select"),Ee=j("a-tooltip"),Y=j("a-drawer");return w(),x(ae,null,[r("div",Ni,[_(L,{class:"card"},{default:C(()=>[a[32]||(a[32]=r("h1",{class:"title"},"Búsqueda de Usuario",-1)),a[33]||(a[33]=r("p",{class:"subtitle"},"Ingresa los datos del documento para buscar o registrar un usuario",-1)),a[34]||(a[34]=r("div",{class:"section-label"},"Tipo de Documento",-1)),_(ye,{gutter:[16,16]},{default:C(()=>[_(V,{xs:24,sm:12},{default:C(()=>[_(L,{hoverable:"",class:$(["doc-type",{active:l.type==="DNI"}]),onClick:a[0]||(a[0]=I=>M("DNI"))},{default:C(()=>a[18]||(a[18]=[r("div",{class:"doc-type-title"},"DNI",-1),r("div",{class:"doc-type-sub"},"Documento Nacional de Identidad",-1)])),_:1},8,["class"])]),_:1}),_(V,{xs:24,sm:12},{default:C(()=>[_(L,{hoverable:"",class:$(["doc-type",{active:l.type==="CE"}]),onClick:a[1]||(a[1]=I=>M("CE"))},{default:C(()=>a[19]||(a[19]=[r("div",{class:"doc-type-title"},"CE",-1),r("div",{class:"doc-type-sub"},"Carné de Extranjería",-1)])),_:1},8,["class"])]),_:1}),_(V,{xs:24,sm:12},{default:C(()=>[_(L,{hoverable:"",class:$(["doc-type",{active:l.type==="PAS"}]),onClick:a[2]||(a[2]=I=>M("PAS"))},{default:C(()=>a[20]||(a[20]=[r("div",{class:"doc-type-title"},"PAS",-1),r("div",{class:"doc-type-sub"},"Pasaporte",-1)])),_:1},8,["class"])]),_:1}),_(V,{xs:24,sm:12},{default:C(()=>[_(L,{hoverable:"",class:$(["doc-type",{active:l.type==="PTP"}]),onClick:a[3]||(a[3]=I=>M("PTP"))},{default:C(()=>a[21]||(a[21]=[r("div",{class:"doc-type-title"},"PTP",-1),r("div",{class:"doc-type-sub"},"Permiso Temporal de Permanencia",-1)])),_:1},8,["class"])]),_:1})]),_:1}),a[35]||(a[35]=r("div",{class:"section-label mt-20"},"Número de Documento",-1)),_(ge,{compact:"",class:"doc-input-group"},{default:C(()=>[_(be,{value:l.number,"onUpdate:value":a[4]||(a[4]=I=>l.number=I),maxlength:N.value,placeholder:o.value,class:"doc-input",disabled:v.value,onPressEnter:k},null,8,["value","maxlength","placeholder","disabled"]),_(J,{type:"primary",class:"btn-search",loading:v.value,onClick:k},{icon:C(()=>[_(Z(Ne))]),default:C(()=>[a[22]||(a[22]=B(" BUSCAR "))]),_:1},8,["loading"])]),_:1}),r("div",Pi,"Debe tener "+R(N.value)+" dígitos",1),f.value?(w(),x(ae,{key:0},[a[26]||(a[26]=r("div",{class:"section-label mt-20"},"Accesos rápidos",-1)),r("div",Ri,[r("div",Di,[_(J,{onClick:a[5]||(a[5]=I=>ie("Asesoría"))},{default:C(()=>a[23]||(a[23]=[B("Asesoría")])),_:1}),_(J,{onClick:a[6]||(a[6]=I=>ie("PPNN"))},{default:C(()=>a[24]||(a[24]=[B("PPNN")])),_:1}),_(J,{onClick:a[7]||(a[7]=I=>ie("PPJJ"))},{default:C(()=>a[25]||(a[25]=[B("PPJJ")])),_:1})]),_(Se,{value:e.value,"onUpdate:value":a[8]||(a[8]=I=>e.value=I),options:Z(c).cdes,"show-search":"","filter-option":_e,onChange:ve,class:"custom-select"},null,8,["value","options"])])],64)):Q("",!0),f.value?(w(),x(ae,{key:1},[a[31]||(a[31]=r("div",{class:"section-label mt-20"},"Datos del usuario",-1)),r("div",Ai,[r("div",wi,[_(Z(De))]),r("div",Ti,[r("div",Mi,[a[27]||(a[27]=r("div",{class:"label"},"Nro. Documento",-1)),r("div",xi,R(f.value.documentnumber),1)]),r("div",Bi,[a[28]||(a[28]=r("div",{class:"label"},"Nombres",-1)),r("div",qi,R(f.value.name),1)]),r("div",ji,[a[29]||(a[29]=r("div",{class:"label"},"Apellidos",-1)),r("div",$i,R(f.value.lastname)+" "+R(f.value.middlename),1)]),r("div",Li,[a[30]||(a[30]=r("div",{class:"label"},"Celular",-1)),r("div",ki,R(f.value.phone),1)])]),r("div",Ui,[_(Ee,{title:"Editar datos"},{default:C(()=>[_(J,{type:"text",shape:"circle",onClick:a[9]||(a[9]=I=>fe(f.value))},{icon:C(()=>[_(Z(Pe))]),_:1})]),_:1})])])],64)):Q("",!0),f.value?(w(),U(Ci,{key:2,infoBusinessMan:f.value},null,8,["infoBusinessMan"])):Q("",!0)]),_:1})]),_(Y,{title:"Registrar Nuevo Usuario",open:P.value,"onUpdate:open":a[10]||(a[10]=I=>P.value=I),placement:"right",width:"500px"},{default:C(()=>[_(Ye,{infoBusinessMan:b.value,detailDocument:A.value,onRegistered:u},null,8,["infoBusinessMan","detailDocument"])]),_:1},8,["open"]),_(Y,{title:"Actualizar datos del empresario",open:E.value,"onUpdate:open":a[11]||(a[11]=I=>E.value=I),placement:"right",width:"500px"},{default:C(()=>[_(We,{updateInfoBusinessman:t.value,onRegistered:h},null,8,["updateInfoBusinessman"])]),_:1},8,["open"]),_(Y,{title:"Asesoría",placement:"right",width:"600px",open:d.value,"onUpdate:open":a[13]||(a[13]=I=>d.value=I)},{default:C(()=>[_(Ke,{detailRegister:i.value,onRegistered:a[12]||(a[12]=I=>te("ase")),infoBusinessMan:f.value},null,8,["detailRegister","infoBusinessMan"])]),_:1},8,["open"]),_(Y,{title:"PPNN",placement:"right",width:"600px",open:m.value,"onUpdate:open":a[15]||(a[15]=I=>m.value=I)},{default:C(()=>[_(ii,{detailRegister:i.value,onRegistered:a[14]||(a[14]=I=>te("ppnn")),infoBusinessMan:f.value},null,8,["detailRegister","infoBusinessMan"])]),_:1},8,["open"]),_(Y,{title:"PPJJ",placement:"right",width:"600px",open:s.value,"onUpdate:open":a[17]||(a[17]=I=>s.value=I)},{default:C(()=>[_(ai,{detailRegister:i.value,onRegistered:a[16]||(a[16]=I=>te("ppjj")),infoBusinessMan:f.value},null,8,["detailRegister","infoBusinessMan"])]),_:1},8,["open"])],64)}}},Wi=ee(zi,[["__scopeId","data-v-de22eb18"]]);export{Wi as default};
