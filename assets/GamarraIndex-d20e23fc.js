import{r as n,T as R,s as T,j as U,b as u,o,d as s,e as p,c as g,w as x,F as l,J as V,i as c,t as r,q as i,p as F,I as q,G as H,h as J}from"./index-ec966cf5.js";import{u as P}from"./selectes-f1fde8a6.js";import{M as j}from"./MoreOutlined-18637622.js";import"./quill-blot-formatter-e18a970d.js";const X={class:"paginator"},k=20,Z={__name:"GamarraIndex",setup(Y){JSON.parse(localStorage.getItem("profile"));const f=P();f.$patch({cities:f.cities}),f.fetchCities();const h=n(window.innerHeight-100),C=[{title:"#",fixed:"left",dataIndex:"idx",align:"center",width:70},{title:"EMAIL",dataIndex:"email",fixed:"left",width:200},{title:"NOMBRES",dataIndex:"name",width:140},{title:"APELLIDOS",dataIndex:"apellidos",width:140},{title:"NUM. DOC",dataIndex:"documentnumber",align:"center",width:120},{title:"CELULAR",dataIndex:"phone",align:"center",width:150},{title:"F.NACIMIENTO",dataIndex:"birthday",align:"center",width:150}],w=n(0),m=n({page:0}),S=n(1200),I=n([]),v=n(!1),y=n(!1);n(null),n(null);const E=a=>{m.value.page=a,b()},_=()=>{h.value=window.innerHeight-280},z=a=>{console.log("open",a)},N=R(()=>a=>((m.value.page==0?1:m.value.page)-1)*k+a+1),b=async()=>{try{v.value=!0;let a=m.value.page==0?"":m.value;const e=await V({url:"user/list-asesories",method:"GET",params:a});I.value=e.data,w.value=e.total}catch(a){console.error("Error de red:",a)}finally{v.value=!1}};return T(()=>{window.removeEventListener("resize",_)}),U(()=>{window.addEventListener("resize",_),_(),b()}),(a,e)=>{const O=u("a-button"),M=u("a-menu"),A=u("a-dropdown"),L=u("a-table"),B=u("a-pagination"),D=u("a-drawer");return o(),s(l,null,[p("div",null,[e[2]||(e[2]=p("h3",null,"ASESORES",-1)),e[3]||(e[3]=p("div",{class:"filters-notary"},[p("div")],-1)),g(L,{bordered:"",scroll:{x:S.value,y:h.value},class:"ant-table-striped",columns:C,"data-source":I.value,pagination:!1,loading:v.value,size:"small"},{bodyCell:x(({column:t,record:d,index:G})=>[t.dataIndex=="idx"?(o(),s(l,{key:0},[c(r(N.value(G)),1)],64)):i("",!0),t.dataIndex=="name"?(o(),s(l,{key:1},[c(r(d.asesores.profile.name),1)],64)):i("",!0),t.dataIndex=="apellidos"?(o(),s(l,{key:2},[c(r(d.asesores.profile.lastname)+" "+r(d.asesores.profile.middlename),1)],64)):i("",!0),t.dataIndex=="documentnumber"?(o(),s(l,{key:3},[c(r(d.asesores.profile.documentnumber),1)],64)):i("",!0),t.dataIndex=="phone"?(o(),s(l,{key:4},[c(r(d.asesores.profile.phone),1)],64)):i("",!0),t.dataIndex=="birthday"?(o(),s(l,{key:5},[c(r(d.asesores.profile.birthday),1)],64)):i("",!0),t.dataIndex=="actions"?(o(),F(A,{key:6,trigger:["click"]},{overlay:x(()=>[g(M)]),default:x(()=>[p("a",{class:"ant-dropdown-link",onClick:e[0]||(e[0]=q(()=>{},["prevent"]))},[g(O,{shape:"circle",icon:H(J(j)),size:"small"},null,8,["icon"])])]),_:1})):i("",!0)]),_:1},8,["scroll","data-source","loading"])]),p("div",X,[g(B,{size:"small",total:w.value,pageSize:k,onChange:E,showSizeChanger:!1},null,8,["total"])]),g(D,{open:y.value,"onUpdate:open":e[1]||(e[1]=t=>y.value=t),class:"draw-notary","root-class-name":"root-class-name",title:"Datos del solicitante",placement:"right",onAfterOpenChange:z},null,8,["open"])],64)}}};export{Z as default};
