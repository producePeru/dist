import{_ as G}from"./nuevaPersonaCompany-ed7b2d3e.js";import{u as M,r as $,m as O,c as z}from"./index-1477aa9c.js";import{E as Q}from"./EmpresaUsuario-47b57f7b.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";import{g,e as Y,l as D,r as i,o as l,a5 as d,c as h,aa as k,a as u,w as y,F as E,ab as q,a6 as t,a8 as r,L as m}from"./quill-blot-formatter-c388fac3.js";import"./selects-c77e0024.js";const H={key:0},J={class:"box-mensagge"},K={class:"box-title"},W={key:1,class:"box rate"},X={class:"box-title"},Z={class:"rate-wrapper"},j={class:"box-title"},tt={class:"box-title"},et={key:2,class:"box"},st={class:"box-title"},at={class:"box-btn"},ot={__name:"TestSalidaQuestions",props:["workshop","rucdni"],setup(F){const c=F,T=M(),n=g(!1),o=g(null),f=g(!0),e=Y({ruc:null,dni:null,ts1:null,ts2:null,ts3:null,ts4:null,ts5:null,rate_1:null,rate_2:null,rate_3:null,comments:null}),w=()=>{window.scrollTo({top:200,behavior:"smooth"})},_=async()=>{const b={ts1:e.ts1,ts2:e.ts2,ts3:e.ts3,ts4:e.ts4,ts5:e.ts5,c1:e.rate_1,c2:e.rate_2,c3:e.rate_3,suggestions:e.comments,ruc_mype:c.rucdni.ruc,dni_mype:c.rucdni.number_document,workshop_id:c.workshop.id};n.value=!0;try{await $({url:`/sending-test-answers/${c.workshop.id_out}`,method:"POST",data:b});const a={status:"success",title:"¡Gracias por participar de este formulario!",subTitle:"Seguiremos desarrollando más talleres para tí"};T.push({name:"enviado",query:a})}catch(a){console.error("Error:",a.response.data.errors[0])}finally{n.value=!1}},s=()=>{O.error("Debes de completar todos los datos"),w()};return D(async()=>{try{const{data:b}=await $({url:`/testout-questions/${c.workshop.id}`,method:"GET"});o.value=b,f.value=!1}catch(b){console.error("Error de red:",b)}}),(b,a)=>{const I=i("a-spin"),N=i("a-radio"),L=i("a-radio-group"),P=i("a-form-item"),x=i("a-rate"),V=i("a-textarea"),B=i("a-button"),C=i("a-form");return l(),d(E,null,[f.value?(l(),h(I,{key:0})):k("",!0),u(C,{layout:"vertical",model:e,autocomplete:"off",onFinish:_,onFinishFailed:s},{default:y(()=>[o.value?(l(),d("div",H,[(l(),d(E,null,q(5,(p,v)=>t("div",{class:"box",key:v},[t("span",J,"Pregunta "+r(v+1),1),t("h3",K,r(o.value["question"+(v+1)]),1),u(P,{name:`ts${v+1}`,rules:[{required:!0,message:"Escoge una respuesta"}]},{default:y(()=>[u(L,{class:"group-radios",value:e[`ts${v+1}`],"onUpdate:value":R=>e[`ts${v+1}`]=R},{default:y(()=>[(l(),d(E,null,q(3,(R,S)=>u(N,{key:S,class:"item-radio",value:S+1},{default:y(()=>[m(r(o.value[`question${v+1}_opt${S+1}`]),1)]),_:2},1032,["value"])),64))]),_:2},1032,["value","onUpdate:value"])]),_:2},1032,["name"])])),64))])):k("",!0),o.value?(l(),d("div",W,[t("div",null,[t("h3",X,r(o.value.satistaction1),1),u(x,{class:"star-rate",value:e.rate_1,"onUpdate:value":a[0]||(a[0]=p=>e.rate_1=p)},null,8,["value"])]),t("div",Z,[t("h3",j,r(o.value.satistaction2),1),u(x,{class:"star-rate",value:e.rate_2,"onUpdate:value":a[1]||(a[1]=p=>e.rate_2=p)},null,8,["value"])]),t("div",null,[t("h3",tt,r(o.value.satistaction3),1),u(x,{class:"star-rate",value:e.rate_3,"onUpdate:value":a[2]||(a[2]=p=>e.rate_3=p)},null,8,["value"])])])):k("",!0),o.value?(l(),d("div",et,[a[4]||(a[4]=t("span",{class:"box-mensagge"},"Sugerencias",-1)),t("h3",st,r(o.value.comments),1),u(V,{value:e.comments,"onUpdate:value":a[3]||(a[3]=p=>e.comments=p),"allow-clear":""},null,8,["value"])])):k("",!0),t("div",at,[u(B,{type:"primary","html-type":"submit",loading:n.value},{default:y(()=>a[5]||(a[5]=[m("ENVIAR")])),_:1},8,["loading"])])]),_:1},8,["model"])],64)}}},lt=A(ot,[["__scopeId","data-v-8a3b3bcd"]]);const nt={class:"invitation"},rt={key:1,class:"container"},ut={key:0,class:"invitacion-info text-html"},it={__name:"TestSalida",setup(F){const c=g(!0),T=z(),n=g(null),o=g(!0),f=g(null),e=_=>{o.value=!0,f.value=_},w=async()=>{try{const _=await $({url:`/get-workshop-slug/${T.params.slug}`,method:"GET"});n.value=_.workshop,c.value=!1}catch(_){console.error("Error de red:",_)}};return D(()=>{w()}),(_,s)=>{const U=i("a-spin");return l(),d("section",nt,[c.value?(l(),h(U,{key:0})):(l(),d("div",rt,[s[6]||(s[6]=t("div",{class:"header"},[t("img",{class:"logo-ruta",src:G,alt:""})],-1)),s[7]||(s[7]=t("div",{class:"lazing"},[t("h3",null,"TEST DE SALIDA")],-1)),n.value?(l(),d("div",ut,[t("div",null,[s[3]||(s[3]=t("p",null,[m(" ¡Capacítate con "),t("b",null,"#RUTADIGITAL"),m(" del Ministerio de Producción del Perú, a través de "),t("b",null,"#TuEmpresa"),m("! ")],-1)),s[4]||(s[4]=t("br",null,null,-1)),t("p",null,[s[0]||(s[0]=t("b",null,"Taller: ",-1)),m(" "+r(n.value.title),1)]),t("p",null,[s[1]||(s[1]=t("b",null,"Exponente: ",-1)),m(" "+r(n.value.exponent_name),1)]),t("p",null,[s[2]||(s[2]=t("b",null,"Fecha: ",-1)),m(" "+r(n.value.workshop_date),1)])]),s[5]||(s[5]=t("div",null,[t("img",{class:"img-taller",src:"https://img.freepik.com/vector-gratis/proyecto-inicio-negocio-lanzar-idea-exitosa_107791-13390.jpg",alt:""})],-1))])):k("",!0),s[8]||(s[8]=t("br",null,null,-1)),o.value?(l(),h(lt,{key:2,workshop:n.value,rucdni:f.value},null,8,["workshop","rucdni"])):(l(),h(Q,{key:1,onRegisterMYPE:e}))]))])}}},gt=A(it,[["__scopeId","data-v-b5f78b83"]]);export{gt as default};
