import{_ as z,a as w,b as x}from"./ico-fb-52730242.js";import{a as D,r as d,u as L,l as O,n as k,b as c,o as j,d as M,e as n,q as R,c as o,w as i,F as G,s as Q,g as y,f as p,m as V,j as Y,p as J,k as X}from"./index-5a256a9a.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";const K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAfCAYAAACYn/8/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABfSURBVHgB7c4hEYBAAAXRDxJFABwhMFQgAflIQAUMEdCEQHIdTuzMzexL8LpnnP9Ums4jw7qkxnfdebc9tfo0yjjNOM04zTjNOM04zTjNOM04zTjNOM04zTjNOK3ZeAGQ1whJsy738gAAAABJRU5ErkJggg==";const f=m=>(J("data-v-631a3224"),m=m(),X(),m),$=f(()=>n("div",{class:"container header-wrapper"},[n("img",{src:x,alt:"logo-produce"}),n("img",{src:z,alt:"logo-tu-empresa"})],-1)),W=[$],Z={class:"form"},aa={class:"container"},ea={class:"form-wrapper"},oa=f(()=>n("h2",{class:"ff title"},"Formulario de formalización digital",-1)),ta=f(()=>n("h2",{class:"ff title2"},"Paso 1: Registro de datos",-1)),la={class:"number-cel"},ra=f(()=>n("div",{class:"flat-51"},[n("img",{src:K,alt:"peru"}),n("span",null,"+51")],-1)),sa=Q('<footer data-v-631a3224><div class="container" data-v-631a3224><div class="footer-wrapper" data-v-631a3224><div class="footer-tuempresa-info" data-v-631a3224><img src="'+z+'" alt="footer logo tu empresa" data-v-631a3224><p class="ff" data-v-631a3224>Programa Nacional &quot;Tu Empresa&quot; Brindamos a los emprendedores acompañamiento en formalización y constitución de empresas.</p></div><div data-v-631a3224></div><div data-v-631a3224><b data-v-631a3224>Contáctanos</b><p data-v-631a3224>Lima - Guardia Civil : Av. Guardia Civil N° 834 - Primer Piso, San Isidro - Lima - Lima - San Isidro - Perú</p><p data-v-631a3224>016162291</p></div><div class="footer-redes" data-v-631a3224><a href="" data-v-631a3224><img src="'+w+'" alt="tu empresa facebook" data-v-631a3224></a><a href="" data-v-631a3224><img src="'+w+'" alt="tu empresa facebook" data-v-631a3224></a><a href="" data-v-631a3224><img src="'+w+'" alt="tu empresa facebook" data-v-631a3224></a></div></div></div></footer>',1),na={__name:"FormalizacionPge",setup(m){const e=D({dni:null,name_lastname:null,email:null,phone:null,departament:null,province:null,district:null,address:null,id_cde:null}),_=d(!1),P=d(null),g=d(!1),A=d([]),v=d([]),u=d([]),C=L(),F=async()=>{y.remove("formalizacion"),_.value=!0;try{await p({url:"/public/formalization",method:"POST",data:e})&&(y.set("formalization-data",JSON.stringify(e)),C.push({name:"formalizacion-mapa"}))}catch{V.error("Error al registrar")}finally{_.value=!1}},U=r=>{console.log("Failed:",r)},I=()=>{e.dni=e.dni.replace(/\D/g,"")},b=(r,a)=>{const s=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return a.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(s)},B=async()=>{try{const{data:r}=await p({url:"/departaments",method:"GET"});let a=r.map(s=>({label:s.label,value:s.id}));A.value=[...A.value,...a]}catch(r){console.log(r)}},E=async r=>{e.province=null,e.district=null,v.value=[],u.value=[];try{const{data:a}=await p({url:`/province/${r}`,method:"GET"});let s=a.map(t=>({label:t.label,value:t.id}));v.value=[...v.value,...s]}catch(a){console.log(a)}},S=async r=>{e.district=null,u.value=[];try{const{data:a}=await p({url:`/district/${r}`,method:"GET"});let s=a.map(t=>({label:t.label,value:t.id}));u.value=[...u.value,...s]}catch(a){console.log(a)}},N=()=>{window.pageYOffset>10?g.value=!0:g.value=!1};return O(()=>{B(),window.addEventListener("scroll",N)}),k(()=>{window.removeEventListener("scroll",N)}),(r,a)=>{const s=c("a-input"),t=c("a-form-item"),h=c("a-select"),T=c("a-button"),q=c("a-form");return j(),M(G,null,[n("header",{class:R(["header",{floatingNav:g.value}]),ref_key:"navBar",ref:P},W,2),n("section",Z,[n("div",aa,[n("div",ea,[oa,o(q,{class:"form-values",model:e,name:"basic",layout:"vertical",autocomplete:"off",onFinish:F,onFinishFailed:U},{default:i(()=>[ta,o(t,{label:"Número DNI",name:"dni",rules:[{required:!0,message:"Por favor ingresa tu número de DNI",min:8,max:8}]},{default:i(()=>[o(s,{value:e.dni,"onUpdate:value":a[0]||(a[0]=l=>e.dni=l),onInput:I},null,8,["value"])]),_:1}),o(t,{label:"Nombres y Apellidos",name:"name_lastname",rules:[{required:!0,message:"Por favor ingresa tu número de DNI"}]},{default:i(()=>[o(s,{value:e.name_lastname,"onUpdate:value":a[1]||(a[1]=l=>e.name_lastname=l)},null,8,["value"])]),_:1}),o(t,{label:"Correo electrónico",name:"email",rules:[{required:!0,message:"Por favor ingresa tu correo electrónico",type:"email"}]},{default:i(()=>[o(s,{value:e.email,"onUpdate:value":a[2]||(a[2]=l=>e.email=l)},null,8,["value"])]),_:1}),o(t,{label:"Número de celular",name:"phone",rules:[{required:!0,message:"Por favor ingresa tu número de celular",min:9,max:9}]},{default:i(()=>[n("div",la,[ra,o(s,{value:e.phone,"onUpdate:value":a[3]||(a[3]=l=>e.phone=l)},null,8,["value"])])]),_:1}),o(t,{label:"Departamento",name:"departament",rules:[{required:!0,message:"Por favor selecciona un departamento"}]},{default:i(()=>[o(h,{value:e.departament,"onUpdate:value":a[4]||(a[4]=l=>e.departament=l),"show-search":"",options:A.value,"filter-option":b,onChange:E},null,8,["value","options"])]),_:1}),o(t,{label:"Provincia",name:"province",rules:[{required:!0,message:"Por favor selecciona tu provincia"}]},{default:i(()=>[o(h,{value:e.province,"onUpdate:value":a[5]||(a[5]=l=>e.province=l),"show-search":"",options:v.value,"filter-option":b,onChange:S},null,8,["value","options"])]),_:1}),o(t,{label:"Distrito",name:"district",rules:[{required:!0,message:"Por favor selecciona tu distrito"}]},{default:i(()=>[o(h,{value:e.district,"onUpdate:value":a[6]||(a[6]=l=>e.district=l),"show-search":"",options:u.value,"filter-option":b},null,8,["value","options"])]),_:1}),o(t,{label:"Dirección",name:"address",rules:[{required:!0,message:"Por favor ingresa tu dirección"}]},{default:i(()=>[o(s,{value:e.address,"onUpdate:value":a[7]||(a[7]=l=>e.address=l)},null,8,["value"])]),_:1}),o(t,null,{default:i(()=>[o(T,{loading:_.value,class:"form-button",type:"primary","html-type":"submit"},{default:i(()=>[Y("CONTINUAR")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])]),sa],64)}}},ca=H(na,[["__scopeId","data-v-631a3224"]]);export{ca as default};
