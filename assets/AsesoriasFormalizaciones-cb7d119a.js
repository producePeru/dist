import{u as ue}from"./selectes-a7816323.js";import{c as n,A as Ce,l as ae,r as f,a as _e,j as me,T as fe,b,o as r,d as L,w as o,e as x,F as ee,s as ye,x as _,h,q as u,t as O,H as Ue,P as xe,i as P,a5 as Se,K as te,m as K,f as Ie,a1 as Ne,u as De,D as Re,a6 as qe}from"./index-8ec371a7.js";import"./es-133f716c.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";import"./storage-c1c0ffe7.js";import{S as Ae}from"./DrawerSolicitante.componente-06bb5915.js";var ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};const ke=ze;function he(D){for(var q=1;q<arguments.length;q++){var z=arguments[q]!=null?Object(arguments[q]):{},I=Object.keys(z);typeof Object.getOwnPropertySymbols=="function"&&(I=I.concat(Object.getOwnPropertySymbols(z).filter(function(N){return Object.getOwnPropertyDescriptor(z,N).enumerable}))),I.forEach(function(N){Te(D,N,z[N])})}return D}function Te(D,q,z){return q in D?Object.defineProperty(D,q,{value:z,enumerable:!0,configurable:!0,writable:!0}):D[q]=z,D}var be=function(q,z){var I=he({},q,z.attrs);return n(Ce,he({},I,{icon:ke}),null)};be.displayName="RedoOutlined";be.inheritAttrs=!1;const Ee=be,ve=JSON.parse(localStorage.getItem("role")),Oe={dni:{type:"iTextLol",label:"Núm. documento Identidad",name:"dni",required:!0,message:"Escribir número de documento",disabled:!1,placeholder:"Número documento"},ruc:{type:"iNumber",label:"Número de RUC",name:"ruc",required:!1,message:"Escribir número de RUC",disabled:!1,max:11,min:11},nameMype:{type:"iText",label:"Nombre empresa",name:"nameMype",required:!0,message:"Escribir nombre de la empresa",disabled:!1},city_id:{type:"iSelectWrite",label:"Región del negocio",name:"city_id",required:!0,message:"Seleccionar región",disabled:!1},province_id:{type:"iSelectWrite",label:"Provincia del negocio",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!1},district_id:{type:"iSelectWrite",label:"Distrito del negocio",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!1},address:{type:"iText",label:"Dirección del negocio",name:"address",required:!0,message:"Digitar la dirección del negocio",disabled:!1},modality_id:{type:"iSelect",label:"Modalidad de atención",name:"modality_id",required:!0,message:"Seleccionar la modalidad",disabled:!1},regime_id:{type:"iSelect",label:"Tipo de régimen societario",name:"regime_id",required:!0,message:"Seleccionar el régimen societario",disabled:!1},economicsector_id:{type:"iSelectWrite",label:"Sector económico",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},numbernotary:{type:"iNumber",label:"Número solicitud constancia",name:"numbernotary",required:!0,message:"Escribir número de solicitud de constancia",disabled:!1,max:8,min:1},comercialactivity_id:{type:"iSelectWrite",label:"Actividad comercial",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},notary_id:{type:"iSelect",label:"Notaría",name:"notary_id",required:!0,message:"Seleccionar una notaría",disabled:!1},dateReception:{type:"iDate",label:"Fecha de Recepcion PNTE",name:"dateReception",required:!1,message:"Fecha de Recepcion del PNTE, no puede ser mayor a la del trámite de la SUNARP - SUNAT",disabled:!1},dateTramite:{type:"iDate",label:"Fec. trámite SID SUNARP-SUNAT",name:"dateTramite",required:!1,message:"La fecha de trámite no puede ser menor que la fecha de recepción del PNTE ni más de 30 días",disabled:!1},isbic:{type:"iSelect",label:"¿Es una sociedad BIC?",name:"isbic",required:!1,message:"Buscar BIC",disabled:!1},montocapital:{type:"iMoney",label:"Monto de capital social",name:"montocapital",required:!1,message:"Escribir el Monto de capital social",disabled:!1},typecapital_id:{type:"iSelect",label:"Tipo de aporte de capital",name:"typecapital_id",required:!1,message:"Seleccionar BIC",disabled:!1}},Fe={dni:{type:"iText",label:"Número de documento de identidad",name:"dni",required:!0,message:"Escribir número de documento",disabled:!1,placeholder:"Número documento"},economicsector_id:{type:"iSelectWrite",label:"Sector económico",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},comercialactivity_id:{type:"iSelectWrite",label:"Actividad comercial",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},detailprocedure_id:{type:"iSelect",label:"Detalle del trámite",name:"detailprocedure_id",required:!0,message:"Seleccionar detalle del trámite",disabled:!1},modality_id:{type:"iSelect",label:"Modalidad de atención",name:"modality_id",required:!0,message:"Seleccionar modalidad de atención",disabled:!!ve.some(D=>D.id===7)},ruc:{type:"iText",label:"Número de RUC",name:"ruc",required:!0,message:"Escribir el número de RUC",disabled:!1,max:11},city_id:{type:"iSelectWrite",label:"Región del negocio",name:"city_id",required:!0,message:"Seleccionar región",disabled:!1},province_id:{type:"iSelectWrite",label:"Provincia del Negocio",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!1},district_id:{type:"iSelectWrite",label:"Distrito del Negocio",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!1},address:{type:"iText",label:"Direccion del Negocio",name:"address",required:!0,message:"Escribir la direccion del Negocio",disabled:!1}},$e={dni:{type:"iText",label:"Número de documento",name:"dni",required:!0,message:"Escribir número de documento",disabled:!1,placeholder:"Número documento"},economicsector_id:{type:"iSelectWrite",label:"Sector económico",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},comercialactivity_id:{type:"iSelectWrite",label:"Actividad comercial",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},component_id:{type:"iSelectWrite",label:"Componente",name:"component_id",required:!0,message:"Seleccionar un componente",disabled:!!ve.some(D=>D.id===7)},theme_id:{type:"iSelectWrite",label:"Tema del componente",name:"theme_id",required:!0,message:"Seleccionar un tema del componente",disabled:!1},modality_id:{type:"iSelect",label:"Modalidad de atención",name:"modality_id",required:!0,message:"Seleccionar modalidad",disabled:!!ve.some(D=>D.id===7)},ruc:{type:"iText",label:"Número de RUC",name:"ruc",required:!1,message:"Escribir número de RUC",disabled:!1,placeholder:"Número de RUC (Opcional)",max:11,min:11},city_id:{type:"iSelectWrite",label:"Región del negocio",name:"city_id",required:!0,message:"Seleccionar departamento",disabled:!1},province_id:{type:"iSelectWrite",label:"Provincia del Negocio",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!1},district_id:{type:"iSelectWrite",label:"Distrito del Negocio",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!1},observations:{type:"iTextarea",label:"Nro de Reserva / Observaciones",name:"observations",required:!1,message:"Seleccionar tipo de documento",disabled:!1}};const Pe={class:"grid-ruc20"},Le={class:"select-notaries"},Me={class:"name"},We={class:"city"},Ye={class:"address"},Be="DD/MM/YYYY",je={__name:"AllFormalizacion20",props:["info","idCde"],emits:["closeDraw"],setup(D,{emit:q}){ae.locale("es");const z=Se({props:{vnodes:{type:Object,required:!0}},render(){return this.vnodes}}),I=q,N=D,c=f(null),A=JSON.parse(localStorage.getItem("profile")),T=JSON.parse(localStorage.getItem("role")),m=ue(),t=f(!1),M=f(!1),W=f(!0),s=f([]),E=f(null),a=_e({});m.$patch({cities:m.cities}),m.$patch({modalities:m.modalities}),m.$patch({economicSectors:m.economicSectors}),m.$patch({comercialActivities:m.comercialActivities}),m.$patch({regimes:m.regimes}),m.$patch({typeCapital:m.typeCapital}),m.fetchEconomicSectors(),m.fetchComercialActivities(),m.fetchRegimes(),m.fetchModalities(),m.fetchTypeCapital(),m.fetchCities();const $=[{value:"SI",label:"SI"},{value:"NO",label:"NO"}],V=(i,y)=>{const d=a.dateReception?ae(a.dateReception):null,l=a.dateTramite?ae(a.dateTramite):null;if(i==="dateReception"&&l&&ae(y).isAfter(l))return Promise.reject("La fecha de recepción no puede ser mayor que la fecha de trámite");if(i==="dateTramite"&&d){const H=d.add(30,"days");if(ae(y).isBefore(d)&&!ae(y).isSame(d))return Promise.reject("La fecha de trámite no puede ser menor que la fecha de recepción");if(ae(y).isAfter(H))return Promise.reject("La fecha de trámite no puede ser más de 30 días después de la fecha de recepción")}return Promise.resolve()},F=(i,y)=>!y||/^20\d{9}$/.test(y)?Promise.resolve():Promise.reject("El RUC debe comenzar por 20 y ser 11 carácteres"),v=i=>{(i=="ruc"||i=="montocapital")&&(a[i]=a[i].replace(/\D/g,""))},C=(i,y)=>{const d=i.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),l=y.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),H=y.city.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),U=y.province.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),G=y.district.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return l.includes(d)||H.includes(d)||U.includes(d)||G.includes(d)},g=async()=>{try{M.value=!0;const i={name:E.value};(await te({url:"create/comercial-activities",method:"POST",data:i})).status==200&&(E.value=null,m.fetchComercialActivities())}catch(i){console.log(i)}finally{M.value=!1}},S=i=>{a.province_id=null,a.district_id=null,m.fetchProvinces(i)},R=i=>{a.district_id=null,m.fetchDistricts(i)},Y=async()=>{try{const{data:i}=await Ie({url:"public/notaries-filters",method:"GET"}),y=i.map(d=>({value:d.id,name:d.name,city:d.city.name,province:d.province.name,district:d.district.name,address:d.address}));s.value=y,W.value=!1}catch(i){console.error("Error de red:",i)}},B=(i,y)=>{const d=i.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return y.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(d)};function J(i){c.value=Oe;const{documentnumber:y,city_id:d,province_id:l,district_id:H,address:U}=N.info,G=T.some(Z=>Z.id===7);a.dni=y,a.city_id=d,S(d),a.province_id=l,R(l),a.district_id=H,a.address=U,Y(),G&&(c.value.notary_id.disabled=!0,c.value.modality_id.disabled=!0,a.modality_id=1,a.notary_id=A.notary_id)}const Q=async()=>{if(t.value=!0,!N.info.id)return K.error("Error al registrar, actualiza la página");const i={codesunarp:a.codesunarp,numbernotary:a.numbernotary,address:a.address,economicsector_id:a.economicsector_id,comercialactivity_id:a.comercialactivity_id,regime_id:a.regime_id,city_id:a.city_id,province_id:a.province_id,district_id:a.district_id,modality_id:a.modality_id,notary_id:a.notary_id,user_id:A.user_id,people_id:N.info.id,nameMype:a.nameMype,dateReception:a.dateReception?ae(a.dateReception).format("YYYY-MM-DD"):null,dateTramite:a.dateTramite?ae(a.dateTramite).format("YYYY-MM-DD"):null,ruc:a.ruc,dni:a.dni,typecapital_id:a.typecapital_id,isbic:a.isbic,montocapital:a.montocapital,cde_id:N.idCde?N.idCde:null};try{const y=await te({url:"formalization/create-ruc20",method:"POST",data:i});if(y.status===200){const d={razonSocial:null,ruc:a.ruc,createdFrom:"F20"};K.success(y.message),a.codesunarp=null,a.economicsector_id=null,a.comercialactivity_id=null,a.regime_id=null,a.city_id=null,a.province_id=null,a.district_id=null,a.address=null,a.modality_id=null,a.nameMype=null,a.dateReception=null,a.dateTramite=null,a.notary_id=null,a.ruc=null,a.numbernotary=null,a.isbic=null,a.montocapital=null,a.typecapital_id=null,I("closeDraw",!0)}}catch(y){console.log("Error: "+y)}finally{t.value=!1}};return me(()=>{N.info&&J(N.info)}),fe(()=>N.info,i=>{i&&J()}),(i,y)=>{const d=b("a-select"),l=b("a-form-item"),H=b("a-date-picker"),U=b("a-divider"),G=b("a-input"),Z=b("a-button"),oe=b("a-space"),le=b("a-input-number"),de=b("a-form"),j=b("a-spin");return r(),L("div",null,[n(j,{spinning:W.value},{default:o(()=>[n(de,{layout:"vertical",model:a,name:"basic",autocomplete:"off",onFinish:Q},{default:o(()=>[x("div",Pe,[(r(!0),L(ee,null,ye(c.value,(e,X)=>(r(),L(ee,{key:X},[e.type==="iSelect"?(r(),_(l,{key:0,class:"item-max",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:o(()=>[e.name=="regime_id"?(r(),_(d,{key:0,value:a[e.name],"onUpdate:value":p=>a[e.name]=p,options:h(m).regimes,"show-search":"","filter-option":B},null,8,["value","onUpdate:value","options"])):u("",!0),e.name=="modality_id"?(r(),_(d,{key:1,disabled:e.disabled,value:a[e.name],"onUpdate:value":p=>a[e.name]=p,options:h(m).modalities},null,8,["disabled","value","onUpdate:value","options"])):u("",!0),e.name=="typecapital_id"?(r(),_(d,{key:2,value:a[e.name],"onUpdate:value":p=>a[e.name]=p,options:h(m).typeCapital},null,8,["value","onUpdate:value","options"])):u("",!0),e.name=="isbic"?(r(),_(d,{key:3,value:a[e.name],"onUpdate:value":p=>a[e.name]=p,options:$},null,8,["value","onUpdate:value"])):u("",!0),e.name=="notary_id"?(r(),_(d,{key:4,disabled:e.disabled,value:a[e.name],"onUpdate:value":p=>a[e.name]=p,options:s.value,"option-label-prop":"name","show-search":"","filter-option":C},{option:o(({value:p,name:ie,city:pe,province:se,district:k,address:ne})=>[x("div",Le,[x("span",Me,O(ie),1),x("span",We,O(pe)+" - "+O(se)+" - "+O(k),1),x("span",Ye,O(ne),1)])]),_:2},1032,["disabled","value","onUpdate:value","options"])):u("",!0)]),_:2},1032,["name","label","rules"])):u("",!0),e.type==="iDate"?(r(),_(l,{key:1,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,validator:(p,ie)=>V(e.name,ie)}]},{default:o(()=>[n(H,{locale:h(Ue),value:a[e.name],"onUpdate:value":p=>a[e.name]=p,style:{width:"100%"},format:Be,placeholder:"día/mes/año",disabled:e.disabled},null,8,["locale","value","onUpdate:value","disabled"])]),_:2},1032,["name","label","rules"])):u("",!0),e.type==="iSelectWrite"?(r(),_(l,{key:2,class:"item-max",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:o(()=>[e.name=="comercialactivity_id"?(r(),_(d,{key:0,value:a[e.name],"onUpdate:value":p=>a[e.name]=p,"show-search":"",options:h(m).comercialActivities,"filter-option":B},{dropdownRender:o(({menuNode:p})=>[n(h(z),{vnodes:p},null,8,["vnodes"]),n(U,{style:{margin:"4px 0"}}),n(oe,{style:{padding:"4px 8px"}},{default:o(()=>[n(G,{ref_for:!0,ref:"inputRef",value:E.value,"onUpdate:value":y[0]||(y[0]=ie=>E.value=ie),placeholder:"Nueva actividad"},null,8,["value"]),n(Z,{type:"text",onClick:g,loading:M.value},{icon:o(()=>[n(h(xe))]),default:o(()=>[y[2]||(y[2]=P(" Agregar "))]),_:1},8,["loading"])]),_:1})]),_:2},1032,["value","onUpdate:value","options"])):u("",!0),e.name=="economicsector_id"?(r(),_(d,{key:1,value:a[e.name],"onUpdate:value":p=>a[e.name]=p,"show-search":"",options:h(m).economicSectors,"filter-option":B},null,8,["value","onUpdate:value","options"])):u("",!0),e.name=="city_id"?(r(),_(d,{key:2,value:a[e.name],"onUpdate:value":p=>a[e.name]=p,"show-search":"",options:h(m).cities,"filter-option":B,onChange:S},null,8,["value","onUpdate:value","options"])):u("",!0),e.name=="province_id"?(r(),_(d,{key:3,value:a[e.name],"onUpdate:value":p=>a[e.name]=p,"show-search":"",options:h(m).provinces,"filter-option":B,onChange:R,disabled:!a.city_id},null,8,["value","onUpdate:value","options","disabled"])):u("",!0),e.name=="district_id"?(r(),_(d,{key:4,value:a[e.name],"onUpdate:value":p=>a[e.name]=p,"show-search":"",options:h(m).districts,"filter-option":B,disabled:!a.province_id},null,8,["value","onUpdate:value","options","disabled"])):u("",!0)]),_:2},1032,["name","label","rules"])):u("",!0),e.type==="iText"?(r(),_(l,{key:3,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,type:e.email,max:e.max,min:e.min}]},{default:o(()=>[n(G,{onInput:p=>v(e.name),value:a[e.name],"onUpdate:value":p=>a[e.name]=p,disabled:e.disabled,maxlength:e.max,placeholder:e.placeholder},null,8,["onInput","value","onUpdate:value","disabled","maxlength","placeholder"])]),_:2},1032,["name","label","rules"])):u("",!0),e.type==="iNumber"?(r(),_(l,{key:4,name:e.name,label:e.label,rules:[{required:e.required,message:e.message},...e.name==="ruc"?[{validator:F,trigger:"change"}]:[]]},{default:o(()=>[n(le,{style:{width:"100%"},value:a[e.name],"onUpdate:value":p=>a[e.name]=p,maxlength:e.max},null,8,["value","onUpdate:value","maxlength"])]),_:2},1032,["name","label","rules"])):u("",!0),e.type==="iTextLol"?(r(),_(l,{key:5,name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:o(()=>[n(G,{onInput:p=>v(e.name),value:a.dni,"onUpdate:value":y[1]||(y[1]=p=>a.dni=p),disabled:!N.documentnumber,maxlength:e.max,placeholder:e.placeholder},null,8,["onInput","value","disabled","maxlength","placeholder"])]),_:2},1032,["name","label","rules"])):u("",!0),e.type==="iMoney"?(r(),_(l,{key:6,name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:o(()=>[n(le,{min:1,style:{width:"100%"},value:a[e.name],"onUpdate:value":p=>a[e.name]=p,formatter:p=>`S/ ${p}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:p=>p.replace(/S\/\s?|(,*)/g,"")},null,8,["value","onUpdate:value","formatter","parser"])]),_:2},1032,["name","label","rules"])):u("",!0)],64))),128))]),n(l,null,{default:o(()=>[n(Z,{class:"btn-produce",type:"primary","html-type":"submit",loading:t.value},{default:o(()=>y[3]||(y[3]=[P("GUARDAR")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])}}},Ve=re(je,[["__scopeId","data-v-f5683664"]]);const Ge={class:"wrapper-booking"},Je={class:"grid-booking"},He={__name:"FormalizacionRUC10",props:["info","idCde"],emits:["closeDraw"],setup(D,{emit:q}){const z=JSON.parse(localStorage.getItem("role")),I=Se({props:{vnodes:{type:Object,required:!0}},render(){return this.vnodes}}),N=JSON.parse(localStorage.getItem("profile")),c=D,A=q,T=f(!1),m=f(null);f(null),f(!1);const t=ue(),M=f(!1);t.$patch({cities:t.cities}),t.$patch({provinces:t.provinces}),t.$patch({districts:t.districts}),t.$patch({modalities:t.modalities}),t.$patch({detailProcedures:t.detailProcedures}),t.$patch({economicSectors:t.economicSectors}),t.$patch({comercialActivities:t.comercialActivities}),t.fetchDetailProcedures(),t.fetchModalities(),t.fetchEconomicSectors(),t.fetchComercialActivities(),t.fetchCities();const W=f(!0),s=_e({detailprocedure_id:null,modality_id:null,economicsector_id:null,comercialactivity_id:null,city_id:null,province_id:null,district_id:null,address:null,user_id:N.user_id}),E=async()=>{try{M.value=!0;const g={name:m.value};(await te({url:"create/comercial-activities",method:"POST",data:g})).status==200&&(m.value=null,t.fetchComercialActivities())}catch(g){console.log(g)}finally{M.value=!1}},a=g=>{s.province_id=null,s.district_id=null,t.fetchProvinces(g)},$=g=>{s.district_id=null,t.fetchDistricts(g)},V=(g,S)=>{const R=g.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return S.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(R)},F=async()=>{if(T.value=!0,!c.info.id)return K.error("Error al registrar, actualiza la página");const g={dni:s.dni,detailprocedure_id:s.detailprocedure_id,modality_id:s.modality_id,economicsector_id:s.economicsector_id,comercialactivity_id:s.comercialactivity_id,city_id:s.city_id,province_id:s.province_id,district_id:s.district_id,address:s.address,ruc:s.ruc,user_id:N.user_id,people_id:c.info.id,cde_id:c.idCde?c.idCde:null};try{const S=await te({url:"formalization/create-ruc-10",method:"POST",data:g});if(S.status===200){const R={razonSocial:null,ruc:s.ruc,createdFrom:"F10"};K.success(S.message),s.detailprocedure_id=null,s.modality_id=null,s.economicsector_id=null,s.comercialactivity_id=null,s.city_id=null,s.province_id=null,s.district_id=null,s.address=null,s.ruc=null,A("closeDraw",!0)}}catch(S){console.log("Error: "+S)}finally{T.value=!1}},v=()=>{K.warning("Debes de completar todos los espacios requeridos")};function C(){const{documentnumber:g,city_id:S,province_id:R,district_id:Y,address:B}=c.info,J=z.some(Q=>Q.id===7);s.dni=g,s.city_id=S,a(S),s.province_id=R,$(R),s.district_id=Y,s.address=B,J&&(s.modality_id=1),s.district_id&&setTimeout(()=>{W.value=!1},1500)}return me(()=>{c.info&&C(c.info)}),fe(()=>c.info,g=>{g&&C()}),(g,S)=>{const R=b("a-select"),Y=b("a-form-item"),B=b("a-input"),J=b("a-divider"),Q=b("a-button"),i=b("a-space"),y=b("a-form"),d=b("a-spin");return r(),L("div",Ge,[n(d,{spinning:W.value},{default:o(()=>[n(y,{layout:"vertical",model:s,name:"basic",autocomplete:"off",onFinish:F,onFinishFailed:v},{default:o(()=>[x("div",Je,[(r(!0),L(ee,null,ye(h(Fe),(l,H)=>(r(),L(ee,{key:H},[l.type==="iSelect"?(r(),_(Y,{key:0,class:"item-max",name:l.name,label:l.label,rules:[{required:l.required,message:l.message}]},{default:o(()=>[l.name=="detailprocedure_id"?(r(),_(R,{key:0,value:s[l.name],"onUpdate:value":U=>s[l.name]=U,options:h(t).detailProcedures},null,8,["value","onUpdate:value","options"])):u("",!0),l.name=="modality_id"?(r(),_(R,{key:1,disabled:l.disabled,value:s[l.name],"onUpdate:value":U=>s[l.name]=U,options:h(t).modalities},null,8,["disabled","value","onUpdate:value","options"])):u("",!0)]),_:2},1032,["name","label","rules"])):u("",!0),l.type==="iText"?(r(),_(Y,{key:1,name:l.name,label:l.label,rules:[{required:l.required,message:l.message,type:"string",max:l.max},...l.name==="ruc"?[{validator:(U,G,Z)=>{G?/^(10|15|17)\d{9}$/.test(G)?Z():Z(new Error("El RUC debe comenzar con 10, 15 o 17 y tener 11 caracteres en total")):Z()}}]:[]]},{default:o(()=>[n(B,{value:s[l.name],"onUpdate:value":U=>s[l.name]=U,disabled:l.name==="dni"&&!!s[l.name],maxlength:l.max,placeholder:l.placeholder},null,8,["value","onUpdate:value","disabled","maxlength","placeholder"])]),_:2},1032,["name","label","rules"])):u("",!0),l.type==="iSelectWrite"?(r(),_(Y,{key:2,class:"item-max",name:l.name,label:l.label,rules:[{required:l.required,message:l.message}]},{default:o(()=>[l.name=="comercialactivity_id"?(r(),_(R,{key:0,value:s[l.name],"onUpdate:value":U=>s[l.name]=U,"show-search":"",options:h(t).comercialActivities,"filter-option":V},{dropdownRender:o(({menuNode:U})=>[n(h(I),{vnodes:U},null,8,["vnodes"]),n(J,{style:{margin:"4px 0"}}),n(i,{style:{padding:"4px 8px"}},{default:o(()=>[n(B,{ref_for:!0,ref:"inputRef",value:m.value,"onUpdate:value":S[0]||(S[0]=G=>m.value=G),placeholder:"Nueva actividad"},null,8,["value"]),n(Q,{type:"text",onClick:E,loading:M.value},{icon:o(()=>[n(h(xe))]),default:o(()=>[S[1]||(S[1]=P(" Agregar "))]),_:1},8,["loading"])]),_:1})]),_:2},1032,["value","onUpdate:value","options"])):u("",!0),l.name=="economicsector_id"?(r(),_(R,{key:1,value:s[l.name],"onUpdate:value":U=>s[l.name]=U,"show-search":"",options:h(t).economicSectors,"filter-option":V},null,8,["value","onUpdate:value","options"])):u("",!0),l.name=="city_id"?(r(),_(R,{key:2,value:s[l.name],"onUpdate:value":U=>s[l.name]=U,"show-search":"",options:h(t).cities,"filter-option":V,onChange:a},null,8,["value","onUpdate:value","options"])):u("",!0),l.name=="province_id"?(r(),_(R,{key:3,value:s[l.name],"onUpdate:value":U=>s[l.name]=U,"show-search":"",options:h(t).provinces,"filter-option":V,onChange:$,disabled:!s.city_id},null,8,["value","onUpdate:value","options","disabled"])):u("",!0),l.name=="district_id"?(r(),_(R,{key:4,value:s[l.name],"onUpdate:value":U=>s[l.name]=U,"show-search":"",options:h(t).districts,"filter-option":V,disabled:!s.province_id},null,8,["value","onUpdate:value","options","disabled"])):u("",!0)]),_:2},1032,["name","label","rules"])):u("",!0)],64))),128))]),n(Y,null,{default:o(()=>[n(Q,{type:"primary",class:"btn-produce","html-type":"submit",loading:T.value},{default:o(()=>S[2]||(S[2]=[P("GUARDAR")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])}}},Ke=re(He,[["__scopeId","data-v-84400cbe"]]);const Qe={class:"wrapper-booking"},Ze={class:"grid-booking"},Xe={__name:"AsesoriaNuevo",props:["info","idCde"],emits:["closeDraw"],setup(D,{emit:q}){const z=JSON.parse(localStorage.getItem("role")),I=D,N=q,c=ue(),A=JSON.parse(localStorage.getItem("profile")),T=f(!1);f(!1),f(null),f(null),c.$patch({components:c.components}),c.$patch({componentThemes:c.componentThemes}),c.$patch({modalities:c.modalities}),c.$patch({cities:c.cities}),c.$patch({economicSectors:c.economicSectors}),c.$patch({comercialActivities:c.comercialActivities}),c.fetchEconomicSectors(),c.fetchComercialActivities(),c.fetchComponents(),c.fetchModalities(),c.fetchCities();const m=f(!0),t=_e({cde_id:null,dni:null,economicsector_id:null,comercialactivity_id:null,component_id:null,theme_id:null,modality_id:null,ruc:null,city_id:null,province_id:null,district_id:null,observations:null,user_id:A.user_id}),M=v=>{v=="ruc"&&(t[v]=t[v].replace(/\D/g,""))},W=v=>{t.theme_id=null,c.fetchComponentThemes(v)},s=v=>{t.province_id=null,t.district_id=null,c.fetchProvinces(v)},E=v=>{t.district_id=null,c.fetchDistricts(v)},a=(v,C)=>{const g=v.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return C.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(g)},$=async()=>{if(T.value=!0,!I.info.id)return K.error("Error al registrar actualiza la página");const v={dni:t.dni,economicsector_id:t.economicsector_id,comercialactivity_id:t.comercialactivity_id,observations:t.observations,user_id:A.user_id,people_id:I.info.id,component_id:t.component_id,theme_id:t.theme_id,modality_id:t.modality_id,city_id:t.city_id,province_id:t.province_id,district_id:t.district_id,ruc:t.ruc,cde_id:I.idCde?I.idCde:null};try{const C=await te({url:"advisory/create",method:"POST",data:v});if(C.status===200){const g={razonSocial:null,ruc:t.ruc,createdFrom:"asesorias"};K.success(C.message),t.component_id=null,t.theme_id=null,t.modality_id=null,t.city_id=null,t.province_id=null,t.district_id=null,t.observations=null,t.ruc=null,t.economicsector_id=null,t.comercialactivity_id=null,N("closeDraw",!0)}}catch(C){console.log("Error: "+C)}finally{T.value=!1}},V=()=>{K.warning("Debes de completar todos los espacios requeridos")};function F(){const{documentnumber:v,city_id:C,province_id:g,district_id:S}=I.info,R=z.some(Y=>Y.id===7);t.dni=v,t.city_id=C,s(C),t.province_id=g,E(g),t.district_id=S,R&&(c.fetchComponentThemes(4),t.component_id=4,t.modality_id=1),t.district_id&&setTimeout(()=>{m.value=!1},1500)}return me(()=>{I.info&&F(I.info)}),fe(()=>I.info,v=>{v&&F()}),(v,C)=>{const g=b("a-select"),S=b("a-form-item"),R=b("a-textarea"),Y=b("a-input"),B=b("a-button"),J=b("a-form"),Q=b("a-spin");return r(),L("div",Qe,[n(Q,{spinning:m.value},{default:o(()=>[n(J,{layout:"vertical",model:t,name:"basic",autocomplete:"off",onFinish:$,onFinishFailed:V},{default:o(()=>[x("div",Ze,[(r(!0),L(ee,null,ye(h($e),(i,y)=>(r(),L(ee,{key:y},[i.type==="iSelect"?(r(),_(S,{key:0,class:"item-max",name:i.name,label:i.label,rules:[{required:i.required,message:i.message}]},{default:o(()=>[i.name=="modality_id"?(r(),_(g,{key:0,disabled:i.disabled,value:t[i.name],"onUpdate:value":d=>t[i.name]=d,options:h(c).modalities},null,8,["disabled","value","onUpdate:value","options"])):u("",!0)]),_:2},1032,["name","label","rules"])):u("",!0),i.type==="iTextarea"?(r(),_(S,{key:1,name:i.name,label:i.label,rules:[{required:i.required,message:i.message}]},{default:o(()=>[n(R,{value:t[i.name],"onUpdate:value":d=>t[i.name]=d,rows:3},null,8,["value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):u("",!0),i.type==="iText"?(r(),_(S,{key:2,name:i.name,label:i.label,rules:[{required:i.required,message:i.message,type:i.email,max:i.max}]},{default:o(()=>[n(Y,{value:t[i.name],"onUpdate:value":d=>t[i.name]=d,maxlength:i.max,onInput:d=>M(i.name),placeholder:i.placeholder,disabled:i.name==="dni"&&!!t[i.name]},null,8,["value","onUpdate:value","maxlength","onInput","placeholder","disabled"])]),_:2},1032,["name","label","rules"])):u("",!0),i.type==="iSelectWrite"?(r(),_(S,{key:3,class:"item-max",name:i.name,label:i.label,rules:[{required:i.required,message:i.message}]},{default:o(()=>[i.name=="city_id"?(r(),_(g,{key:0,value:t[i.name],"onUpdate:value":d=>t[i.name]=d,"show-search":"",options:h(c).cities,"filter-option":a,onChange:s},null,8,["value","onUpdate:value","options"])):u("",!0),i.name=="province_id"?(r(),_(g,{key:1,value:t[i.name],"onUpdate:value":d=>t[i.name]=d,"show-search":"",options:h(c).provinces,"filter-option":a,onChange:E,disabled:!t.city_id},null,8,["value","onUpdate:value","options","disabled"])):u("",!0),i.name=="district_id"?(r(),_(g,{key:2,value:t[i.name],"onUpdate:value":d=>t[i.name]=d,"show-search":"",options:h(c).districts,"filter-option":a,disabled:!t.province_id},null,8,["value","onUpdate:value","options","disabled"])):u("",!0),i.name=="economicsector_id"?(r(),_(g,{key:3,value:t[i.name],"onUpdate:value":d=>t[i.name]=d,"show-search":"",options:h(c).economicSectors,"filter-option":a},null,8,["value","onUpdate:value","options"])):u("",!0),i.name=="comercialactivity_id"?(r(),_(g,{key:4,value:t[i.name],"onUpdate:value":d=>t[i.name]=d,"show-search":"",options:h(c).comercialActivities,"filter-option":a},null,8,["value","onUpdate:value","options"])):u("",!0),i.name=="component_id"?(r(),_(g,{key:5,disabled:i.disabled,value:t[i.name],"onUpdate:value":d=>t[i.name]=d,"show-search":"",options:h(c).components,"filter-option":a,onChange:W},null,8,["disabled","value","onUpdate:value","options"])):u("",!0),i.name=="theme_id"?(r(),_(g,{key:6,value:t[i.name],"onUpdate:value":d=>t[i.name]=d,"show-search":"",options:h(c).componentThemes,"filter-option":a,disabled:!t.component_id},null,8,["value","onUpdate:value","options","disabled"])):u("",!0)]),_:2},1032,["name","label","rules"])):u("",!0)],64))),128))]),n(S,null,{default:o(()=>[n(B,{type:"primary",class:"btn-produce","html-type":"submit",loading:T.value},{default:o(()=>C[0]||(C[0]=[P("GUARDAR")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])}}},ea=re(Xe,[["__scopeId","data-v-7d34e3f3"]]);const aa={key:0},ta={key:0},ia={key:0},oa={__name:"AsesoriasHistorial",props:["totaladvisories","totalformalization10","totalformalization20"],setup(D){const q=D,z=f("1"),I=[{title:"#",dataIndex:"idx",width:30,align:"center"},{title:"Fecha registro",dataIndex:"date_start",width:110,align:"center"},{title:"Asesor",dataIndex:"asesor",width:140},{title:"Componente",dataIndex:"component",width:20},{title:"Tema",dataIndex:"theme",width:100},{title:"Modalidad",dataIndex:"modality",align:"center",width:60},{title:"Ciudad",dataIndex:"city",width:40},{title:"Provincia",dataIndex:"province",width:40},{title:"Distrito",dataIndex:"district",width:40}],N=[{title:"#",dataIndex:"idx",width:30,align:"center"},{title:"Fecha registro",dataIndex:"date_start",width:110},{title:"Asesor",dataIndex:"asesor",width:140},{title:"Sector económico",dataIndex:"economicsector",width:100},{title:"Actividad comercial",dataIndex:"comercialactivity",width:100},{title:"Detalle del trámite",dataIndex:"detailprocedure",width:100},{title:"Modalidad",dataIndex:"modality",align:"center",width:100},{title:"RUC",dataIndex:"ruc",width:50},{title:"Ciudad",dataIndex:"city",width:40},{title:"Provincia",dataIndex:"province",width:40},{title:"Distrito",dataIndex:"district",width:40}],c=[{title:"#",dataIndex:"idx",width:30,align:"center"},{title:"Fecha registro",dataIndex:"date_start",width:110},{title:"Asesor",dataIndex:"asesor",width:140},{title:"Sector económico",dataIndex:"economicsector",width:100},{title:"Actividad comercial",dataIndex:"comercialactivity",width:100},{title:"Régimen",dataIndex:"regime",width:80,align:"center"},{title:"Número solicitud constancia",dataIndex:"numbernotary",width:100},{title:"Nombre empresa",dataIndex:"mypename",width:160},{title:"RUC",dataIndex:"ruc",width:80},{title:"Modalidad",dataIndex:"modality",align:"center",width:70},{title:"Ciudad",dataIndex:"city",width:30},{title:"Provincia",dataIndex:"province",width:20},{title:"Distrito",dataIndex:"district",width:20},{title:"Dirección",dataIndex:"address",width:200}],A=T=>Ne(T).format("DD/MM/YYYY HH:mm A");return(T,m)=>{const t=b("a-table"),M=b("a-card"),W=b("a-tab-pane"),s=b("a-tabs");return r(),_(s,{activeKey:z.value,"onUpdate:activeKey":m[0]||(m[0]=E=>z.value=E),type:"card",class:"box-hist"},{default:o(()=>[n(W,{key:"1",tab:"ASESORÍAS"},{default:o(()=>[n(M,null,{default:o(()=>[n(t,{columns:I,"data-source":q.totaladvisories,bordered:"",pagination:!1,size:"small",scroll:{x:1200},"expand-column-width":100},{bodyCell:o(({index:E,column:a,record:$})=>[a.dataIndex==="idx"?(r(),L("span",aa,O(E+1),1)):u("",!0),a.dataIndex==="date_start"?(r(),L(ee,{key:1},[P(O(A($.createDate)),1)],64)):u("",!0)]),_:1},8,["data-source"])]),_:1})]),_:1}),n(W,{key:"2",tab:"RUC 10"},{default:o(()=>[n(M,null,{default:o(()=>[n(t,{columns:N,"data-source":q.totalformalization10,bordered:"",pagination:!1,size:"small",scroll:{x:1800},"expand-column-width":100},{bodyCell:o(({index:E,column:a,record:$})=>[a.dataIndex==="idx"?(r(),L("span",ta,O(E+1),1)):u("",!0),a.dataIndex==="date_start"?(r(),L(ee,{key:1},[P(O(A($.createDate)),1)],64)):u("",!0)]),_:1},8,["data-source"])]),_:1})]),_:1}),n(W,{key:"3",tab:"RUC 20"},{default:o(()=>[n(M,null,{default:o(()=>[n(t,{columns:c,"data-source":q.totalformalization20,bordered:"",pagination:!1,size:"small",scroll:{x:2200},"expand-column-width":100},{bodyCell:o(({index:E,column:a,record:$})=>[a.dataIndex==="idx"?(r(),L("span",ia,O(E+1),1)):u("",!0),a.dataIndex==="date_start"?(r(),L(ee,{key:1},[P(O(A($.createDate)),1)],64)):u("",!0)]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1},8,["activeKey"])}}},na=re(oa,[["__scopeId","data-v-01e75dfe"]]);const la={class:"asesorias"},sa={class:"wrapper-s"},ra={key:0,class:"card-as",style:{padding:"1rem"}},da={__name:"AsesoriasFormalizaciones",setup(D){const q=JSON.parse(localStorage.getItem("role")),z=()=>q.some(j=>j.id===7||j.id===13),I=ue(),N=De(),c=Re(),A=f(0),T=f(null),m=f(null),t=f([{value:"asesoria",label:"ASESORÍA"},{value:"ruc20",label:"RUC 20"},{value:"ruc10",label:"RUC 10"}]);I.$patch({cdes:I.cdes}),I.fetchCdes();const M=f(null),W=f(!1),s=f(null);f(!1);const E=f(!1);f(!1);const a=f(!1),$=f(!1),V=f(!1),F=f(""),v=f([]),C=f(!1),g=f(0);f(!1);const S=f([]);f(null);const R=f([]),Y=f([]),B=f([]),J=f(!1),Q=j=>{m.value.cde_id=j,localStorage.setItem("profile",JSON.stringify(m.value))},i=(j,e)=>{const X=j.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return e.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(X)},y=()=>{le(F.value),W.value=!1},d=()=>{H()},l=()=>{F.value=F.value.replace(/\D/g,"")},H=()=>{J.value=!1,F.value="",v.value=[],S.value=[],N.push({name:"asesorias-formalizaciones"})},U=()=>{if(s.value=null,s.value=v.value,!T.value)return K.warning("Seleccionar un tipo de servicio");T.value=="asesoria"&&(V.value=!0),T.value=="ruc10"&&($.value=!0),T.value=="ruc20"&&Z()},G=()=>{M.value=v.value,W.value=!0},Z=()=>{g.value=0,a.value=!0,E.value=!1},oe=async()=>{C.value=!0;const j=await te({url:`person/found/${A.value}/${F.value}`,method:"GET"});if(j.status==200)return v.value=j.data,de(v.value.id),C.value=!1},le=async j=>{if(C.value=!0,!j)return K.warning("Ingresa un número de documento"),C.value=!1;if(A.value==0)return K.warning("Seleccionar el tipo de documento"),C.value=!1;if(A.value==1&&F.value.length<8){K.warning("El número de DNI está incompleto"),C.value=!1;return}const e=await te({url:`person/found/${A.value}/${F.value}`,method:"GET"});if(e.status==200)return v.value=e.data,de(e.data.id),m.value=JSON.parse(localStorage.getItem("profile")),C.value=!1;if(e.status===404){const X={type:A.value,access:"asesorias",number:F.value};N.push({name:"registrar-persona",query:X})}},de=async j=>{try{const{data:e}=await te({url:`historial/registers/${j}`,method:"GET"});R.value=e.advisories,Y.value=e.formalization10,B.value=e.formalization20,J.value=!0}catch(e){console.error("Error de red:",e)}};return me(()=>{c.query.type&&(A.value=c.query.type,F.value=c.query.number)}),(j,e)=>{const X=b("a-radio"),p=b("a-tooltip"),ie=b("a-radio-group"),pe=b("a-input-search"),se=b("a-card"),k=b("a-col"),ne=b("a-row"),ge=b("a-select"),we=b("a-button"),ce=b("a-drawer");return r(),L(ee,null,[x("div",la,[e[32]||(e[32]=x("h3",{class:"title-produce"},"REGISTRO DE FORMALIZACIONES Y ASESORÍAS",-1)),e[33]||(e[33]=x("br",null,null,-1)),n(se,{class:"card-as card-gray"},{default:o(()=>[h(c).query.dni?(r(),_(h(Ee),{key:0,class:"ico-reload",onClick:d})):u("",!0),x("div",sa,[x("div",null,[e[19]||(e[19]=x("label",{class:"label"},"Seleccione el tipo de documento",-1)),n(ie,{value:A.value,"onUpdate:value":e[0]||(e[0]=w=>A.value=w),onChange:H,class:"radio-produce"},{default:o(()=>[n(p,{color:"cyan"},{title:o(()=>e[11]||(e[11]=[P("Documento Nacional de Identidad")])),default:o(()=>[n(X,{value:"1"},{default:o(()=>e[12]||(e[12]=[P("DNI")])),_:1})]),_:1}),n(p,{color:"cyan"},{title:o(()=>e[13]||(e[13]=[P("Carnet de Extranjería")])),default:o(()=>[n(X,{value:"2"},{default:o(()=>e[14]||(e[14]=[P("CE")])),_:1})]),_:1}),n(p,{color:"cyan"},{title:o(()=>e[15]||(e[15]=[P("Pasaporte")])),default:o(()=>[n(X,{value:"3"},{default:o(()=>e[16]||(e[16]=[P("PAS")])),_:1})]),_:1}),n(p,{color:"cyan"},{title:o(()=>e[17]||(e[17]=[P("Permiso Temporal de Permanencia")])),default:o(()=>[n(X,{value:"4"},{default:o(()=>e[18]||(e[18]=[P("PTP")])),_:1})]),_:1})]),_:1},8,["value"])]),x("div",null,[e[20]||(e[20]=x("label",{class:"label"},"Digite el número de documento",-1)),n(pe,{"enter-button":"BUSCAR",value:F.value,"onUpdate:value":e[1]||(e[1]=w=>F.value=w),placeholder:"",loading:C.value,onSearch:le,onInput:l,class:"search-produce",maxlength:A.value==1?8:20},null,8,["value","loading","maxlength"])])])]),_:1}),n(ne,{gutter:[16,16]},{default:o(()=>[n(k,{xs:24,sm:24,lg:12},{default:o(()=>[v.value.length!=0?(r(),_(se,{key:0},{default:o(()=>[e[27]||(e[27]=x("h4",{class:"title-produce"},"RESULTADO DE LA BÚSQUEDA",-1)),n(h(qe),{class:"box-icoedit",onClick:G}),n(ne,{gutter:[0,2],class:"box-info"},{default:o(()=>[n(k,{xs:12,sm:8},{default:o(()=>e[21]||(e[21]=[x("b",{class:"box-title"},"Apellidos y nombres:",-1)])),_:1}),n(k,{xs:12,sm:12},{default:o(()=>[x("span",null,O(v.value.lastname)+" "+O(v.value.middlename)+", "+O(v.value.name),1)]),_:1}),n(k,{xs:12,sm:8},{default:o(()=>e[22]||(e[22]=[x("b",{class:"box-title"},"Número de celular:",-1)])),_:1}),n(k,{xs:12,sm:12},{default:o(()=>[x("span",null,O(v.value.phone?v.value.phone:"-"),1)]),_:1}),n(k,{xs:12,sm:8},{default:o(()=>e[23]||(e[23]=[x("b",{class:"box-title"},"Correo electrónico:",-1)])),_:1}),n(k,{xs:12,sm:12},{default:o(()=>[x("span",null,O(v.value.email?v.value.email:"-"),1)]),_:1}),n(k,{xs:12,sm:8},{default:o(()=>e[24]||(e[24]=[x("b",{class:"box-title"},"Asesorías:",-1)])),_:1}),n(k,{xs:12,sm:12},{default:o(()=>{var w;return[x("span",null,O((w=v.value)==null?void 0:w.idadvisory.length),1)]}),_:1}),n(k,{xs:12,sm:8},{default:o(()=>e[25]||(e[25]=[x("b",{class:"box-title"},"Formalizaciones RUC 20:",-1)])),_:1}),n(k,{xs:12,sm:12},{default:o(()=>{var w;return[x("span",null,O((w=v.value)==null?void 0:w.idformalization20.length),1)]}),_:1}),n(k,{xs:12,sm:8},{default:o(()=>e[26]||(e[26]=[x("b",{class:"box-title"},"Formalizaciones RUC 10:",-1)])),_:1}),n(k,{xs:12,sm:12},{default:o(()=>{var w;return[x("span",null,O((w=v.value)==null?void 0:w.idformalization10.length),1)]}),_:1})]),_:1})]),_:1})):u("",!0)]),_:1}),n(k,{xs:24,sm:24,lg:12},{default:o(()=>[v.value.length!=0?(r(),_(se,{key:0,style:{height:"100%"}},{default:o(()=>[n(ne,{gutter:[16,24]},{default:o(()=>[z()?u("",!0):(r(),_(k,{key:0,xs:24,sm:18,md:12,lg:12},{default:o(()=>[e[28]||(e[28]=x("h4",{class:"title-produce"},"SELECCIONAR CDE",-1)),n(ge,{class:"w-100",value:m.value.cde_id,"onUpdate:value":e[2]||(e[2]=w=>m.value.cde_id=w),options:h(I).cdes,"show-search":"","filter-option":i,onChange:Q},null,8,["value","options"])]),_:1})),n(k,{xs:24,sm:18,md:12,lg:17},{default:o(()=>[e[30]||(e[30]=x("h4",{class:"title-produce"},"¿DESEA REGISTRAR UN NUEVO SERVICIO?",-1)),n(ne,{gutter:[10,0]},{default:o(()=>[n(k,{xs:17,sm:18},{default:o(()=>[n(ge,{class:"w-100",value:T.value,"onUpdate:value":e[3]||(e[3]=w=>T.value=w),options:t.value},null,8,["value","options"])]),_:1}),n(k,{xs:6},{default:o(()=>[n(we,{type:"primary",onClick:U},{default:o(()=>e[29]||(e[29]=[P("REGISTRAR")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):u("",!0)]),_:1})]),_:1}),J.value?(r(),L("div",ra,[e[31]||(e[31]=x("h4",{class:"title-produce"},"HISTORIAL",-1)),n(na,{totaladvisories:R.value,totalformalization10:Y.value,totalformalization20:B.value},null,8,["totaladvisories","totalformalization10","totalformalization20"])])):u("",!0)]),x("section",null,[n(ce,{title:"Regitsrar una Formalización con RUC 20",open:a.value,"onUpdate:open":e[5]||(e[5]=w=>a.value=w),placement:"right",width:"880px"},{default:o(()=>[n(Ve,{info:s.value,idCde:m.value.cde_id,onCloseDraw:e[4]||(e[4]=w=>(a.value=!1,oe()))},null,8,["info","idCde"]),e[34]||(e[34]=x("div",{class:"steps-content"},null,-1))]),_:1},8,["open"]),n(ce,{width:"600px",title:"Regitsrar Formalización con RUC 10",open:$.value,"onUpdate:open":e[7]||(e[7]=w=>$.value=w),placement:"right"},{default:o(()=>[n(Ke,{info:v.value,idCde:m.value.cde_id,onCloseDraw:e[6]||(e[6]=w=>($.value=!1,oe()))},null,8,["info","idCde"])]),_:1},8,["open"]),n(ce,{width:"600px",title:"Registrar una asesoría",open:V.value,"onUpdate:open":e[9]||(e[9]=w=>V.value=w),placement:"right"},{default:o(()=>[n(ea,{info:v.value,idCde:m.value.cde_id,onCloseDraw:e[8]||(e[8]=w=>(V.value=!1,oe()))},null,8,["info","idCde"])]),_:1},8,["open"]),n(ce,{width:"600",open:W.value,"onUpdate:open":e[10]||(e[10]=w=>W.value=w),class:"draw-notary","root-class-name":"root-class-name",title:"Datos del solicitante",placement:"right"},{default:o(()=>[n(Ae,{onCloseDraw:y,updateValues:M.value},null,8,["updateValues"])]),_:1},8,["open"])])],64)}}},fa=re(da,[["__scopeId","data-v-2dc46831"]]);export{fa as default};
