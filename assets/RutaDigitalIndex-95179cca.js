import{r as o,a as Z,p as A,k as W,X as ae,o as h,d as $,c as m,Q as se,h as R,U as Ie,b as y,w as p,N as te,O as oe,e as D,F as J,v as we,y as N,i as H,z as w,j,m as B,f as ie,g as le,K as Ce,G as Re,a3 as Oe,t as ne,a2 as xe,s as De}from"./index-f60ff184.js";import{_ as Ne}from"./icoexcel-1b303edf.js";import{_ as Ae}from"./FormComponent-7cee998d.js";import{u as de}from"./selectes-d6ad8ccd.js";import{u as Te}from"./useBusinessman-c2229e51.js";import{_ as ce}from"./_plugin-vue_export-helper-c27b6911.js";import"./es-384c9dcb.js";import{M as ke}from"./MoreOutlined-d1da6395.js";import"./quill.snow-609ff8cd.js";const Pe={class:"ruta-businessman-draw"},Ue={__name:"RutaDigitalEmpresario",emits:["stepNumber"],setup(G,{emit:C}){const v=C,n=de(),b=Te(),g=o(!1),e=Z({}),O=o("REGISTRAR"),l=o({city_id:[],province_id:[],district_id:[],gender_id:[],sick:[]}),Y=async u=>{u=="city_id"&&(await n.fetchProvinces(e.city_id),l.value.province_id=n.provinces,f.value.province_id.disabled=!1),u=="province_id"&&(await n.fetchDistricts(e.province_id),l.value.district_id=n.districts,f.value.district_id.disabled=!1),u=="typedocument_id"&&(f.value.documentnumber.disabled=!1)},t=async u=>{u=="typedocument_id"&&(l.value.typedocument_id=n.typeDocuments),u=="country_id"&&(l.value.country_id=n.countries),u=="city_id"&&(e.city_id=null,e.province_id=null,e.district_id=null,l.value.province_id=[],l.value.city_id=n.cities),u=="province_id"&&(e.province_id=null,e.district_id=null,l.value.district_id=[]),u=="sick"&&M(),u=="gender_id"&&(l.value.gender_id=n.genders),u=="hasSoon"&&T()},M=()=>{l.value.sick=[{value:"si",label:"SI"},{value:"no",label:"NO"},{value:"na",label:"PREFIERO NO ESPECIFICAR"}]},T=()=>{l.value.hasSoon=[{value:"si",label:"SI"},{value:"no",label:"NO"},{value:"na",label:"PREFIERO NO ESPECIFICAR"}]},z=async u=>{f.value.documentnumber.loading=!0;try{const c={documentnumber:u},E=await b.get(c),{data:_}=E;E.status==200?(e.lastname=_.lastname,e.middlename=_.middlename,e.name=_.name,e.country_id=_.country_id,e.city_id=_.city_id,await n.fetchProvinces(_.city_id),l.value.province_id=n.provinces,e.province_id=_.province_id,await n.fetchDistricts(_.province_id),l.value.district_id=n.districts,e.district_id=_.district_id,e.address=_.address,_.birthday&&(e.birthday=A(_.birthday,"YYYY-MM-DD")),e.phone=_.phone,e.email=_.email,e.gender_id=_.gender_id,M(),e.sick=_.sick,T(),e.hasSoon=_.hasSoon):E.status==404?(F(),se.warning({message:"Aviso",description:"El servicio de consulta RENIEC no está disponible. Por favor, registre los datos manualmente.",duration:2.5}),f.value.lastname.disabled=!1,f.value.middlename.disabled=!1,f.value.name.disabled=!1):R.error("Información ingresada errada.")}catch{console.log("Error:",b.error)}finally{f.value.documentnumber.loading=!1}},k=async()=>{g.value=!0;const u={typedocument_id:e.typedocument_id,documentnumber:e.documentnumber,lastname:e.lastname,middlename:e.middlename,name:e.name,country_id:e.country_id,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,address:e.address,birthday:A(e.birthday).format("YYYY-MM-DD"),phone:e.phone,email:e.email,gender_id:e.gender_id,sick:e.sick,hasSoon:e.hasSoon};try{const c=await b.create(u);if(c.status==200){const E={id:c.data.id,dni:c.data.documentnumber,city_id:c.data.city_id,province_id:c.data.province_id,district_id:c.data.district_id,step:1};v("stepNumber",E),F(),R.success(c.message)}}catch{R.error(n.error)}finally{g.value=!1}},F=()=>{e.lastname=null,e.middlename=null,e.name=null,e.country_id=null,e.city_id=null,e.province_id=null,e.district_id=null,e.address=null,e.birthday=null,e.phone=null,e.email=null,e.gender_id=null,e.sick=null,e.hasSoon=null},f=o({typedocument_id:{type:"iSelect",label:"TIPO DE DOCUMENTO",name:"typedocument_id",required:!0,message:"Seleccionar tipo de documento",disabled:!1},documentnumber:{type:"iInputSearch",label:"NÚMERO DOCUMENTO",name:"documentnumber",required:!0,message:"Escribe número de documento",disabled:!0,loading:b.loading},lastname:{type:"iText",label:"APELLIDO PATERNO",name:"lastname",required:!0,message:"Escribir apellido",disabled:!0},middlename:{type:"iText",label:"APELLIDO MATERNO",name:"middlename",required:!0,message:"Escribir apellido",disabled:!0},name:{type:"iText",label:"NOMBRES",name:"name",required:!0,message:"Escribir nombre",disabled:!0},country_id:{type:"iSelect",label:"PAÍS",name:"country_id",required:!0,message:"Seleccionar país"},city_id:{type:"iSelect",label:"REGIÓN RESIDENCIA",name:"city_id",required:!0,message:"Seleccionar región"},province_id:{type:"iSelect",label:"PROVINCIA RESIDENCIA",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO RESIDENCIA",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},address:{type:"iText",label:"DIRECCIÓN RESIDENCIA",name:"address",required:!0,message:"Escribir dirección",disabled:!1},birthday:{type:"iDate",label:"FECHA NACIMIENTO",name:"birthday",required:!0,message:"Seleccionar fecha de nacimiento",disabledDate:u=>{if(!u)return!1;const c=A(),E=c.subtract(100,"year").endOf("day"),_=c.subtract(18,"year").endOf("day");return u.isAfter(_)||u.isBefore(E)},defaultPickerValue:A().subtract(18,"year"),rules:[{validator:(u,c)=>{if(!c)return Promise.reject(new Error("Seleccionar fecha de nacimiento"));const E=A(),_=E.subtract(100,"year").endOf("day"),L=E.subtract(18,"year").endOf("day");return A(c).isAfter(L)?Promise.reject(new Error("Debe tener 18 años o más")):A(c).isBefore(_)?Promise.reject(new Error("La edad no puede superar los 100 años")):Promise.resolve()},trigger:"change"}]},phone:{type:"iNumber",label:"NÚMERO DE CELULAR",name:"phone",required:!0,message:"Escribe un número de contacto de 9 dígitos",maxlength:9,disabled:!1,rules:[{validator:(u,c)=>{if(!c)return Promise.reject(new Error("El número es requerido"));const E=c.toString();return E.length!==9?Promise.reject(new Error("El número debe tener exactamente 9 dígitos")):E.substring(0,1)!=="9"?Promise.reject(new Error("El número debe comenzar con 9")):Promise.resolve()},trigger:"change"}]},email:{type:"iText",label:"CORREO ELECTRÓNICO",name:"email",required:!1,message:"Escribir un email válido",disabled:!1,rules:[{validator:(u,c)=>c?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)?Promise.resolve():Promise.reject(new Error("Debe ingresar un email válido")):Promise.resolve(),trigger:"change"}]},gender_id:{type:"iSelect",label:"GÉNERO",name:"gender_id",required:!0,message:"Seleccionar tipo de documento"},sick:{type:"iSelect",label:"¿TIENE ALGUNA DISCAPACIDAD?",name:"sick",required:!0,message:"Seleccionar opción"},hasSoon:{type:"iSelect",label:"¿TIENE HIJOS?",name:"hasSoon",required:!0,message:"Seleccionar opción"}});return W(async()=>{await n.fetchTypeDocuments(),l.value.type_document_id=n.typeDocuments,await n.fetchCountries(),l.value.country_id=n.countries,await n.fetchCities(),l.value.city_id=n.cities,await n.fetchGenders(),l.value.gender_id=n.genders,await n.fetchCities(),await n.fetchGenders()}),ae("formState",e),ae("loadingState",g),(u,c)=>(h(),$("div",Pe,[m(Ae,{fields:f.value,options:l.value,btnSaveName:O.value,onHandleFocusSelect:t,onHandleChangeSelect:Y,onOnSubmit:k,mayus:!0,onHandleSearchDni:z},null,8,["fields","options","btnSaveName"])]))}};const Me={class:"agreement-wrapper"},Le={class:"grid-item"},qe={key:3},$e={__name:"RutaDigitalEmpresa",props:["dataStepOne"],emits:["close"],setup(G,{emit:C}){const v=de(),n=C,b=G;v.$patch({cities:v.cities}),v.$patch({provinces:v.provinces}),v.$patch({districts:v.districts}),v.$patch({economicSectors:v.economicSectors}),v.$patch({comercialActivities:v.comercialActivities}),v.fetchCities(),v.fetchEconomicSectors(),v.fetchComercialActivities();const g=o({ruc:{type:"iSearch",label:"NÚMERO RUC",name:"ruc",required:!0,message:"Escribe número de documento",disabled:!1,max:11},socialReason:{type:"iText",label:"RAZÓN SOCIAL",name:"socialReason",required:!0,message:"Escribir razón social",disabled:!0},comercialName:{type:"iText",label:"NOMBRE COMERCIAL",name:"comercialName",required:!0,message:"Escribir nombre comercial",disabled:!0},city_id:{type:"iSelect",label:"REGIÓN",name:"city_id",required:!0,message:"Seleccionar región",disabled:!0},province_id:{type:"iSelect",label:"PROVINCIA",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},address:{type:"iText",label:"DIRECCIÓN",name:"address",required:!0,message:"Escribir dirección",disabled:!0},economicsector_id:{type:"iSelect",label:"SECTOR ECONÓMICO",name:"economicsector_id",required:!0,message:"Seleccionar sector económico",disabled:!0},comercialactivity_id:{type:"iSelect",label:"ACTIVIDAD COMERCIAL",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!0}}),e=o(null),O=o(null),l=o(!1);o(null);const Y=o(!1);o(!0);const t=Z({}),M=r=>{const d=t[r]?t[r].trim():"";t[r]=d},T=async r=>{try{const{data:d}=await ie({url:`select/provinces/${r}`,method:"GET"});e.value=d}catch(d){console.error("Error de red:",d)}},z=async r=>{try{const{data:d}=await ie({url:`select/districts/${r}`,method:"GET"});O.value=d}catch(d){console.error("Error de red:",d)}},k=(r,d)=>{const I=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return d.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(I)},F=async r=>{if(r.length!==11)return R.warning("El RUC debe tener exactamente 11 caracteres.");if(!/^\d+$/.test(r))return R.warning("El RUC debe contener solo números.");if(!/^(10|15|20)/.test(r))return R.warning("El RUC debe comenzar con 10, 15 o 20.");l.value=!0;try{const d=await B({url:`api/consult-company-ruc/${t.ruc}`,method:"POST"});if(g.value.comercialName.disabled=!1,g.value.socialReason.disabled=!1,g.value.city_id.disabled=!1,g.value.address.disabled=!1,g.value.comercialactivity_id.disabled=!1,g.value.economicsector_id.disabled=!1,d.status==200){const{data:I}=d;t.socialReason=I.socialReason,t.comercialName=I.comercialName}else se.warning({message:"Aviso",description:"El servicio de consulta SUNAT no está disponible. Por favor, registre los datos manualmente.",duration:2.5})}catch{console.log("There was an error")}finally{l.value=!1}},f=r=>{t.province_id=null,t.district_id=null,T(r)},u=r=>{t.district_id=null,z(r)},c=()=>{t.comercialName=null,t.socialReason=null,t.city_id=null,t.province_id=null,t.district_id=null,t.address=null,t.comercialactivity_id=null,t.economicsector_id=null},E=async()=>{Y.value=!0;const r={ruc:t.ruc,comercialName:t.comercialName,socialReason:t.socialReason,city_id:t.city_id,province_id:t.province_id,district_id:t.district_id,address:t.address,comercialactivity_id:t.comercialactivity_id,economicsector_id:t.economicsector_id};try{const d=await B({url:"ruta-digital/mype",method:"POST",data:r});if(d.status==200){const I={ruc:d.ruc,dni:b.dataStepOne.dni,person_id:b.dataStepOne.id,mype_id:d.id},x=await B({url:"ruta-digital/create",method:"POST",data:I});if(x.status==409)return R.error(x.message);x.status==200&&(c(),t.ruc=null,R.success(x.message),n("close"))}}catch{R.error("No se pudo registrar a este usuario")}finally{Y.value=!1}},_=()=>{R.error("COMPLETA LOS VALORES REQUERIDOS")},L=async r=>{try{t.city_id=r.city_id,await T(r.city_id),t.province_id=r.province_id,await z(r.province_id),t.district_id=r.district_id}catch(d){R.error(d.message)}};return W(async()=>{b.dataStepOne&&L(b.dataStepOne)}),Ie(()=>b.dataStepOne,r=>{r?L(r):c()}),(r,d)=>{const I=y("a-select"),x=y("a-form-item"),Q=y("a-input-search"),P=y("a-input"),X=y("a-button"),s=y("a-form"),i=y("a-spin");return h(),$("div",Me,[m(i,{spinning:l.value},{default:p(()=>[m(s,{layout:"vertical",model:t,name:"basic",autocomplete:"off",onFinish:E,onFinishFailed:_,onKeydown:d[0]||(d[0]=te(oe(()=>{},["prevent"]),["enter"]))},{default:p(()=>[D("div",Le,[(h(!0),$(J,null,we(g.value,(a,q)=>(h(),$(J,{key:q},[a.type==="iSelect"?(h(),N(x,{key:0,class:"item-max",name:a.name,label:a.label,rules:[{required:a.required,message:a.message}]},{default:p(()=>[a.name=="city_id"?(h(),N(I,{key:0,value:t[a.name],"onUpdate:value":S=>t[a.name]=S,options:H(v).cities,"show-search":"","filter-option":k,onChange:f,disabled:a.disabled},null,8,["value","onUpdate:value","options","disabled"])):w("",!0),a.name=="province_id"?(h(),N(I,{key:1,value:t[a.name],"onUpdate:value":S=>t[a.name]=S,options:e.value,"show-search":"","filter-option":k,onChange:u,disabled:!t.city_id},null,8,["value","onUpdate:value","options","disabled"])):w("",!0),a.name=="district_id"?(h(),N(I,{key:2,value:t[a.name],"onUpdate:value":S=>t[a.name]=S,options:O.value,"show-search":"","filter-option":k,disabled:!t.province_id},null,8,["value","onUpdate:value","options","disabled"])):w("",!0),a.name=="economicsector_id"?(h(),N(I,{key:3,value:t[a.name],"onUpdate:value":S=>t[a.name]=S,"show-search":"",options:H(v).economicSectors,"filter-option":k,disabled:a.disabled},null,8,["value","onUpdate:value","options","disabled"])):w("",!0),a.name=="comercialactivity_id"?(h(),N(I,{key:4,value:t[a.name],"onUpdate:value":S=>t[a.name]=S,"show-search":"",options:H(v).comercialActivities,"filter-option":k,disabled:a.disabled},null,8,["value","onUpdate:value","options","disabled"])):w("",!0)]),_:2},1032,["name","label","rules"])):w("",!0),a.type==="iSearch"?(h(),N(x,{key:1,name:a.name,label:a.label,rules:[{required:a.required,message:a.message,max:a.max},{pattern:/^(10|15|20)\d{9,}$/,message:"El número debe comenzar con 10, 15 o 20, tener solo números, y al menos 11 caracteres"}]},{default:p(()=>[m(Q,{value:t[a.name],"onUpdate:value":S=>t[a.name]=S,loading:l.value,maxlength:a.max,onSearch:F,onKeyup:te(F,["enter"])},null,8,["value","onUpdate:value","loading","maxlength"])]),_:2},1032,["name","label","rules"])):w("",!0),a.type==="iText"?(h(),N(x,{key:2,name:a.name,label:a.label,rules:[{required:a.required,message:a.message,type:a.email,max:a.max,min:a.min}]},{default:p(()=>[m(P,{value:t[a.name],"onUpdate:value":S=>t[a.name]=S,disabled:a.disabled,maxlength:a.max,onBlur:S=>M(a.name)},null,8,["value","onUpdate:value","disabled","maxlength","onBlur"])]),_:2},1032,["name","label","rules"])):w("",!0),a.type==="space"?(h(),$("div",qe)):w("",!0)],64))),128))]),m(x,null,{default:p(()=>[m(X,{class:"btn-produce",type:"primary","html-type":"submit",loading:Y.value},{default:p(()=>d[1]||(d[1]=[j("FINALIZAR")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])}}},Ye=ce($e,[["__scopeId","data-v-47508702"]]),ze={__name:"RutaDigitalNuevo",emits:["closeDraw"],setup(G,{emit:C}){const v=C,n=o(1),b=o(null),g=O=>{b.value=O,n.value=O.step+1},e=()=>{n.value=1,v("closeDraw")};return(O,l)=>(h(),$("section",null,[n.value==1?(h(),N(Ue,{key:0,onStepNumber:g})):w("",!0),n.value==2?(h(),N(Ye,{key:1,dataStepOne:b.value,onClose:e},null,8,["dataStepOne"])):w("",!0)]))}},re=(localStorage.getItem("token")||le.get("token")||"").replace(/"/g,""),Fe=re?`Bearer ${re}`:"",Be="https://apituempresa.soporte-pnte.com/api/",Ge="http://127.0.0.1:8000/api/",Ve=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?Ge:Be;async function je(G,C,v){try{const n=await Ce({url:`${Ve}${G}`,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fe}`},method:"POST",responseType:"blob",data:v}),b=window.URL.createObjectURL(new Blob([n.data])),g=document.createElement("a");g.href=b;const e=`${C}.xlsx`;g.setAttribute("download",e),document.body.appendChild(g),g.click(),document.body.removeChild(g)}catch(n){console.error("Error al descargar el archivo:",n)}}const He={class:"layout-content"},Ke=["onClick"],Qe={class:"paginator"},Xe={__name:"RutaDigitalIndex",props:["idConvenio"],setup(G){A.locale("es"),le.get("token");const C=JSON.parse(localStorage.getItem("role")),v=o(null),n=o(null);o(null);const b=o(!1),g=o(null),e=o(0),O=o(50),l=o({page:1}),Y=o(1200),t=o([]),M=o(!1),T=o(!1);o(!1),o(!1),o(!1),o(null);const z=o(window.innerHeight-100),k=o({page:1}),F=[{title:"#",dataIndex:"idx",fixed:"left",align:"center",width:70},{title:"FECHA DE REGISTRO",dataIndex:"date",fixed:"left",align:"center",width:140},{title:"DNI ASESOR",dataIndex:"asesor_documentnumber",fixed:"left",align:"center",width:100},{title:"NOMBRE DEL ASESOR",dataIndex:"asesor_name",width:180},{title:"CDE/MAC",dataIndex:"asesor_cde",width:160,align:"center"},...C.some(s=>s.id!==1)?[{title:"SUPERVISOR",dataIndex:"supervisador",width:180}]:[],{title:"TIPO DOCUMENTO",dataIndex:"typedocument",align:"center",width:130},{title:"NRO DOCUMENTO",dataIndex:"documentnumber",align:"center",width:130},{title:"NACIONALIDAD (NOMBRE DEL PAIS)",dataIndex:"country",align:"center",width:140},{title:"FECHA DE NACIMIENTO",dataIndex:"birthdate",align:"center",width:120},{title:"APELLIDOS",dataIndex:"lastname",width:150},{title:"NOMBRES",dataIndex:"name",width:150},...C.some(s=>s.id!==1)?[{title:"SEXO (F/M)",dataIndex:"gender",width:60}]:[],...C.some(s=>s.id!==1)?[{title:"DISCAPACIDAD (SI/NO)",dataIndex:"sick",width:120}]:[],...C.some(s=>s.id!==1)?[{title:"CELULAR",dataIndex:"phone",width:100}]:[],...C.some(s=>s.id!==1)?[{title:"CORREO",dataIndex:"email",width:150}]:[],{title:"NÚMERO DE RUC",dataIndex:"ruc",align:"center",width:120},{title:"REGION DE LA MYPE",dataIndex:"region",align:"center",width:120},{title:"PROVINCIA DE LA MYPE",dataIndex:"province",align:"center",width:150},{title:"DISTRITO DE LA MYPE",dataIndex:"district",align:"center",width:130},{title:"DIRECCIÓN",dataIndex:"address",width:240},{title:"SECTOR ECONOMICO",dataIndex:"comercialactivity",align:"center",width:180},{title:"ACTIVIDAD COMERCIAL",dataIndex:"economicsector",align:"center",width:140},{title:"AUTODIAGNÓSTICO",dataIndex:"status",align:"center",fixed:"right",width:140}],f=Z({search:""}),u=()=>{l.value.page=1,f.search,P()},c=()=>{f.search||P()},E=s=>{g.value=s,T.value=!0},_=s=>{k.value.page=s,P()},L=()=>{z.value=window.innerHeight-320},r=()=>{g.value=null,T.value=!0},d=()=>{T.value=!1,P()},I=async s=>{try{const i=await B({url:`agreement/delete/${s.id}`,method:"DELETE"});i.status==200&&(P(),R.success(i.message))}catch(i){console.error("Error de red:",i)}},x=Re(()=>s=>(l.value.page-1)*O.value+s+1),Q=async s=>{try{const i=await B({url:`ruta-digital/status/${s}`,method:"PUT"});i.status==200&&(P(),R.success(i.message))}catch(i){console.error("Error de red:",i)}},P=async s=>{try{M.value=!0;const i={};n.value&&(i.start=A(n.value[0]).format("YYYY-MM-DD"),i.end=A(n.value[1]).format("YYYY-MM-DD")),f.search&&(i.search=f.search),l.value.page&&(i.page=k.value.page);const a=await B({url:"ruta-digital/list",method:"GET",params:i}),q=a.data;t.value=q.data,e.value=q.total,O.value=q.per_page,v.value=a.role}catch(i){console.error("Error de red:",i)}finally{M.value=!1}},X=async()=>{try{b.value=!0;const s={};n.value&&(s.start=A(n.value[0]).format("YYYY-MM-DD"),s.end=A(n.value[1]).format("YYYY-MM-DD")),f.search&&(s.search=f.search),l.value.page&&(s.page=l.value.page);const{data:i}=await B({url:"ruta-digital/list-all",method:"GET",params:s});await je("download/digital-routes","ruta-digital",i)}catch(s){console.error("Error de red:",s)}finally{b.value=!1}};return Oe(()=>{window.removeEventListener("resize",L)}),W(()=>{window.addEventListener("resize",L),L(),P()}),(s,i)=>{const a=y("a-button"),q=y("a-range-picker"),S=y("a-col"),ue=y("a-input"),me=y("a-input-group"),pe=y("a-row"),_e=y("a-switch"),ee=y("a-menu-item"),ve=y("a-popconfirm"),ge=y("a-menu"),ye=y("a-dropdown"),fe=y("a-table"),he=y("a-tag"),be=y("a-pagination"),Ee=y("a-drawer");return h(),$("div",He,[D("div",null,[i[11]||(i[11]=D("h3",{class:"title-produce"},"RUTA DIGITAL - UGO",-1)),m(pe,{style:{margin:"1rem 0"}},{default:p(()=>[m(S,{xs:24,md:16,lg:18},{default:p(()=>[m(a,{type:"primary",onClick:r,style:{}},{default:p(()=>i[4]||(i[4]=[j("REGISTRAR")])),_:1}),m(a,{class:"btn-excel",onClick:X,loading:b.value,type:"primary",style:{margin:"0 0.6rem"}},{default:p(()=>i[5]||(i[5]=[D("img",{width:"20",style:{margin:"-2px 4px 0 0"},src:Ne},null,-1)])),_:1},8,["loading"]),m(q,{value:n.value,"onUpdate:value":i[0]||(i[0]=U=>n.value=U),style:{width:"240px","font-size":"13px"},onChange:P},null,8,["value"])]),_:1}),m(S,{xs:24,md:8,lg:6},{default:p(()=>[m(me,{compact:""},{default:p(()=>[m(ue,{value:f.search,"onUpdate:value":i[1]||(i[1]=U=>f.search=U),style:{width:"calc(100% - 80px)"},onInput:c,placeholder:"Buscar por RUC o DNI"},null,8,["value"]),m(a,{type:"primary",disabled:f.search==="",onClick:u},{default:p(()=>i[6]||(i[6]=[j("BUSCAR")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),m(fe,{bordered:"",scroll:{x:Y.value,y:z.value},class:"table-agreements-ugse",columns:F,"data-source":t.value,pagination:!1,loading:M.value,size:"small"},{headerCell:p(({column:U})=>i[7]||(i[7]=[])),bodyCell:p(({column:U,record:V,index:Se})=>[U.dataIndex=="idx"?(h(),$(J,{key:0},[j(ne(x.value(Se)),1)],64)):w("",!0),U.dataIndex=="status"?(h(),N(_e,{key:1,checked:V.status,"onUpdate:checked":K=>V.status=K,checkedValue:1,unCheckedValue:0,onChange:K=>Q(V.id)},{checkedChildren:p(()=>i[8]||(i[8]=[D("span",{style:{"font-size":"12px"}},"Si",-1)])),unCheckedChildren:p(()=>i[9]||(i[9]=[D("span",{style:{"font-size":"12px"}},"No",-1)])),_:2},1032,["checked","onUpdate:checked","onChange"])):w("",!0),U.dataIndex=="actions"?(h(),N(ye,{key:2,trigger:["click"]},{overlay:p(()=>[m(ge,null,{default:p(()=>[m(ee,null,{default:p(()=>[D("a",{onClick:K=>E(V)},"Editar",8,Ke)]),_:2},1024),m(ee,null,{default:p(()=>[m(ve,{title:"¿Seguro de eliminar?",onConfirm:K=>I(V)},{icon:p(()=>[m(H(xe),{style:{color:"red"}})]),default:p(()=>[i[10]||(i[10]=D("a",null,"Eliminar",-1))]),_:2},1032,["onConfirm"])]),_:2},1024)]),_:2},1024)]),default:p(()=>[D("a",{class:"ant-dropdown-link",onClick:i[2]||(i[2]=oe(()=>{},["prevent"]))},[m(a,{shape:"circle",icon:De(H(ke)),size:"small"},null,8,["icon"])])]),_:2},1024)):w("",!0)]),_:1},8,["scroll","data-source","loading"])]),D("div",Qe,[D("span",null,[m(he,{color:"blue"},{default:p(()=>[D("b",null,ne(e.value),1)]),_:1}),i[12]||(i[12]=j("Registros"))]),m(be,{size:"small",total:e.value,pageSize:O.value,onChange:_,showSizeChanger:!1},null,8,["total","pageSize"])]),m(Ee,{open:T.value,"onUpdate:open":i[3]||(i[3]=U=>T.value=U),"root-class-name":"root-class-name",title:"Ruta Digital",placement:"right",width:"650"},{default:p(()=>[m(ze,{onCloseDraw:d})]),_:1},8,["open"])])}}},sa=ce(Xe,[["__scopeId","data-v-654470a3"]]);export{sa as default};
