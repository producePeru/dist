import{_ as ne}from"./TableComponent-ca52a825.js";import{c as b,A as K,l as C,r as f,a as ee,j as te,X as ie,a6 as R,o as u,d as v,R as H,m as ae,E as le,u as re,b as A,w as h,x as S,y as g,F as Q,i as P,h as F,e as W,a2 as se}from"./index-4f60820b.js";import{d as oe}from"./downloadExcel-8f07a022.js";import"./es-0f141d4f.js";import{_ as ce}from"./FormComponent-b7f15a59.js";import{u as de}from"./selectes-af8b5888.js";import{C as me}from"./ChromeOutlined-245a40d1.js";import"./icoexcel-1b303edf.js";import"./MoreOutlined-4f92ac17.js";import"./vue-quill.esm-bundler-e0ea8aca.js";import"./quill.snow-7adb83bb.js";/* empty css                                                      */var ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-32 736H663.9V602.2h104l15.6-120.7H663.9v-77.1c0-35 9.7-58.8 59.8-58.8h63.9v-108c-11.1-1.5-49-4.8-93.2-4.8-92.2 0-155.3 56.3-155.3 159.6v89H434.9v120.7h104.3V848H176V176h672v672z"}}]},name:"facebook",theme:"outlined"};const pe=ue;function X(o){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?Object(arguments[n]):{},d=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),d.forEach(function(c){ge(o,c,i[c])})}return o}function ge(o,n,i){return n in o?Object.defineProperty(o,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[n]=i,o}var G=function(n,i){var d=X({},n,i.attrs);return b(K,X({},d,{icon:pe}),null)};G.displayName="FacebookOutlined";G.inheritAttrs=!1;const fe=G;var ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 306.9c-113.5 0-205.1 91.6-205.1 205.1S398.5 717.1 512 717.1 717.1 625.5 717.1 512 625.5 306.9 512 306.9zm0 338.4c-73.4 0-133.3-59.9-133.3-133.3S438.6 378.7 512 378.7 645.3 438.6 645.3 512 585.4 645.3 512 645.3zm213.5-394.6c-26.5 0-47.9 21.4-47.9 47.9s21.4 47.9 47.9 47.9 47.9-21.3 47.9-47.9a47.84 47.84 0 00-47.9-47.9zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zm-88 235.8c-7.3 18.2-16.1 31.8-30.2 45.8-14.1 14.1-27.6 22.9-45.8 30.2C695.2 844.7 570.3 840 512 840c-58.3 0-183.3 4.7-235.9-16.1-18.2-7.3-31.8-16.1-45.8-30.2-14.1-14.1-22.9-27.6-30.2-45.8C179.3 695.2 184 570.3 184 512c0-58.3-4.7-183.3 16.1-235.9 7.3-18.2 16.1-31.8 30.2-45.8s27.6-22.9 45.8-30.2C328.7 179.3 453.7 184 512 184s183.3-4.7 235.9 16.1c18.2 7.3 31.8 16.1 45.8 30.2 14.1 14.1 22.9 27.6 30.2 45.8C844.7 328.7 840 453.7 840 512c0 58.3 4.7 183.2-16.2 235.8z"}}]},name:"instagram",theme:"outlined"};const he=ye;function Z(o){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?Object(arguments[n]):{},d=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),d.forEach(function(c){be(o,c,i[c])})}return o}function be(o,n,i){return n in o?Object.defineProperty(o,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[n]=i,o}var j=function(n,i){var d=Z({},n,i.attrs);return b(K,Z({},d,{icon:he}),null)};j.displayName="InstagramOutlined";j.inheritAttrs=!1;const _e=j;const ve={class:"f-20"},Ie={__name:"ParticipanteSed",props:["info"],emits:["closeDraw"],setup(o,{emit:n}){C.locale("es");const i=f({ruc:{type:"iText",label:"RUC",name:"ruc",required:!0,message:"Ingrese el RUC",disabled:!1},comercialName:{type:"iText",label:"NOMBRE COMERCIAL",name:"comercialName",required:!0,message:"Ingrese el nombre comercial",disabled:!1},socialReason:{type:"iText",label:"RAZÃ“N SOCIAL",name:"socialReason",required:!0,message:"Ingrese la razÃ³n social",disabled:!1},economicsector_id:{type:"iSelect",label:"SECTOR ECONÃ“MICO",name:"economicsector_id",required:!0,message:"Seleccione el sector econÃ³mico",disabled:!1},comercialactivity_id:{type:"iSelect",label:"ACTIVIDAD COMERCIAL",name:"comercialactivity_id",required:!0,message:"Seleccione la actividad comercial",disabled:!1},city_id:{type:"iSelect",label:"CIUDAD",name:"city_id",required:!0,message:"Seleccione la ciudad",disabled:!1},typedocument_id:{type:"iSelect",label:"TIPO DOCUMENTO",name:"typedocument_id",required:!0,message:"Seleccione el tipo de documento",disabled:!1},documentnumber:{type:"iText",label:"NÂ° DOCUMENTO",name:"documentnumber",required:!0,message:"Ingrese el nÃºmero de documento",disabled:!1},lastname:{type:"iText",label:"APELLIDO PATERNO",name:"lastname",required:!0,message:"Ingrese el apellido paterno",disabled:!1},middlename:{type:"iText",label:"APELLIDO MATERNO",name:"middlename",required:!0,message:"Ingrese el apellido materno",disabled:!1},name:{type:"iText",label:"NOMBRE",name:"name",required:!0,message:"Ingrese el nombre",disabled:!1},gender_id:{type:"iSelect",label:"GÃ‰NERO",name:"gender_id",required:!0,message:"Seleccione el gÃ©nero",disabled:!1},phone:{type:"iText",label:"TELÃ‰FONO",name:"phone",required:!0,message:"Ingrese el telÃ©fono",disabled:!1},email:{type:"iText",label:"EMAIL",name:"email",required:!0,message:"Ingrese el correo electrÃ³nico",disabled:!1},birthday:{type:"iDate",label:"FECHA DE NACIMIENTO",name:"birthday",required:!0,message:"Seleccione la fecha de nacimiento",disabled:!1},positionCompany:{type:"iText",label:"CARGO EN EMPRESA",name:"positionCompany",required:!0,message:"Ingrese el cargo en la empresa",disabled:!1},instagram:{type:"iText",label:"INSTAGRAM",name:"instagram",required:!1,message:"",disabled:!1},facebook:{type:"iText",label:"FACEBOOK",name:"facebook",required:!1,message:"",disabled:!1},web:{type:"iText",label:"WEB",name:"web",required:!1,message:"",disabled:!1}});JSON.parse(localStorage.getItem("profile"));const d=n,c=o,T=f("GUARDAR"),e=ee({}),I=f(!1),s=de(),N=f(null),p=f({city_id:[],province_id:[],district_id:[],modality_id:[]}),r=t=>{console.log("handleInputEvent",t)},L=async t=>{t=="dateReception"&&(e.dateTramite&&(e.dateTramite=null),i.value.dateTramite.disabled=!1)},q=async t=>{t=="city_id"&&(await s.fetchProvinces(e.city_id),p.value.province_id=s.provinces,i.value.province_id.disabled=!1),t=="province_id"&&(await s.fetchDistricts(e.province_id),p.value.district_id=s.districts,i.value.district_id.disabled=!1)},B=async t=>{console.log("handleFocusSelect",t),t=="city_id"&&(await s.fetchCities(),e.city_id=null,e.province_id=null,e.district_id=null,p.value.province_id=[],p.value.city_id=s.cities)},U=t=>{},$=async()=>{I.value=!0;const t={ruc:e.ruc,comercialName:e.comercialName,socialReason:e.socialReason,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,city_id:e.city_id,typedocument_id:e.typedocument_id,documentnumber:e.documentnumber,lastname:e.lastname,middlename:e.middlename,name:e.name,gender_id:e.gender_id,phone:e.phone,email:e.email,birthday:C(e.birthday).format("YYYY-MM-DD HH:mm"),positionCompany:e.positionCompany,instagram:e.instagram,facebook:e.facebook,web:e.web};try{const O=await H({url:`fair/sed-update-data-user/${c.info.id}`,method:"PUT",data:t});O.status===200&&(ae.success(O.message),k(),d("closeDraw",!0))}catch(O){console.error("Error:",O);const D=document.getElementsByClassName("ant-drawer-body")[0];D&&(D.scrollTop=0)}finally{I.value=!1}},k=()=>{e.nameEvent=null,e.city_id=null,e.place=null,e.modality_id=null,e.dates=null,e.hours=null,e.description=null},M=async t=>{t&&(e.ruc=t.ruc,e.comercialName=t.comercialName,e.socialReason=t.socialReason,await s.fetchEconomicSectors(),p.value.economicsector_id=s.economicSectors,e.economicsector_id=t.economicsector.id,await s.fetchComercialActivities(),p.value.comercialactivity_id=s.comercialActivities,e.comercialactivity_id=t.comercialactivity.id,await s.fetchCities(),p.value.city_id=s.cities,e.city_id=t.city.id,await s.fetchTypeDocuments(),p.value.typedocument_id=s.typeDocuments,e.typedocument_id=t.typedocument.id,e.documentnumber=t.documentnumber,e.lastname=t.lastname,e.middlename=t.middlename,e.name=t.name,await s.fetchGenders(),p.value.gender_id=s.genders,e.gender_id=t.gender.id,e.sick=t.sick,e.phone=t.phone,e.email=t.email,t.birthday&&(e.birthday=C(t.birthday,"YYYY-MM-DD")),e.positionCompany=t.positionCompany,e.facebook=t.facebook,e.instagram=t.instagram,e.web=t.web)};return te(()=>{c.info&&M(c.info)}),ie(()=>c.info,t=>{t?M(t):k()}),R("formState",e),R("loadingState",I),(t,O)=>(u(),v("div",ve,[b(ce,{fields:i.value,options:p.value,btnSaveName:T.value,onHandleInputEvent:r,resetSelect:N.value,onHandleChangeSelect:q,onHandleFocusSelect:B,onHandleBlurSelect:U,onHandleChangeClock:L,onOnSubmit:$},null,8,["fields","options","btnSaveName","resetSelect"])]))}};const Oe={class:"advisory-table"},Ee={key:3,class:"sed-socials"},Se=["href"],Ce=["href"],we=["href"],xe=["onClick"],qe={__name:"list-registrados-sed",setup(o){const n=le(),i=JSON.parse(localStorage.getItem("role"))||[],d=f([]),c=f(0),T=f(150),e=f(!1);re();const I=f(!1),s=f(null),N=f(!1),p=f(null),r=ee({year:C("2025","YYYY"),range:null,asesor:null,name:null,page:1,type:1,typeCde:null,orderby:null}),L=[{title:"#",fixed:"left",dataIndex:"idx",align:"center",width:70},{title:"ASISTIO",dataIndex:"asistio",width:80,align:"center",fixed:"left"},{title:"RUC",dataIndex:"ruc",fixed:"left",width:120,align:"center"},{title:"NÂ° DOCUMENTO",dataIndex:"documentnumber",width:120,align:"center",fixed:"left"},{title:"TIPO ASISTENTE",dataIndex:"typeAsistente",width:150,align:"center"},{title:"DISCAPACIDAD",dataIndex:"sick",width:120,align:"center"},{title:"NOMBRE COMERCIAL",dataIndex:"comercialName",width:200},{title:"SECTOR ECONÃ“MICO",dataIndex:"economicsector_name",width:160,align:"center"},{title:"ACTIVIDAD COMERCIAL",dataIndex:"comercialactivity_name",width:180},{title:"CIUDAD",dataIndex:"city_name",width:120,align:"center"},{title:"NOMBRE",dataIndex:"name",width:150,align:"center"},{title:"APELLIDO PATERNO",dataIndex:"lastname",width:150,align:"center"},{title:"APELLIDO MATERNO",dataIndex:"middlename",width:150,align:"center"},{title:"GÃ‰NERO",dataIndex:"gender_name",width:120,align:"center"},{title:"TELÃ‰FONO",dataIndex:"phone",width:150,align:"center"},{title:"EMAIL",dataIndex:"email",width:200,align:"center"},{title:"FECHA DE NACIMIENTO",dataIndex:"birthday",width:150,align:"center"},{title:"CARGO EN EMPRESA",dataIndex:"positionCompany",width:180,align:"center"},{title:"CÃ“MO CONOCIÃ“ EL EVENTO",dataIndex:"howKnowEvent_name",width:200,align:"center"},{title:"REDES SOCIALES",dataIndex:"redesSociales",width:180,align:"center"},{title:"REGISTRADO",dataIndex:"created_at",width:160,align:"center"},{title:"ASISTENCIA",dataIndex:"attended",width:160,align:"center"},{title:"",dataIndex:"actions",width:60,align:"center",fixed:"right"}],q=a=>{s.value=a,e.value=!0},B=()=>{w(),e.value=!1},U=()=>{s.value=null,e.value=!0},$=async(a,l)=>{const E=n.params.slug,Y=C().format("DD/MM/YYYY HH:mm"),V={slug:E,documentnumber:l.documentnumber,check:a.target.checked,date:Y};try{const x=await H({url:"fair/update-attended-status",method:"PUT",data:V});x.status==200&&console.log("status",x.message)}catch(x){console.error("Error de red:",x)}},k=async a=>{try{const l=await H({url:`fair/sed-delete-user/${a.id}`,method:"DELETE"});l.status==200&&(w(),ae.success(l.message))}catch(l){console.error("Error de red:",l)}},M=async()=>{N.value=!0;try{const a={},l=n.params.slug;r.year&&(a.year=C(r.year).format("YYYY")),r.range&&(a.dateStart=r.range[0].format("YYYY/MM/DD"),a.dateEnd=r.range[1].format("YYYY/MM/DD")),r.name&&(a.name=r.name);let E=`download/sed-asistentes/${l}`;await oe(E,"sed",a)}catch(a){console.error("Error de red:",a)}finally{N.value=!1}},t=async a=>{r.page=a,await w()},O=async a=>{a&&(r.page=1,await w())},D=a=>i.some(l=>a.includes(l.id)),w=async()=>{try{I.value=!0;const a={page:r.page},l=n.params.slug;r.year&&(a.year=C(r.year).format("YYYY")),r.range&&(a.dateStart=r.range[0].format("YYYY/MM/DD"),a.dateEnd=r.range[1].format("YYYY/MM/DD")),r.name&&(a.name=r.name),r.orderby&&(a.orderby=r.orderby);let E=`events-ugse/users-registered-list/${l}`;const y=await H({url:E,method:"GET",params:a});p.value=y.event,d.value=y.data.data,c.value=y.data.total,T.value=y.data.per_page}catch(a){console.error("Error de red:",a)}finally{I.value=!1}};return te(async()=>{await w()}),R("search",r),R("loading",I),R("loadingFile",N),(a,l)=>{var J;const E=A("a-checkbox"),y=A("a-tag"),Y=A("a-menu-item"),V=A("a-popconfirm"),x=A("a-drawer");return u(),v("div",Oe,[b(ne,{title:`INSCRITOS SED ðŸ“€ ${(J=p.value)==null?void 0:J.name}`,new:!1,textNuevo:"NUEVO EVENTO",placeholderSearch:"Buscar",bread:!0,routeBack:"/admin/ferias/sed",searchYear:!0,rangeDate:!0,columns:L,titleSearch:"FILTRAR POR RUC O DNI",pageSize:T.value,nameTotal:"Inscritos SED",dataSource:d.value,total:c.value,btnUpdate:!0,onHandleNew:U,onHandleCallFetchData:w,onHandleDownloadExcel:M,onHandleSearch:O,onHandlePaginator:t},{"data-cell":h(({column:_,record:m})=>[_.dataIndex=="asistio"?(u(),S(E,{key:0,checked:m.asistio,"onUpdate:checked":z=>m.asistio=z,onChange:z=>$(z,m)},null,8,["checked","onUpdate:checked","onChange"])):g("",!0),_.dataIndex=="sick"?(u(),v(Q,{key:1},[m.sick=="SI"?(u(),S(y,{key:0,color:"red"},{default:h(()=>l[1]||(l[1]=[P("SI")])),_:1})):g("",!0),m.sick=="NO"?(u(),S(y,{key:1,color:"green"},{default:h(()=>l[2]||(l[2]=[P("NO")])),_:1})):g("",!0)],64)):g("",!0),_.dataIndex=="typeAsistente"?(u(),v(Q,{key:2},[m.typeAsistente==1?(u(),S(y,{key:0,color:"blue"},{default:h(()=>l[3]||(l[3]=[P("Representante")])),_:1})):g("",!0),m.typeAsistente==2?(u(),S(y,{key:1,color:"pink"},{default:h(()=>l[4]||(l[4]=[P("Invitado")])),_:1})):g("",!0)],64)):g("",!0),_.dataIndex=="redesSociales"?(u(),v("div",Ee,[m.instagram?(u(),v("a",{key:0,href:m.instagram,target:"_blank"},[b(F(fe),{class:"ico-sed-socials"})],8,Se)):g("",!0),m.facebook?(u(),v("a",{key:1,href:m.facebook,target:"_blank"},[b(F(_e),{class:"ico-sed-socials"})],8,Ce)):g("",!0),m.web?(u(),v("a",{key:2,href:m.web,target:"_blank"},[b(F(me),{class:"ico-sed-socials"})],8,we)):g("",!0)])):g("",!0)]),"custom-options":h(({record:_})=>[D([1,5])?(u(),S(Y,{key:0},{default:h(()=>[W("a",{onClick:m=>q(_)},"Editar",8,xe)]),_:2},1024)):g("",!0),D([1,5])?(u(),S(Y,{key:1},{default:h(()=>[b(V,{placement:"rightBottom",title:`Â¿Quieres eliminar ${_.documentnumber} ?`,onConfirm:m=>k(_)},{icon:h(()=>[b(F(se),{style:{color:"red"}})]),default:h(()=>[l[5]||(l[5]=W("a",null,"Eliminar",-1))]),_:2},1032,["title","onConfirm"])]),_:2},1024)):g("",!0)]),_:1},8,["title","pageSize","dataSource","total"]),b(x,{open:e.value,"onUpdate:open":l[0]||(l[0]=_=>e.value=_),title:s.value?"EDITAR REGISTRO":"NUEVO REGISTRO",placement:"right",width:"650"},{default:h(()=>[b(Ie,{onCloseDraw:B,info:s.value},null,8,["info"])]),_:1},8,["open","title"])])}}};export{qe as default};
