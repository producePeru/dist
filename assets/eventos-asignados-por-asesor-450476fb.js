import{c as t,A as P,g as de,r as h,G as pe,k as fe,b as d,o as m,y as b,w as l,m as q,C as E,j as u,e as y,d as T,F as L,v as Y,Y as me,n as ve,z as _e,t as v,i as _,O as J,h as x,R as ge,K as Q}from"./index-c92a092c.js";import{g as be}from"./publicInscripcion-ebc9ecb9.js";import{_ as ye}from"./_plugin-vue_export-helper-c27b6911.js";import{U as Oe}from"./UserOutlined-e4854857.js";import{E as C}from"./EnvironmentOutlined-576f9c42.js";import{F as he}from"./FileExcelOutlined-d188195f.js";var we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};const ze=we;function W(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable}))),r.forEach(function(c){ke(n,c,a[c])})}return n}function ke(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var D=function(e,a){var r=W({},e,a.attrs);return t(P,W({},r,{icon:ze}),null)};D.displayName="FieldTimeOutlined";D.inheritAttrs=!1;const xe=D;var Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0010-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 003.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 00-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 01887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 01-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 01115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 01540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 00540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 01-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 00-81.5 55.9A373.86 373.86 0 01137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 01-107.6 69.2z"}}]},name:"global",theme:"outlined"};const Pe=Ce;function X(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable}))),r.forEach(function(c){$e(n,c,a[c])})}return n}function $e(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var U=function(e,a){var r=X({},e,a.attrs);return t(P,X({},r,{icon:Pe}),null)};U.displayName="GlobalOutlined";U.inheritAttrs=!1;const Ae=U;var Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};const Me=Se;function Z(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable}))),r.forEach(function(c){je(n,c,a[c])})}return n}function je(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var V=function(e,a){var r=Z({},e,a.attrs);return t(P,Z({},r,{icon:Me}),null)};V.displayName="LinkOutlined";V.inheritAttrs=!1;const Ee=V;var Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M892 772h-80v-80c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v80h-80c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h80v80c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-80h80c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 498.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.8-1.7-203.2 89.2-203.2 200 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.8-1.1 6.4-4.8 5.9-8.8zM824 472c0-109.4-87.9-198.3-196.9-200C516.3 270.3 424 361.2 424 472c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C357 742.6 326 814.8 324 891.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 695.7 563 672 624 672c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 586.7 658.2 600 624 600s-66.3-13.3-90.5-37.5a127.26 127.26 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"}}]},name:"usergroup-add",theme:"outlined"};const Le=Te;function K(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable}))),r.forEach(function(c){De(n,c,a[c])})}return n}function De(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var F=function(e,a){var r=K({},e,a.attrs);return t(P,K({},r,{icon:Le}),null)};F.displayName="UsergroupAddOutlined";F.inheritAttrs=!1;const Ue=F;const Ve={class:"summary-card-content"},Fe={class:"event-header"},Ge=["onClick"],Be={class:"event-locationd"},He={class:"upload-section"},Ne={__name:"eventos-asignados-por-asesor",setup(n){const e=de.get("token"),a="https://apituempresa.soporte-pnte.com/api/",r="http://127.0.0.1:8000/api/",c=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?r:a,G=h([]),w=h({}),B=h(!0),$=h({}),A=h({}),S=h({});function ee(s,o){const p=s==3?`${be()}/fortalece-tu-mercado/${o}`:`/asistencias/${o}`;window.open(p,"_blank")}const H=async()=>{try{const s=await q({url:"events-ugo/events-assigned-advisor",method:"GET"});G.value=s.data.data}catch(s){console.error("Error de red:",s)}finally{B.value=!1}},te=async()=>{try{const s=await q({url:"events-ugo/events-assigned-dashboard",method:"GET"});w.value=s.data}catch(s){console.error("Error de red:",s)}},ae=(s,o)=>($.value[o]=s,A.value[o]=s.name,!1),ne=async s=>{const o=$.value[s];if(!o)return x.warning("Seleccione un archivo Excel");const p=new FormData;p.append("file",o),ge.confirm({title:"Confirmar importación",content:`¿Seguro que quieres cargar y registrar los datos del evento "${s}"?`,okText:"Sí, importar",cancelText:"Cancelar",async onOk(){var z,O;S.value[s]=!0;try{const k=await Q.post(`${c}import/activities-asesor-ugo/${s}`,p,{headers:{"Content-Type":"multipart/form-data"}});x.success(k.data.message),delete $.value[s],delete A.value[s],await H()}catch(k){x.error(((O=(z=k.response)==null?void 0:z.data)==null?void 0:O.message)||"Error al importar")}finally{S.value[s]=!1}}})},le=async()=>{try{const s=await Q.get(`${c}download/download-ugo-activities`,{responseType:"blob",headers:{Authorization:`Bearer ${e}`}}),o=window.URL.createObjectURL(new Blob([s.data])),p=document.createElement("a");p.href=o,p.setAttribute("download","Plantilla_Import_Ugo_Actividades.xlsx"),document.body.appendChild(p),p.click(),document.body.removeChild(p)}catch{x.error("No se pudo descargar la plantilla")}},oe=pe(()=>[{title:"Total Eventos",value:w.value.total_eventos,icon:E,class:"blue-icon"},{title:"Total Inscritos",value:w.value.total_inscritos,icon:Ue,class:"green-icon"},{title:"Regiones",value:w.value.total_regiones,icon:Ae,class:"purple-icon"},{title:"Próximos",value:0,icon:xe,class:"yellow-icon"}]);return fe(async()=>{await te(),await H()}),(s,o)=>{const p=d("a-typography-title"),z=d("a-typography-paragraph"),O=d("a-card"),k=d("a-spin"),re=d("a-statistic"),N=d("a-col"),I=d("a-row"),g=d("a-typography-text"),f=d("a-space"),se=d("TeamOutlined"),ce=d("router-link"),R=d("a-button"),ie=d("a-upload"),ue=d("a-layout");return m(),b(ue,{style:{padding:"24px","background-color":"#f0f2f5","min-height":"88vh"}},{default:l(()=>[t(O,null,{default:l(()=>[t(p,{level:2},{default:l(()=>o[0]||(o[0]=[u("Panel de Eventos Asignados")])),_:1}),t(z,{style:{margin:"0"}},{default:l(()=>o[1]||(o[1]=[u(" Gestiona y supervisa todos los eventos bajo tu responsabilidad ")])),_:1})]),_:1}),o[8]||(o[8]=y("br",null,null,-1)),B.value?(m(),b(k,{key:0})):(m(),T(L,{key:1},[w.value?(m(),b(I,{key:0,gutter:16,style:{"margin-bottom":"24px"}},{default:l(()=>[(m(!0),T(L,null,Y(oe.value,(i,M)=>(m(),b(N,{xs:24,sm:12,md:8,lg:6,key:M},{default:l(()=>[t(O,{class:"summary-card"},{default:l(()=>[y("div",Ve,[(m(),b(me(i.icon),{class:ve(["summary-card-icon",i.class])},null,8,["class"])),t(re,{title:i.title,value:i.value,class:"summary-card-statistic"},null,8,["title","value"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})):_e("",!0),t(I,{gutter:[16,16]},{default:l(()=>[(m(!0),T(L,null,Y(G.value,(i,M)=>(m(),b(N,{key:M,xs:24,sm:12,md:12,lg:8,xl:6},{default:l(()=>[t(O,{class:"event-card"},{default:l(()=>[y("div",Fe,[t(p,{level:4,class:"event-title"},{default:l(()=>[u(v(i.title),1)]),_:2},1024)]),t(z,{class:"event-description"},{default:l(()=>[u(v(i.description),1)]),_:2},1024),t(f,{direction:"vertical",class:"event-details"},{default:l(()=>[t(f,null,{default:l(()=>[t(_(E)),t(g,null,{default:l(()=>[u("Inicio: "+v(i.startDate),1)]),_:2},1024)]),_:2},1024),t(f,null,{default:l(()=>[t(_(E)),t(g,null,{default:l(()=>[u("Fin: "+v(i.endDate),1)]),_:2},1024)]),_:2},1024),t(f,null,{default:l(()=>[t(_(Oe)),t(g,null,{default:l(()=>[o[2]||(o[2]=u("Inscritos: ")),y("b",null,v(i.attendance_list_count),1)]),_:2},1024)]),_:2},1024),t(f,null,{default:l(()=>[y("a",{href:"#",onClick:J(j=>ee(i.eventsoffice_id,i.slug),["prevent"])},[t(_(Ee),{style:{color:"#00a6db"}}),t(g,{style:{color:"#00a6db"}},{default:l(()=>o[3]||(o[3]=[u(" Link de registro")])),_:1})],8,Ge)]),_:2},1024),t(f,null,{default:l(()=>[t(ce,{to:`eventos-inscritos/${i.slug}`,style:{color:"#00a6db"}},{default:l(()=>[t(se),o[4]||(o[4]=u(" Ver inscritos "))]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024),y("div",Be,[t(f,{direction:"vertical",size:"small"},{default:l(()=>[t(f,null,{default:l(()=>[t(_(C)),t(g,null,{default:l(()=>[u("Región: "+v(i.city),1)]),_:2},1024)]),_:2},1024),t(f,null,{default:l(()=>[t(_(C)),t(g,null,{default:l(()=>[u("Provincia: "+v(i.province),1)]),_:2},1024)]),_:2},1024),t(f,null,{default:l(()=>[t(_(C)),t(g,null,{default:l(()=>[u("Distrito: "+v(i.district),1)]),_:2},1024)]),_:2},1024),t(f,null,{default:l(()=>[t(_(C)),t(g,null,{default:l(()=>[u("Lugar: "+v(i.address),1)]),_:2},1024)]),_:2},1024),t(f,null,{default:l(()=>[y("a",{href:"#",onClick:J(le,["prevent"])},[t(_(he)),o[5]||(o[5]=u(" Descargar plantilla Excel "))])]),_:1})]),_:2},1024)]),y("div",He,[A.value[i.slug]?(m(),b(R,{key:1,loading:S.value[i.slug],onClick:j=>ne(i.slug),block:"",class:"up-load-btn"},{default:l(()=>o[7]||(o[7]=[u(" Cargar e importar ")])),_:2},1032,["loading","onClick"])):(m(),b(ie,{key:0,"before-upload":j=>ae(j,i.slug),"show-upload-list":!1,accept:".xls,.xlsx,.csv"},{default:l(()=>[t(R,{block:""},{default:l(()=>o[6]||(o[6]=[u("Seleccionar Excel")])),_:1})]),_:2},1032,["before-upload"]))])]),_:2},1024)]),_:2},1024))),128))]),_:1})],64))]),_:1})}}},We=ye(Ne,[["__scopeId","data-v-e9ce9a71"]]);export{We as default};
