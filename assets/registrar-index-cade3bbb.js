import{_ as ie}from"./FormComponent-be616adb.js";import{u as Z}from"./selectes-6af2002b.js";import{c as m,A as re,r as h,a as Q,k as W,T as X,W as F,o as b,d as O,e as t,t as d,z as B,p as x,h as q,U as Ie,m as L,f as Pe,b as $,n as j,y as Y,X as ee,i as C,j as T,w as E,F as z,v as ae,C as Re,G as ue,Y as Ne,Z as Ae,_ as De}from"./index-483a1ab3.js";import{u as ve}from"./useBusinessman-169a2d15.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import{E as we}from"./EditarEmpresario-8e753f3f.js";import"./es-d22a2706.js";import{U as Me}from"./UserOutlined-27ee3b53.js";import"./quill.snow-a9eaa851.js";var Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M894 462c30.9 0 43.8-39.7 18.7-58L530.8 126.2a31.81 31.81 0 00-37.6 0L111.3 404c-25.1 18.2-12.2 58 18.8 58H192v374h-72c-4.4 0-8 3.6-8 8v52c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-52c0-4.4-3.6-8-8-8h-72V462h62zM512 196.7l271.1 197.2H240.9L512 196.7zM264 462h117v374H264V462zm189 0h117v374H453V462zm307 374H642V462h118v374z"}}]},name:"bank",theme:"outlined"};const Be=Te;function pe(u){for(var c=1;c<arguments.length;c++){var a=arguments[c]!=null?Object(arguments[c]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable}))),n.forEach(function(s){xe(u,s,a[s])})}return u}function xe(u,c,a){return c in u?Object.defineProperty(u,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[c]=a,u}var oe=function(c,a){var n=pe({},c,a.attrs);return m(re,pe({},n,{icon:Be}),null)};oe.displayName="BankOutlined";oe.inheritAttrs=!1;const qe=oe;var $e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"};const je=$e;function me(u){for(var c=1;c<arguments.length;c++){var a=arguments[c]!=null?Object(arguments[c]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable}))),n.forEach(function(s){Fe(u,s,a[s])})}return u}function Fe(u,c,a){return c in u?Object.defineProperty(u,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[c]=a,u}var le=function(c,a){var n=me({},c,a.attrs);return m(re,me({},n,{icon:je}),null)};le.displayName="SmileOutlined";le.inheritAttrs=!1;const ke=le;var Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M140 188h584v164h76V144c0-17.7-14.3-32-32-32H96c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h544v-76H140V188z"}},{tag:"path",attrs:{d:"M414.3 256h-60.6c-3.4 0-6.4 2.2-7.6 5.4L219 629.4c-.3.8-.4 1.7-.4 2.6 0 4.4 3.6 8 8 8h55.1c3.4 0 6.4-2.2 7.6-5.4L322 540h196.2L422 261.4a8.42 8.42 0 00-7.7-5.4zm12.4 228h-85.5L384 360.2 426.7 484zM936 528H800v-93c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v93H592c-13.3 0-24 10.7-24 24v176c0 13.3 10.7 24 24 24h136v152c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V752h136c13.3 0 24-10.7 24-24V552c0-13.3-10.7-24-24-24zM728 680h-88v-80h88v80zm160 0h-88v-80h88v80z"}}]},name:"translation",theme:"outlined"};const Ue=Le;function _e(u){for(var c=1;c<arguments.length;c++){var a=arguments[c]!=null?Object(arguments[c]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable}))),n.forEach(function(s){ze(u,s,a[s])})}return u}function ze(u,c,a){return c in u?Object.defineProperty(u,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[c]=a,u}var de=function(c,a){var n=_e({},c,a.attrs);return m(re,_e({},n,{icon:Ue}),null)};de.displayName="TranslationOutlined";de.inheritAttrs=!1;const Ge=de;const Ve={key:0},He={class:"description-document"},Je={class:"description-document"},Ye={class:"description-document"},Ze={class:"description-document"},Qe={__name:"RegistraEmpresario",props:{infoBusinessMan:{type:Object,required:!0,default:()=>({})},detailDocument:{type:Object,default:()=>({})}},emits:["registered"],setup(u,{emit:c}){const a=u,n=c,s=Z(),f=ve(),P=h(!1),e=Q({}),A=h("REGISTRAR"),l=h({city_id:[],province_id:[],district_id:[],gender_id:[],sick:[]}),D=async v=>{v=="city_id"&&(await s.fetchProvinces(e.city_id),l.value.province_id=s.provinces,i.value.province_id.disabled=!1),v=="province_id"&&(await s.fetchDistricts(e.province_id),l.value.district_id=s.districts,i.value.district_id.disabled=!1)},w=async v=>{v=="id_pnte"&&(await s.fetchOfficesPnte(),l.value.id_pnte=s.officesPnte),v=="country_id"&&(l.value.country_id=s.countries),v=="city_id"&&(e.city_id=null,e.province_id=null,e.district_id=null,l.value.province_id=[],l.value.city_id=s.cities),v=="province_id"&&(e.province_id=null,e.district_id=null,l.value.district_id=[]),v=="sick"&&M(),v=="gender_id"&&(l.value.gender_id=s.genders),v=="hasSoon"&&N()},M=()=>{l.value.sick=[{value:"si",label:"SI"},{value:"no",label:"NO"},{value:"na",label:"PREFIERO NO ESPECIFICAR"}]},N=()=>{l.value.hasSoon=[{value:"si",label:"SI"},{value:"no",label:"NO"},{value:"na",label:"PREFIERO NO ESPECIFICAR"}]},S=async()=>{P.value=!0;const v={typedocument_id:a.detailDocument.type,documentnumber:a.detailDocument.number,lastname:e.lastname?e.lastname:a.infoBusinessMan.lastname,middlename:e.middlename?e.middlename:a.infoBusinessMan.middlename,name:e.name?e.name:a.infoBusinessMan.name,country_id:e.country_id,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,address:e.address,birthday:x(e.birthday).format("YYYY-MM-DD"),phone:e.phone,email:e.email,gender_id:e.gender_id,sick:e.sick,hasSoon:e.hasSoon};try{const o=await f.create(v);o.status==200&&(q.success(o.message),n("registered",o.data),_())}catch{q.error(s.error)}finally{P.value=!1}},_=()=>{e.lastname=null,e.middlename=null,e.name=null,e.country_id=null,e.city_id=null,e.province_id=null,e.district_id=null,e.address=null,e.birthday=null,e.phone=null,e.email=null,e.gender_id=null,e.sick=null,e.hasSoon=null},i=h({}),p=()=>{const v={...(a.detailDocument.type!=1||a.infoBusinessMan.reniecError=="no_disponible")&&{lastname:{type:"iText",label:"APELLIDO PATERNO",name:"lastname",required:!0,message:"Escribir apellido",disabled:!1},middlename:{type:"iText",label:"APELLIDO MATERNO",name:"middlename",required:!0,message:"Escribir apellido",disabled:!1},name:{type:"iText",label:"NOMBRES",name:"name",required:!0,message:"Escribir nombre",disabled:!1}},country_id:{type:"iSelect",label:"PAÍS",name:"country_id",required:!0,message:"Seleccionar país"},city_id:{type:"iSelect",label:"REGIÓN RESIDENCIA",name:"city_id",required:!0,message:"Seleccionar región"},province_id:{type:"iSelect",label:"PROVINCIA RESIDENCIA",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO RESIDENCIA",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},address:{type:"iText",label:"DIRECCIÓN RESIDENCIA",name:"address",required:!0,message:"Escribir dirección",disabled:!1},birthday:{type:"iDate",label:"FECHA NACIMIENTO",name:"birthday",required:!0,message:"Seleccionar fecha de nacimiento",disabledDate:o=>{if(!o)return!1;const g=x(),R=g.subtract(100,"year").endOf("day"),G=g.subtract(18,"year").endOf("day");return o.isAfter(G)||o.isBefore(R)},defaultPickerValue:x().subtract(18,"year"),rules:[{validator:(o,g)=>{if(!g)return Promise.reject(new Error("Seleccionar fecha de nacimiento"));const R=x(),G=R.subtract(100,"year").endOf("day"),U=R.subtract(18,"year").endOf("day");return x(g).isAfter(U)?Promise.reject(new Error("Debe tener 18 años o más")):x(g).isBefore(G)?Promise.reject(new Error("La edad no puede superar los 100 años")):Promise.resolve()},trigger:"change"}]},phone:{type:"iNumber",label:"NÚMERO DE CELULAR",name:"phone",required:!0,message:"Escribe un número de contacto de 9 dígitos",maxlength:9,disabled:!1,rules:[{validator:(o,g)=>{if(!g)return Promise.reject(new Error("El número es requerido"));const R=g.toString();return R.length!==9?Promise.reject(new Error("El número debe tener exactamente 9 dígitos")):R.substring(0,1)!=="9"?Promise.reject(new Error("El número debe comenzar con 9")):Promise.resolve()},trigger:"change"}]},email:{type:"iText",label:"CORREO ELECTRÓNICO",name:"email",required:!1,message:"Escribir un email válido",disabled:!1,rules:[{validator:(o,g)=>g?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)?Promise.resolve():Promise.reject(new Error("Debe ingresar un email válido")):Promise.resolve(),trigger:"change"}]},gender_id:{type:"iSelect",label:"GÉNERO",name:"gender_id",required:!0,message:"Seleccionar tipo de documento"},sick:{type:"iSelect",label:"¿TIENE ALGUNA DISCAPACIDAD?",name:"sick",required:!0,message:"Seleccionar opción"},hasSoon:{type:"iSelect",label:"¿TIENE HIJOS?",name:"hasSoon",required:!0,message:"Seleccionar opción"}};i.value=v};return W(async()=>{a.detailDocument&&p(a.detailDocument),await s.fetchCountries(),await s.fetchCities(),await s.fetchGenders()}),X(()=>a.detailDocument,v=>{v&&p()}),F("formState",e),F("loadingState",P),(v,o)=>(b(),O("div",null,[a.detailDocument.type==1&&a.infoBusinessMan.name?(b(),O("div",Ve,[t("div",He,[o[0]||(o[0]=t("span",null,"Documento:",-1)),t("b",null,"DNI: "+d(u.infoBusinessMan.numeroDocumento),1)]),t("div",Je,[o[1]||(o[1]=t("span",null,"Apellido Paterno:",-1)),t("b",null,d(u.infoBusinessMan.lastname),1)]),t("div",Ye,[o[2]||(o[2]=t("span",null,"Apellido Materno:",-1)),t("b",null,d(u.infoBusinessMan.middlename),1)]),t("div",Ze,[o[3]||(o[3]=t("span",null,"Nombres:",-1)),t("b",null,d(u.infoBusinessMan.name),1)])])):B("",!0),m(ie,{fields:i.value,options:l.value,btnSaveName:A.value,onHandleFocusSelect:w,onHandleChangeSelect:D,onOnSubmit:S,mayus:!0},null,8,["fields","options","btnSaveName"])]))}},We=ne(Qe,[["__scopeId","data-v-83c7f4c5"]]),K=Ie("follow",{state:()=>({registered:null,registeredAsesoria:[],registeredF10:[],registeredF20:[],loadingRegistered:!1,loadingAsesoria:!1,loadingF10:!1,loadingF20:!1,error:null}),actions:{async fetchRegistered(u){var c,a;this.loadingRegistered=!0,this.error=null;try{const n=await L({url:`follow/registration-day/${u}`,method:"GET"});n.status===200&&(this.registered=n.data)}catch(n){console.error("Error al obtener registration-day:",n),this.error=((a=(c=n==null?void 0:n.response)==null?void 0:c.data)==null?void 0:a.message)||"Error en registration-day",this.registered=null}finally{this.loadingRegistered=!1}},async fetchAsesorias(u){var c,a;this.loadingAsesoria=!0,this.error=null;try{const n=await L({url:`follow/show-all-consultancies/${u}`,method:"GET"});n.status===200&&(this.registeredAsesoria=n.data)}catch(n){console.error("Error al obtener asesorías:",n),this.error=((a=(c=n==null?void 0:n.response)==null?void 0:c.data)==null?void 0:a.message)||"Error en consultorías",this.registeredAsesoria=[]}finally{this.loadingAsesoria=!1}},async fetchF10(u){var c,a;this.loadingF10=!0,this.error=null;try{const n=await L({url:`follow/show-all-f10/${u}`,method:"GET"});n.status===200&&(this.registeredF10=n.data)}catch(n){console.error("Error al obtener F10:",n),this.error=((a=(c=n==null?void 0:n.response)==null?void 0:c.data)==null?void 0:a.message)||"Error en F10",this.registeredF10=[]}finally{this.loadingF10=!1}},async fetchF20(u){var c,a;this.loadingF20=!0,this.error=null;try{const n=await L({url:`follow/show-all-f20/${u}`,method:"GET"});n.status===200&&(this.registeredF20=n.data)}catch(n){console.error("Error al obtener F20:",n),this.error=((a=(c=n==null?void 0:n.response)==null?void 0:c.data)==null?void 0:a.message)||"Error en F20",this.registeredF20=[]}finally{this.loadingF20=!1}},async fetchAll(u){await Promise.all([this.fetchRegistered(u.documentnumber),this.fetchAsesorias(u.id),this.fetchF10(u.id),this.fetchF20(u.id)])},async reload(u){return this.fetchAll(u)},async reloadClear(){this.registered=null,this.registeredAsesoria=[],this.registeredF10=[],this.registeredF20=[]}}});const Xe={class:"ases-draw"},Ke={__name:"RegistrarAsesoria",props:{detailRegister:{type:Object,required:!0,default:()=>({})},infoBusinessMan:{type:Object,required:!1,default:()=>({})}},emits:["registered"],setup(u,{emit:c}){const a=u,n=c,s=Z(),f=K(),P=h(!1),e=Q({}),A=h("REGISTRAR"),l=h({city_id:[],province_id:[],district_id:[],gender_id:[],sick:[]}),D=async(i,p)=>{if(i=="city_id"&&(await s.fetchProvinces(e.city_id),l.value.province_id=s.provinces,S.value.province_id.disabled=!1),i=="province_id"&&(await s.fetchDistricts(e.province_id),l.value.district_id=s.districts,S.value.district_id.disabled=!1),i=="component_id"&&(await s.fetchComponentThemes(e.component_id),l.value.theme_id=s.componentThemes,e.theme_id=null,S.value.theme_id.disabled=!1),i==="theme_id")if(p==17)S.value={...S.value,observations:{type:"iNumber",label:"NÚMERO DE RESERVA (Z- 7 dígitos)",name:"observations",required:!0,message:"Ingresar número de reserva",disabled:!1,prefix:"Z -",maxlength:7,rules:[{validator:(v,o)=>{if(!o)return Promise.reject(new Error("Ingresar número de reserva"));const g=String(o).length;return g<7?Promise.reject(new Error("El número debe tener al menos 7 cifras")):g>7?Promise.reject(new Error("El número no puede superar las 7 cifras")):Promise.resolve()},trigger:"change"}]}};else{e.observations=null;const{observations:v,...o}=S.value;S.value=o}},w=async i=>{i=="economicsector_id"&&(await s.fetchEconomicSectors(),l.value.economicsector_id=s.economicSectors),i=="comercialactivity_id"&&(await s.fetchComercialActivities(),l.value.comercialactivity_id=s.comercialActivities),i=="component_id"&&(await s.fetchComponents(),l.value.component_id=s.components),i=="modality_id"&&(await s.fetchModalities(),l.value.modality_id=s.modalities),i=="city_id"&&(await s.fetchCities(),e.province_id=null,e.district_id=null,l.value.province_id=[],l.value.city_id=s.cities),i=="province_id"&&(e.province_id=null,e.district_id=null,l.value.district_id=[])},M=async()=>{P.value=!0;const i={dni:a.detailRegister.dni,cde_id:a.detailRegister.cde_id,people_id:a.detailRegister.people_id,user_id:a.detailRegister.user_id,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,component_id:e.component_id,theme_id:e.theme_id,modality_id:e.modality_id,ruc:e.ruc,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,...e.observations&&{observations:e.observations}};try{const p=await L({url:"advisory/create",method:"POST",data:i});p.status==200&&(f.fetchAsesorias(a.infoBusinessMan.id),q.success(p.message),n("registered",p.data),N())}catch{q.error(s.error)}finally{P.value=!1}},N=()=>{e.economicsector_id=null,e.comercialactivity_id=null,e.component_id=null,e.theme_id=null,e.theme_id=null,e.modality_id=null,e.ruc=null,e.city_id=null,e.province_id=null,e.district_id=null,e.observations=null;const{observations:i,...p}=S.value;S.value=p},S=h({economicsector_id:{type:"iSelect",label:"SECTOR ECONÓMICO",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},comercialactivity_id:{type:"iSelect",label:"ACTIVIDAD COMERCIAL",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},component_id:{type:"iSelect",label:"COMPONENTE",name:"component_id",required:!0,message:"Seleccionar un componente",disabled:!1},theme_id:{type:"iSelect",label:"TEMA DEL COMPONENTE",name:"theme_id",required:!0,message:"Seleccionar un tema del componente",disabled:!0},modality_id:{type:"iSelect",label:"MODALIDAD DE ATENCIÓN",name:"modality_id",required:!0,message:"Seleccionar modalidad",disabled:!1},ruc:{type:"iNumber",label:"RUC",name:"ruc",message:"Escribir número de RUC",disabled:!1,maxlength:11,rules:[{validator:(i,p)=>{if(!p)return Promise.resolve();const v=p.toString();return v.length!==11?Promise.reject(new Error("El número debe tener exactamente 11 dígitos")):["10","15","17","20"].includes(v.substring(0,2))?Promise.resolve():Promise.reject(new Error("El RUC debe empezar con 10, 15, 17 o 20"))},trigger:"change"}]},city_id:{type:"iSelect",label:"REGIÓN DEL NEGOCIO",name:"city_id",required:!0,message:"Seleccionar región",disabled:!1},province_id:{type:"iSelect",label:"PROVINCIA DEL NEGOCIO",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO DEL NEGOCIO",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0}}),_=async i=>{i&&(console.log("info",i),await s.fetchCities(),l.value.city_id=s.cities,e.city_id=i.city_id,await s.fetchProvinces(e.city_id),l.value.province_id=s.provinces,e.province_id=i.province_id,await s.fetchDistricts(e.province_id),l.value.district_id=s.districts,e.district_id=i.district_id)};return W(()=>{a.infoBusinessMan&&_(a.infoBusinessMan)}),X(()=>a.infoBusinessMan,i=>{i?_(i):N()}),F("formState",e),F("loadingState",P),(i,p)=>(b(),O("div",Xe,[m(ie,{fields:S.value,options:l.value,btnSaveName:A.value,onHandleFocusSelect:w,onHandleChangeSelect:D,onOnSubmit:M},null,8,["fields","options","btnSaveName"])]))}};const ei={class:"ppnn-draw"},ii={__name:"RegistrarPPNN",props:{detailRegister:{type:Object,required:!0,default:()=>({})},infoBusinessMan:{type:Object,required:!1,default:()=>({})}},emits:["registered"],setup(u,{emit:c}){const a=u,n=c,s=Z(),f=K(),P=h(!1),e=Q({}),A=h("REGISTRAR"),l=h({city_id:[],province_id:[],district_id:[],economicsector_id:[]}),D=async(i,p)=>{i=="city_id"&&(await s.fetchProvinces(e.city_id),l.value.province_id=s.provinces,S.value.province_id.disabled=!1),i=="province_id"&&(await s.fetchDistricts(e.province_id),l.value.district_id=s.districts,S.value.district_id.disabled=!1),i=="component_id"&&(await s.fetchComponentThemes(e.component_id),l.value.theme_id=s.componentThemes,e.theme_id=null,S.value.theme_id.disabled=!1)},w=async i=>{i=="economicsector_id"&&(await s.fetchEconomicSectors(),l.value.economicsector_id=s.economicSectors),i=="comercialactivity_id"&&(await s.fetchComercialActivities(),l.value.comercialactivity_id=s.comercialActivities),i=="component_id"&&(await s.fetchComponents(),l.value.component_id=s.components),i=="detailprocedure_id"&&(await s.fetchDetailProcedures(),l.value.detailprocedure_id=s.detailProcedures),i=="modality_id"&&(await s.fetchModalities(),l.value.modality_id=s.modalities),i=="city_id"&&(await s.fetchCities(),e.city_id=null,e.province_id=null,e.district_id=null,l.value.province_id=[],l.value.city_id=s.cities),i=="province_id"&&(e.province_id=null,e.district_id=null,l.value.district_id=[])},M=async()=>{P.value=!0;const i={dni:a.detailRegister.dni,cde_id:a.detailRegister.cde_id,people_id:a.detailRegister.people_id,user_id:a.detailRegister.user_id,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,detailprocedure_id:e.detailprocedure_id,modality_id:e.modality_id,ruc:e.ruc,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,address:e.address};try{const p=await L({url:"formalization/create-ruc-10",method:"POST",data:i});p.status==200&&(f.fetchF10(a.infoBusinessMan.id),q.success(p.message),n("registered",p.data),N())}catch{q.error(s.error)}finally{P.value=!1}},N=()=>{e.economicsector_id=null,e.comercialactivity_id=null,e.detailprocedure_id=null,e.modality_id=null,e.ruc=null,e.city_id=null,e.province_id=null,e.district_id=null,e.address=null},S=h({economicsector_id:{type:"iSelect",label:"SECTOR ECONÓMICO",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},comercialactivity_id:{type:"iSelect",label:"ACTIVIDAD COMERCIAL",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},detailprocedure_id:{type:"iSelect",label:"DETALLE DEL TRÁMITE",name:"detailprocedure_id",required:!0,message:"Seleccionar detalle del trámite",disabled:!1},modality_id:{type:"iSelect",label:"MODALIDAD DE ATENCIÓN",name:"modality_id",required:!0,message:"Seleccionar modalidad",disabled:!1},ruc:{type:"iNumber",label:"NÚMERO DE RUC",name:"ruc",message:"Escribir número de RUC",disabled:!1,maxlength:11,required:!0,rules:[{validator:(i,p)=>{if(!p)return Promise.reject(new Error("El Número de RUC es obligatorio"));const v=p.toString();return v.length!==11?Promise.reject(new Error("El número debe tener exactamente 11 dígitos")):["10","15","17"].includes(v.substring(0,2))?Promise.resolve():Promise.reject(new Error("El RUC debe empezar con 10, 15 o 17"))},trigger:"change"}]},city_id:{type:"iSelect",label:"REGIÓN DEL NEGOCIO",name:"city_id",required:!0,message:"Seleccionar región",disabled:!1},province_id:{type:"iSelect",label:"PROVINCIA DEL NEGOCIO",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO DEL NEGOCIO",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},address:{type:"iText",label:"DIRECCIÓN DEL NEGOCIO",name:"address",required:!0,message:"Escribir la direccion del Negocio",disabled:!1}}),_=async i=>{i&&(console.log("info",i),await s.fetchCities(),l.value.city_id=s.cities,e.city_id=i.city_id,await s.fetchProvinces(e.city_id),l.value.province_id=s.provinces,e.province_id=i.province_id,await s.fetchDistricts(e.province_id),l.value.district_id=s.districts,e.district_id=i.district_id,e.address=i.address)};return W(()=>{a.infoBusinessMan&&_(a.infoBusinessMan)}),X(()=>a.infoBusinessMan,i=>{i?_(i):N()}),F("formState",e),F("loadingState",P),(i,p)=>(b(),O("div",ei,[m(ie,{fields:S.value,options:l.value,btnSaveName:A.value,onHandleFocusSelect:w,onHandleChangeSelect:D,onOnSubmit:M,mayus:!0},null,8,["fields","options","btnSaveName"])]))}};const ti={class:"ppjj-draw"},si={__name:"RegistrarPPJJ",props:{detailRegister:{type:Object,required:!0,default:()=>({})},infoBusinessMan:{type:Object,required:!1,default:()=>({})}},emits:["registered"],setup(u,{emit:c}){x.locale("es");const a=u,n=c,s=Z(),f=K(),P=h(!1),e=Q({}),A=h("REGISTRAR"),l=h({city_id:[],province_id:[],district_id:[],modality_id:[],comercialactivity_id:[],isbic:[],typecapital_id:[]}),D=async o=>{o=="city_id"&&(await s.fetchProvinces(e.city_id),l.value.province_id=s.provinces,p.value.province_id.disabled=!1),o=="province_id"&&(await s.fetchDistricts(e.province_id),l.value.district_id=s.districts,p.value.district_id.disabled=!1)},w=async o=>{o=="city_id"&&(await s.fetchCities(),e.city_id=null,e.province_id=null,e.district_id=null,l.value.province_id=[],l.value.city_id=s.cities),o=="province_id"&&(e.province_id=null,e.district_id=null,l.value.district_id=[]),o=="modality_id"&&(await s.fetchModalities(),l.value.modality_id=s.modalities),o=="regime_id"&&(await s.fetchRegimes(),l.value.regime_id=s.regimes),o=="economicsector_id"&&(await s.fetchEconomicSectors(),l.value.economicsector_id=s.economicSectors),o=="comercialactivity_id"&&(await s.fetchComercialActivities(),l.value.comercialactivity_id=s.comercialActivities),o=="notary_id"&&_(),o=="isbic"&&M(),o=="typecapital_id"&&(await s.fetchTypeCapital(),l.value.typecapital_id=s.typeCapital)},M=()=>{l.value.isbic=[{value:"SI",label:"SI"},{value:"NO",label:"NO"}]},N=async()=>{P.value=!0;const o={dni:a.detailRegister.dni,cde_id:a.detailRegister.cde_id,people_id:a.detailRegister.people_id,user_id:a.detailRegister.user_id,ruc:e.ruc,regime_id:e.regime_id,nameMype:e.nameMype,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,address:e.address,modality_id:e.modality_id,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,numbernotary:e.numbernotary,notary_id:e.notary_id,dateReception:e.dateReception?x(e.dateReception).format("YYYY-MM-DD"):null,datetramite:e.dateTramite?x(e.dateTramite).format("YYYY-MM-DD"):null,isbic:e.isbic,montocapital:e.montocapital,typecapital_id:e.typecapital_id};try{const g=await L({url:"formalization/create-ruc20",method:"POST",data:o});g.status==200&&(f.fetchF20(a.infoBusinessMan.id),q.success(g.message),n("registered",g.data),i())}catch{q.error(s.error)}finally{P.value=!1}},S=async o=>{o=="dateReception"&&(e.dateTramite&&(e.dateTramite=null),p.value.dateTramite.disabled=!1)},_=async()=>{try{const{data:o}=await Pe({url:"public/notaries-filters",method:"GET"}),g=o.map(R=>({value:R.id,name:R.name,city:R.city.name,province:R.province.name,district:R.district.name,address:R.address}));l.value.notary_id=g}catch(o){console.error("Error de red:",o)}},i=()=>{Object.keys(e).forEach(o=>{e[o]=null}),p.value.province_id.disabled=!0,p.value.district_id.disabled=!0,p.value.dateTramite.disabled=!0},p=h({ruc:{type:"iNumber",label:"NÚMERO DE RUC",name:"ruc",message:"Escribir número de RUC",disabled:!1,maxlength:11,required:!1,rules:[{validator:(o,g)=>{if(!g)return Promise.resolve();const R=g.toString();return R.length!==11?Promise.reject(new Error("El número debe tener exactamente 11 dígitos")):["20"].includes(R.substring(0,2))?Promise.resolve():Promise.reject(new Error("El RUC debe empezar con 20"))},trigger:"change"}]},regime_id:{type:"iSelect",label:"TIPO DE RÉGIMEN SOCIETARIO",name:"regime_id",required:!0,message:"Seleccionar el régimen societario",disabled:!1},nameMype:{type:"iText",label:"NOMBRE EMPRESA",name:"nameMype",required:!0,message:"Escribir nombre de la empresa",disabled:!1},city_id:{type:"iSelect",label:"REGIÓN DEL NEGOCIO",name:"city_id",required:!0,message:"Seleccionar región",disabled:!1},province_id:{type:"iSelect",label:"PROVINCIA DEL NEGOCIO",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO DEL NEGOCIO",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},address:{type:"iText",label:"DIRECCIÓN DEL NEGOCIO",name:"address",required:!0,message:"Escribir la direccion del Negocio",disabled:!1},modality_id:{type:"iSelect",label:"MODALIDAD DE ATENCIÓN",name:"modality_id",required:!0,message:"Seleccionar modalidad",disabled:!1},economicsector_id:{type:"iSelect",label:"SECTOR ECONÓMICO",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},comercialactivity_id:{type:"iSelect",label:"ACTIVIDAD COMERCIAL",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},numbernotary:{type:"iText",label:"NÚMERO SOLICITUD CONSTANCIA",name:"numbernotary",required:!0,message:"Escribir el número de solicitud",disabled:!1,maxlength:8,rules:[{validator:(o,g)=>{if(!g)return Promise.reject(new Error("El número de notaría es requerido"));const R=g.toString();return/^\d{8}$/.test(R)?Promise.resolve():Promise.reject(new Error("El número debe tener exactamente 8 dígitos numéricos"))},trigger:"change"}]},notary_id:{type:"iSelectNotary",label:"NOTARÍA",name:"notary_id",required:!0,message:"Seleccionar una notaría",disabled:!1},dateReception:{type:"iDate",label:"FECHA DE RECEPCION PNTE",name:"dateReception",required:!0,disabled:!1,disabledDate:o=>!1},dateTramite:{type:"iDate",label:"FEC. TRÁMITE SID SUNARP-SUNAT",name:"dateTramite",required:!0,disabled:!0,disabledDate:o=>e.dateReception&&o&&x(o).isBefore(x(e.dateReception))},isbic:{type:"iSelect",label:"¿ES UNA SOCIEDAD BIC?",name:"isbic",required:!0,message:"Buscar BIC",disabled:!1},montocapital:{type:"iMoney",label:"MONTO DE CAPITAL SOCIAL",name:"montocapital",required:!0,message:"Escribir el Monto de capital social",disabled:!1},typecapital_id:{type:"iSelect",label:"TIPO DE APORTE DE CAPITAL",name:"typecapital_id",required:!0,message:"Seleccionar BIC",disabled:!1}}),v=async o=>{o&&(console.log("info",o),await s.fetchCities(),l.value.city_id=s.cities,e.city_id=o.city_id,await s.fetchProvinces(e.city_id),l.value.province_id=s.provinces,e.province_id=o.province_id,await s.fetchDistricts(e.province_id),l.value.district_id=s.districts,e.district_id=o.district_id,e.address=o.address)};return W(()=>{a.infoBusinessMan&&v(a.infoBusinessMan)}),X(()=>a.infoBusinessMan,o=>{o?v(o):i()}),F("formState",e),F("loadingState",P),(o,g)=>(b(),O("div",ti,[m(ie,{fields:p.value,options:l.value,btnSaveName:A.value,onHandleFocusSelect:w,onHandleChangeSelect:D,onHandleChangeClock:S,onOnSubmit:N,mayus:!0},null,8,["fields","options","btnSaveName"])]))}};const ai={class:"history-grid"},ri={class:"history-card"},ni={class:"history-body"},oi={class:"history-top"},li={class:"history-type"},di={class:"history-dt"},ci={key:0,class:"history-advisor"},ui={key:1,class:"history-advisor"},pi={key:0,class:"history-card"},mi={class:"history-body"},_i={class:"history-top"},vi={class:"history-type"},fi={class:"history-list"},yi={class:"history-note"},gi={class:"history-advisor history-detail"},bi={key:0},hi={key:1},Si={class:"history-advisor"},Ei={style:{"font-size":"12px"}},Ci={key:0,class:"history-card"},Oi={class:"history-body"},Ii={class:"history-top"},Pi={class:"history-type"},Ri={class:"history-list"},Ni={class:"history-note"},Ai={class:"history-advisor history-detail"},Di={key:0},wi={class:"history-advisor"},Mi={style:{"font-size":"12px"}},Ti={key:0,class:"history-card"},Bi={class:"history-body"},xi={class:"history-top"},qi={class:"history-type"},$i={class:"history-list"},ji={class:"history-note"},Fi={class:"history-advisor history-detail"},ki={key:0},Li={class:"history-advisor"},Ui={style:{"font-size":"12px"}},zi={key:0,class:"history-empty"},Gi={__name:"historialInformationBusinessman",props:{infoBusinessMan:{type:Object,required:!1,default:()=>({})}},setup(u){const c=u,a=K(),n={edit:{label:"Registrado",icon:ke,colorClass:"text-blue-500"},asesoria:{label:"Asesorias",icon:Ge,colorClass:"text-green-500"},ppnn:{label:"PPNN",icon:Re,colorClass:"text-purple-500"},ppjj:{label:"PPJJ",icon:qe,colorClass:"text-orange-500"}};return W(()=>{c.infoBusinessMan&&a.fetchAll(c.infoBusinessMan)}),X(()=>c.infoBusinessMan,s=>{s&&a.fetchAll(s)}),(s,f)=>{var e,A,l,D,w,M,N,S,_;const P=$("a-skeleton");return b(),O("div",null,[f[7]||(f[7]=t("h4",{style:{"margin-top":"16px"}},"Movimientos recientes",-1)),t("div",ai,[t("div",ri,[t("div",{class:j(["history-icon",n.edit.colorClass])},[(b(),Y(ee(n.edit.icon)))],2),t("div",ni,[t("div",oi,[t("span",li,d(n.edit.label),1),f[0]||(f[0]=t("span",{class:"dot"},"•",-1)),t("span",di,d((e=C(a).registered)==null?void 0:e.date),1)]),(A=C(a).registered)!=null&&A.registeredby?(b(),O("div",ci,[f[1]||(f[1]=T(" Registrado por: ")),t("strong",null,d((l=C(a).registered)==null?void 0:l.registeredby),1),T(" "+d((D=C(a).registered)!=null&&D.cde?`(${(w=C(a).registered)==null?void 0:w.cde})`:""),1)])):B("",!0),(M=C(a).registered)!=null&&M.updatedby?(b(),O("div",ui,[f[2]||(f[2]=T(" Validado por: ")),t("strong",null,d((N=C(a).registered)==null?void 0:N.updatedby),1),T(" "+d((S=C(a).registered)!=null&&S.cdeUpdate?`(${(_=C(a).registered)==null?void 0:_.cdeUpdate})`:""),1)])):B("",!0)])]),m(P,{loading:C(a).loadingAsesoria},{default:E(()=>[C(a).registeredAsesoria.length>=1?(b(),O("div",pi,[t("div",{class:j(["history-icon",n.asesoria.colorClass])},[(b(),Y(ee(n.asesoria.icon)))],2),t("div",mi,[t("div",_i,[t("span",vi,d(n.asesoria.label),1)]),t("ol",fi,[(b(!0),O(z,null,ae(C(a).registeredAsesoria,(i,p)=>(b(),O("li",{key:p},[t("div",yi,[t("div",gi,[t("p",null,"Registrado: "+d(i.registro),1),t("p",null,"Sector económico: "+d(i.sector_economico),1),t("p",null,"Actividad comercial: "+d(i.actividad),1),t("p",null,"Componente: "+d(i.componente),1),t("p",null,"Tema: "+d(i.tema),1),t("p",null,"Modalidad: "+d(i.modalidad),1),i.ruc?(b(),O("p",bi,"RUC: "+d(i.ruc),1)):B("",!0),i.observaciones?(b(),O("p",hi,"Código SID SUNARP: Z-"+d(i.observaciones),1)):B("",!0),t("p",null,d(i.region)+" / "+d(i.provincia)+" / "+d(i.distrito),1)])]),t("div",Si,[f[3]||(f[3]=T(" Atendido por: ")),t("strong",Ei,d(i.asesor),1),T(" ("+d(i.cde)+") ",1)])]))),128))])])])):B("",!0)]),_:1},8,["loading"]),m(P,{loading:C(a).loadingF10},{default:E(()=>[C(a).registeredF10.length>=1?(b(),O("div",Ci,[t("div",{class:j(["history-icon",n.ppnn.colorClass])},[(b(),Y(ee(n.ppnn.icon)))],2),t("div",Oi,[t("div",Ii,[t("span",Pi,d(n.ppnn.label),1)]),t("ol",Ri,[(b(!0),O(z,null,ae(C(a).registeredF10,(i,p)=>(b(),O("li",{key:p},[t("div",Ni,[t("div",Ai,[t("p",null,"Registrado: "+d(i.registro),1),t("p",null,"Sector económico: "+d(i.sector_economico),1),t("p",null,"Actividad comercial: "+d(i.actividad),1),t("p",null,"Detalle del Trámite: "+d(i.detalle),1),t("p",null,"Modalidad: "+d(i.modalidad),1),i.ruc?(b(),O("p",Di,"RUC: "+d(i.ruc),1)):B("",!0),t("p",null,d(i.region)+" / "+d(i.provincia)+" / "+d(i.distrito)+" / "+d(i.address),1)])]),t("div",wi,[f[4]||(f[4]=T(" Atendido por: ")),t("strong",Mi,d(i.asesor),1),T(" ("+d(i.cde)+") ",1)])]))),128))])])])):B("",!0)]),_:1},8,["loading"]),m(P,{loading:C(a).loadingF20},{default:E(()=>[C(a).registeredF20.length>=1?(b(),O("div",Ti,[t("div",{class:j(["history-icon",n.ppjj.colorClass])},[(b(),Y(ee(n.ppjj.icon)))],2),t("div",Bi,[t("div",xi,[t("span",qi,d(n.ppjj.label),1)]),t("ol",$i,[(b(!0),O(z,null,ae(C(a).registeredF20,(i,p)=>(b(),O("li",{key:p},[t("div",ji,[t("div",Fi,[t("p",null,"Registrado: "+d(i.registro),1),i.ruc?(b(),O("p",ki,"RUC: "+d(i.ruc),1)):B("",!0),t("p",null,"Tipo de Regimen: "+d(i.typeregimen),1),t("p",null,[f[5]||(f[5]=T("Nombre de la Empresa: ")),t("b",null,d(i.nameEmpresa),1)]),t("p",null,"Modalidad: "+d(i.modalidad),1),t("p",null,"Sector económico: "+d(i.sector_economico),1),t("p",null,"Actividad comercial: "+d(i.actividad),1),t("p",null,"Número de solicitud: "+d(i.numsolicitud),1),t("p",null,"Notaría: "+d(i.notaria),1),t("p",null,"Fecha de recepción PNTE: "+d(i.fecharecepcion),1),t("p",null,"Fecha SID SUNARP: "+d(i.fechasid),1),t("p",null,"BIC: "+d(i.isbic),1),t("p",null,"Monto Capital: "+d(i.montocapital),1),t("p",null,"Tipo de aporte: "+d(i.typecapital),1),t("p",null,"Registrado: "+d(i.registro),1),t("p",null,d(i.region)+" / "+d(i.provincia)+" / "+d(i.distrito)+" / "+d(i.address),1)])]),t("div",Li,[f[6]||(f[6]=T(" Atendido por: ")),t("strong",Ui,d(i.asesor),1),T(" ("+d(i.cde)+") ",1)])]))),128))])])])):B("",!0)]),_:1},8,["loading"]),C(a).registeredAsesoria.length===0&&C(a).registeredF10.length===0&&C(a).registeredF20.length===0?(b(),O("div",zi," No hay registros. ")):B("",!0)])])}}},Vi=ne(Gi,[["__scopeId","data-v-26bf9938"]]);const Hi={class:"page"},Ji={class:"hint"},Yi={style:{display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",gap:"8px"}},Zi={class:"quick-actions"},Qi={class:"user-card"},Wi={class:"avatar-box"},Xi={class:"user-fields"},Ki={class:"field"},et={class:"value"},it={class:"field"},tt={class:"value"},st={class:"field"},at={class:"value"},rt={class:"field"},nt={class:"value"},ot={class:"user-actions"},lt={__name:"registrar-index",setup(u){const c=Z(),a=K(),n=h(!1),s=h(!1),f=h(null),P=JSON.parse(localStorage.getItem("profile")||"{}"),e=h(P.cde_id),A=h(!1),l=h(null),D=h(null),w=h(null),M=h(null),N=h(!1),S=ve(),_=h(null),i=Q({type:"DNI",number:null}),p=h(!1);c.fetchCdes();const v=ue(()=>{switch(i.type){case"DNI":return 8;case"CE":return 9;case"PAS":return 12;case"PTP":return 9;default:return 10}}),o=ue(()=>{switch(i.type){case"DNI":return"12345678";case"CE":return"001234567";case"PAS":return"Ingrese su pasaporte";case"PTP":return"Ingrese su PTP";default:return"Ingrese documento"}});function g(){const y=String(i.number||"").trim();return y.length?y.length!==v.value?(q.error(`El ${i.type} debe tener ${v.value} dígitos`),!1):["DNI","CE","PTP"].includes(i.type)&&!/^\d+$/.test(y)?(q.error("Solo dígitos"),!1):(_.value=null,!0):(q.warning("Ingrese el número de documento"),!1)}const R=y=>{N.value=!1,_.value=y},G=y=>{D.value=!1};function U(y){console.log("changeTypeDocument",y),i.type=y,i.number=null,_.value=null}async function ce(){if(g()){p.value=!0;try{a.reloadClear();const y={documentnumber:i.number};if(i.type==="DNI"){const r=await S.get(y);M.value={type:1,number:i.number},r.status==200?(_.value=r.data,p.value=!1):fe(y)}else{const r=await S.get(y);r.status==200?(_.value=r.data,p.value=!1):(M.value={type:i.type==="CE"?2:i.type==="PAS"?3:i.type==="PTP"?4:1,number:String(i.number??"").trim()},w.value={},N.value=!0,p.value=!1)}}catch{console.log("Error:",S.error)}}}const fe=async y=>{try{const r=await S.reniec(y);r.status==200&&(w.value=r.data,N.value=!0),p.value=!1}catch{De.warning({message:"Aviso",description:"El servicio de consulta RENIEC no está disponible. Por favor, registre los datos manualmente.",duration:2.5}),w.value={reniecError:"no_disponible",numeroDocumento:i.number,name:null,lastname:null,middlename:null},M.value={type:1,number:i.number},setTimeout(()=>{N.value=!0,p.value=!1},3e3)}};function te(y){const r={dni:_.value.documentnumber,people_id:_.value.id,user_id:P.id,cde_id:e.value};y==="Asesoría"&&(f.value=r,A.value=!0),y==="PPNN"&&(f.value=r,s.value=!0),y==="PPJJ"&&(f.value=r,n.value=!0)}const ye=y=>{e.value=y;const r=JSON.parse(localStorage.getItem("profile")||"{}");r.cde_id=y,localStorage.setItem("profile",JSON.stringify(r))},ge=(y,r)=>{const k=y.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return r.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(k)};function be(y){l.value=y,D.value=!0}const se=y=>{y==="ase"?A.value=!1:y==="ppnn"?s.value=!1:y==="ppjj"?n.value=!1:console.log("Error: tipo no reconocido")};return(y,r)=>{const k=$("a-card"),V=$("a-col"),he=$("a-row"),Se=$("a-input"),H=$("a-button"),Ee=$("a-input-group"),Ce=$("a-select"),Oe=$("a-tooltip"),J=$("a-drawer");return b(),O(z,null,[t("div",Hi,[m(k,{class:"card"},{default:E(()=>[r[32]||(r[32]=t("h1",{class:"title"},"Búsqueda de Usuario",-1)),r[33]||(r[33]=t("p",{class:"subtitle"},"Ingresa los datos del documento para buscar o registrar un usuario",-1)),r[34]||(r[34]=t("div",{class:"section-label"},"Tipo de Documento",-1)),m(he,{gutter:[16,16]},{default:E(()=>[m(V,{xs:24,sm:12},{default:E(()=>[m(k,{hoverable:"",class:j(["doc-type",{active:i.type==="DNI"}]),onClick:r[0]||(r[0]=I=>U("DNI"))},{default:E(()=>r[18]||(r[18]=[t("div",{class:"doc-type-title"},"DNI",-1),t("div",{class:"doc-type-sub"},"Documento Nacional de Identidad",-1)])),_:1},8,["class"])]),_:1}),m(V,{xs:24,sm:12},{default:E(()=>[m(k,{hoverable:"",class:j(["doc-type",{active:i.type==="CE"}]),onClick:r[1]||(r[1]=I=>U("CE"))},{default:E(()=>r[19]||(r[19]=[t("div",{class:"doc-type-title"},"CE",-1),t("div",{class:"doc-type-sub"},"Carné de Extranjería",-1)])),_:1},8,["class"])]),_:1}),m(V,{xs:24,sm:12},{default:E(()=>[m(k,{hoverable:"",class:j(["doc-type",{active:i.type==="PAS"}]),onClick:r[2]||(r[2]=I=>U("PAS"))},{default:E(()=>r[20]||(r[20]=[t("div",{class:"doc-type-title"},"PAS",-1),t("div",{class:"doc-type-sub"},"Pasaporte",-1)])),_:1},8,["class"])]),_:1}),m(V,{xs:24,sm:12},{default:E(()=>[m(k,{hoverable:"",class:j(["doc-type",{active:i.type==="PTP"}]),onClick:r[3]||(r[3]=I=>U("PTP"))},{default:E(()=>r[21]||(r[21]=[t("div",{class:"doc-type-title"},"PTP",-1),t("div",{class:"doc-type-sub"},"Permiso Temporal de Permanencia",-1)])),_:1},8,["class"])]),_:1})]),_:1}),r[35]||(r[35]=t("div",{class:"section-label mt-20"},"Número de Documento",-1)),m(Ee,{compact:"",class:"doc-input-group"},{default:E(()=>[m(Se,{value:i.number,"onUpdate:value":r[4]||(r[4]=I=>i.number=I),maxlength:v.value,placeholder:o.value,class:"doc-input",disabled:p.value,onPressEnter:ce},null,8,["value","maxlength","placeholder","disabled"]),m(H,{type:"primary",class:"btn-search",loading:p.value,onClick:ce},{icon:E(()=>[m(C(Ne))]),default:E(()=>[r[22]||(r[22]=T(" BUSCAR "))]),_:1},8,["loading"])]),_:1}),t("div",Ji,"Debe tener "+d(v.value)+" dígitos",1),_.value?(b(),O(z,{key:0},[r[26]||(r[26]=t("div",{class:"section-label mt-20"},"Accesos rápidos",-1)),t("div",Yi,[t("div",Zi,[m(H,{onClick:r[5]||(r[5]=I=>te("Asesoría"))},{default:E(()=>r[23]||(r[23]=[T("Asesoría")])),_:1}),m(H,{onClick:r[6]||(r[6]=I=>te("PPNN"))},{default:E(()=>r[24]||(r[24]=[T("PPNN")])),_:1}),m(H,{onClick:r[7]||(r[7]=I=>te("PPJJ"))},{default:E(()=>r[25]||(r[25]=[T("PPJJ")])),_:1})]),m(Ce,{value:e.value,"onUpdate:value":r[8]||(r[8]=I=>e.value=I),options:C(c).cdes,"show-search":"","filter-option":ge,onChange:ye,class:"custom-select"},null,8,["value","options"])])],64)):B("",!0),_.value?(b(),O(z,{key:1},[r[31]||(r[31]=t("div",{class:"section-label mt-20"},"Datos del usuario",-1)),t("div",Qi,[t("div",Wi,[m(C(Me))]),t("div",Xi,[t("div",Ki,[r[27]||(r[27]=t("div",{class:"label"},"Nro. Documento",-1)),t("div",et,d(_.value.documentnumber),1)]),t("div",it,[r[28]||(r[28]=t("div",{class:"label"},"Nombres",-1)),t("div",tt,d(_.value.name),1)]),t("div",st,[r[29]||(r[29]=t("div",{class:"label"},"Apellidos",-1)),t("div",at,d(_.value.lastname)+" "+d(_.value.middlename),1)]),t("div",rt,[r[30]||(r[30]=t("div",{class:"label"},"Celular",-1)),t("div",nt,d(_.value.phone),1)])]),t("div",ot,[m(Oe,{title:"Editar datos"},{default:E(()=>[m(H,{type:"text",shape:"circle",onClick:r[9]||(r[9]=I=>be(_.value))},{icon:E(()=>[m(C(Ae))]),_:1})]),_:1})])])],64)):B("",!0),_.value?(b(),Y(Vi,{key:2,infoBusinessMan:_.value},null,8,["infoBusinessMan"])):B("",!0)]),_:1})]),m(J,{title:"Registrar Nuevo Usuario",open:N.value,"onUpdate:open":r[10]||(r[10]=I=>N.value=I),placement:"right",width:"500px"},{default:E(()=>[m(We,{infoBusinessMan:w.value,detailDocument:M.value,onRegistered:R},null,8,["infoBusinessMan","detailDocument"])]),_:1},8,["open"]),m(J,{title:"Actualizar datos del empresario",open:D.value,"onUpdate:open":r[11]||(r[11]=I=>D.value=I),placement:"right",width:"500px"},{default:E(()=>[m(we,{updateInfoBusinessman:l.value,onRegistered:G},null,8,["updateInfoBusinessman"])]),_:1},8,["open"]),m(J,{title:"Asesoría",placement:"right",width:"600px",open:A.value,"onUpdate:open":r[13]||(r[13]=I=>A.value=I)},{default:E(()=>[m(Ke,{detailRegister:f.value,onRegistered:r[12]||(r[12]=I=>se("ase")),infoBusinessMan:_.value},null,8,["detailRegister","infoBusinessMan"])]),_:1},8,["open"]),m(J,{title:"PPNN",placement:"right",width:"600px",open:s.value,"onUpdate:open":r[15]||(r[15]=I=>s.value=I)},{default:E(()=>[m(ii,{detailRegister:f.value,onRegistered:r[14]||(r[14]=I=>se("ppnn")),infoBusinessMan:_.value},null,8,["detailRegister","infoBusinessMan"])]),_:1},8,["open"]),m(J,{title:"PPJJ",placement:"right",width:"600px",open:n.value,"onUpdate:open":r[17]||(r[17]=I=>n.value=I)},{default:E(()=>[m(si,{detailRegister:f.value,onRegistered:r[16]||(r[16]=I=>se("ppjj")),infoBusinessMan:_.value},null,8,["detailRegister","infoBusinessMan"])]),_:1},8,["open"])],64)}}},gt=ne(lt,[["__scopeId","data-v-4a5ad342"]]);export{gt as default};
