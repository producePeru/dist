import{r as h,a as L,j as W,b as i,o as t,d as U,c as d,e as v,w as c,F as S,k,m as _,q as z,y as s,n as l,f as H,g as J,p as K,h as Q}from"./index-96f21589.js";import{f as X}from"./nuevoUsuario-1c99cf94.js";import{i as Z}from"./storage-f2963345.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";const q=f=>(K("data-v-ffc1d4aa"),f=f(),Q(),f),ee=q(()=>v("h3",null,"Registro de Usuarios",-1)),ae=q(()=>v("span",null,"Formulario para el registro de usuarios:",-1)),oe={class:"user"},te={class:"grid-item"},ne=q(()=>v("div",null,[v("h1")],-1)),se={__name:"NuevoUsuarios",setup(f){const b=h(!1),y=h([]),g=h([]),a=L({usuario:"",clave:"",tipo_documento:"",nro_documento:"",apellido_paterno:"",apellido_materno:"",nombres:"",pais:"",fecha_nacimiento:null,genero:"",discapacidad:null,correo:"",celular:"",tipo_usuario:null,idOficina:null,idSede:null}),N=[{label:"DNI",value:1},{label:"CE",value:2},{label:"PAS",value:3},{label:"PTP",value:4}],D=[{label:"Masculino",value:1},{label:"Femenino",value:2},{label:"...",value:3}],F=[{label:"Si",value:2},{label:"No",value:1}],w=[{label:"Administrador",value:"1"},{label:"Usuario",value:"2"},{label:"Invitado",value:"3"}],x=[{label:"Dirección ejecutiva",value:1},{label:"Unidad de gestión de servicios empresariales",value:2},{label:"Unidad de gestión de operaciones",value:3},{label:"Unidad de gestión estratégica y entrega de resultados",value:4}],E=()=>{a.usuario="",a.clave="",a.tipo_documento="",a.nro_documento="",a.apellido_paterno="",a.apellido_materno="",a.nombres="",a.pais="",a.fecha_nacimiento=null,a.genero="",a.discapacidad=null,a.correo="",a.celular="",a.tipo_usuario=null,a.idOficina=null,a.idSede=null},I=async n=>{const m={...n,id_registrador:Z};b.value=!0;try{const u=await k({url:"/register",method:"POST",data:m});E(),_.success(u.message)}catch{_.error("No se pudo registrar este usuario")}finally{b.value=!1}},T=()=>{_.error("Debes de completar todos los espacios requeridos")},C=async n=>{if(!a.tipo_documento)return _.error("Selecciona el tipo de documento");if(!n)return _.error("El campo número de documento esta vacío");console.log(typeof n)},O=()=>{a.nro_documento=a.nro_documento.replace(/\D/g,"")},P=(n,r)=>{},j=async()=>{try{(await k({url:"/countries",method:"GET"})).map(r=>{const m={value:r.idPais,label:r.nombre};y.value=[...y.value,m]})}catch(n){console.error("Error de red:",n)}},B=async()=>{try{(await k({url:"/sedes",method:"GET"})).map(r=>{const m={label:r.nombre,value:r.idSede};g.value=[...g.value,m]})}catch(n){console.error("Error de red:",n)}};return W(j(),B()),(n,r)=>{const m=i("a-divider"),u=i("a-select"),p=i("a-form-item"),M=i("a-input-search"),Y=i("a-input"),R=i("a-date-picker"),V=i("a-button"),A=i("a-form");return t(),U(S,null,[ee,ae,d(m),v("div",oe,[d(A,{layout:"vertical",model:a,name:"basic",autocomplete:"off",onFinish:I,onFinishFailed:T},{default:c(()=>[v("div",te,[(t(!0),U(S,null,z(H(X),(e,G)=>(t(),U(S,{key:G},[e.type==="iSelect"?(t(),s(p,{key:0,class:"item-max",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:c(()=>[e.name=="tipo_documento"?(t(),s(u,{key:0,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:N},null,8,["value","onUpdate:value"])):l("",!0),e.name=="genero"?(t(),s(u,{key:1,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:D},null,8,["value","onUpdate:value"])):l("",!0),e.name=="discapacidad"?(t(),s(u,{key:2,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:F},null,8,["value","onUpdate:value"])):l("",!0),e.name=="idOficina"?(t(),s(u,{key:3,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:x},null,8,["value","onUpdate:value"])):l("",!0),e.name=="idSede"?(t(),s(u,{key:4,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:g.value},null,8,["value","onUpdate:value","options"])):l("",!0),e.name=="tipo_usuario"?(t(),s(u,{key:5,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:w},null,8,["value","onUpdate:value"])):l("",!0)]),_:2},1032,["name","label","rules"])):l("",!0),e.type==="iSearch"?(t(),s(p,{key:1,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,len:8}]},{default:c(()=>[d(M,{value:a[e.name],"onUpdate:value":o=>a[e.name]=o,"enter-button":"",onSearch:C,onInput:O},null,8,["value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):l("",!0),e.type==="iText"?(t(),s(p,{key:2,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,type:e.email}]},{default:c(()=>[d(Y,{value:a[e.name],"onUpdate:value":o=>a[e.name]=o},null,8,["value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):l("",!0),e.type==="iSelectWrite"?(t(),s(p,{key:3,name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:c(()=>[d(u,{value:a[e.name],"onUpdate:value":o=>a[e.name]=o,"show-search":"",options:y.value,"filter-option":P},null,8,["value","onUpdate:value","options"])]),_:2},1032,["name","label","rules"])):l("",!0),e.type==="iDate"?(t(),s(p,{key:4,name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:c(()=>[d(R,{value:a.fecha_nacimiento,"onUpdate:value":r[0]||(r[0]=o=>a.fecha_nacimiento=o),style:{width:"100%"},format:"YYYY-MM-DD"},null,8,["value"])]),_:2},1032,["name","label","rules"])):l("",!0)],64))),128))]),d(p,null,{default:c(()=>[d(V,{type:"primary","html-type":"submit",loading:b.value},{default:c(()=>[J("Registrar usuario")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),ne])],64)}}},de=$(se,[["__scopeId","data-v-ffc1d4aa"]]);export{de as default};
