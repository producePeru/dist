import{r as f,E as L,a as P,j as B,b as r,o as u,d,e as s,c as o,t as m,w as n,J as U,m as q,K as Q,q as k,F as C,x as E,i as c}from"./index-2e4039ef.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";const Y="data:image/png;base64,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";const G={class:"background"},$={class:"container"},ee={class:"questionary"},ae={class:"box text-center"},oe={class:"title"},se={class:"box"},te={key:0},ne={class:"box"},le={class:"box-title"},re={class:"box"},ie={class:"box-title"},ue={key:0,class:"box"},de={key:1,class:"box"},me={class:"box-btn"},ce={__name:"QuestionaryId",setup(pe){const w=f(!1),z=f(!1),g=f(!1),H=L(),v=f([]),S=f(!1),a=P({id_questionnaire:null,type_questionary:null,ruc:"",name:"",email:"",phone:"",questions:[],ratings:[],media:null,comments:null}),_=async l=>{if(!l)return q.warning("Ingresa el número de RUC");g.value=!0,w.value=!0;try{const e=await U({url:`/mype-ruc/${l}`,method:"GET"});e.ruc?(a.ruc=e.ruc,a.name=e.nombres_apellidos,a.email=e.email,a.phone=e.telefono):(a.name="",a.email="",a.phone="")}catch(e){console.error("Error de red:",e)}finally{g.value=!1}},J=()=>{a.ruc=a.ruc.replace(/\D/g,"")},Z=async()=>{try{z.value=!0;const l=await U({url:`/questionary/ruta_digital/${H.params.id}`,method:"GET"});v.value=l,a.id_questionnaire=l.cuestionario.id,a.type_questionary=l.cuestionario.type_questionary,l.cuestionario.questions.map(()=>{const e={resp:null};a.questions.push({...e})}),l.cuestionario.ratings.map(()=>{const e={score:null};a.ratings.push({...e})})}catch(l){console.error("Error de red:",l)}finally{z.value=!1}},D=async()=>{const l=a;S.value=!0;try{const e=await U({url:"/answersmype",method:"POST",data:l});q.success(e.message),Q.push({name:"enviado"})}catch(e){console.error("Error de redxxxx:",e)}finally{S.value=!1}},N=()=>{q.error("Debes de completar todos los datos")};return B(Z),(l,e)=>{var A;const I=r("a-divider"),R=r("a-input-search"),y=r("a-form-item"),b=r("a-input"),p=r("a-radio"),O=r("a-radio-group"),M=r("a-rate"),W=r("a-textarea"),j=r("a-button"),K=r("a-form");return u(),d("div",G,[s("section",$,[s("div",ee,[s("div",ae,[e[6]||(e[6]=s("img",{src:Y,alt:""},null,-1)),o(I),s("h1",oe,m((A=v.value.cuestionario)==null?void 0:A.title),1)]),o(K,{layout:"vertical",model:a,autocomplete:"off",onFinish:D,onFinishFailed:N},{default:n(()=>{var x,V,F,h;return[s("div",se,[o(y,{class:"search-ruc",name:"ruc",label:"Número de RUC",rules:[{required:!0,message:"Es importante el número de RUC"}]},{default:n(()=>[o(R,{maxlength:15,loading:g.value,size:"large",value:a.ruc,"onUpdate:value":e[0]||(e[0]=t=>a.ruc=t),"enter-button":"",onSearch:_,onInput:J},null,8,["loading","value"])]),_:1}),w.value?(u(),d("div",te,[o(y,{label:"Nombres y Apellidos:",name:"name",rules:[{required:!0,message:"Ingresar nombres y apellidos"}]},{default:n(()=>[o(b,{value:a.name,"onUpdate:value":e[1]||(e[1]=t=>a.name=t)},null,8,["value"])]),_:1}),o(y,{label:"Correo:",name:"email",rules:[{required:!0,message:"Ingresar correo electrónico"}]},{default:n(()=>[o(b,{value:a.email,"onUpdate:value":e[2]||(e[2]=t=>a.email=t)},null,8,["value"])]),_:1}),o(y,{label:"Celular:",name:"phone",rules:[{required:!0,message:"Ingresar número de celular"}]},{default:n(()=>[o(b,{value:a.phone,"onUpdate:value":e[3]||(e[3]=t=>a.phone=t)},null,8,["value"])]),_:1})])):k("",!0)]),(u(!0),d(C,null,E((x=v.value.cuestionario)==null?void 0:x.questions,(t,i)=>(u(),d("div",{key:i},[s("div",ne,[s("span",null,"Pregunta "+m(i+1),1),s("h3",le,m(t.title),1),o(O,{class:"group-radios",value:a.questions[i].resp,"onUpdate:value":T=>a.questions[i].resp=T},{default:n(()=>[o(p,{class:"item-radio",value:1},{default:n(()=>[c(m(t.opt1),1)]),_:2},1024),o(p,{class:"item-radio",value:2},{default:n(()=>[c(m(t.opt2),1)]),_:2},1024),o(p,{class:"item-radio",value:3},{default:n(()=>[c(m(t.opt3),1)]),_:2},1024)]),_:2},1032,["value","onUpdate:value"])])]))),128)),s("div",null,[(u(!0),d(C,null,E((V=v.value.cuestionario)==null?void 0:V.ratings,(t,i)=>(u(),d("div",{key:i},[s("div",re,[s("span",null,"Calificación "+m(i+1),1),s("h3",ie,m(t.title),1),o(M,{class:"rating-star",value:a.ratings[i].score,"onUpdate:value":T=>a.ratings[i].score=T},null,8,["value","onUpdate:value"])])]))),128))]),(F=v.value.cuestionario)!=null&&F.social?(u(),d("div",ue,[e[11]||(e[11]=s("span",null,"Cuéntanos",-1)),e[12]||(e[12]=s("h3",{class:"box-title"},"¿A través de que medio recibió información sobre este taller?",-1)),o(O,{class:"group-radios",value:a.media,"onUpdate:value":e[4]||(e[4]=t=>a.media=t)},{default:n(()=>[o(p,{class:"item-radio",value:1},{default:n(()=>e[7]||(e[7]=[c("Redes sociales")])),_:1}),o(p,{class:"item-radio",value:2},{default:n(()=>e[8]||(e[8]=[c("SMS")])),_:1}),o(p,{class:"item-radio",value:3},{default:n(()=>e[9]||(e[9]=[c("Correo")])),_:1}),o(p,{class:"item-radio",value:4},{default:n(()=>e[10]||(e[10]=[c("Otros")])),_:1})]),_:1},8,["value"])])):k("",!0),(h=v.value.cuestionario)!=null&&h.comments?(u(),d("div",de,[e[13]||(e[13]=s("span",null,"Sugerencias",-1)),e[14]||(e[14]=s("h3",{class:"box-title"},"Para siguientes talleres, por favor indícanos los temas de tu interés",-1)),o(W,{value:a.comments,"onUpdate:value":e[5]||(e[5]=t=>a.comments=t),placeholder:"Basic usage",rows:4},null,8,["value"])])):k("",!0),e[16]||(e[16]=s("br",null,null,-1)),s("div",me,[o(j,{type:"primary","html-type":"submit",size:"large",loading:S.value},{default:n(()=>e[15]||(e[15]=[c("Enviar respuestas")])),_:1},8,["loading"])])]}),_:1},8,["model"])])])])}}},ye=X(ce,[["__scopeId","data-v-e7529b67"]]);export{ye as default};
