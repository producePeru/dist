import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";import{r as A,G as w,b as f,o as M,d as C,e,c as o,w as i,n as j,F,v as P,t as s,j as g}from"./index-a583ba72.js";const B={class:"layout-content"},D={class:"controls"},z={class:"buttons"},I={key:0},J={class:"resumen"},O={class:"meses"},G={key:1},L={class:"cards"},U={class:"month-nav"},Y={class:"month-label"},q={class:"progress-section"},H={class:"progress-item"},K={class:"progress-item"},Q={class:"progress-item"},$=2,R={__name:"dashboard-capacitaciones",setup(W){const V=[2025],x=A(2025),b=A("anual"),c={capacitaciones:25,participantes:625,empresas:100},u=[{nombre:"Enero",capacitaciones:0,participantes:0,empresas:0},{nombre:"Febrero",capacitaciones:0,participantes:0,empresas:0},{nombre:"Marzo",capacitaciones:0,participantes:0,empresas:0},{nombre:"Abril",capacitaciones:0,participantes:0,empresas:0},{nombre:"Mayo",capacitaciones:0,participantes:0,empresas:0},{nombre:"Junio",capacitaciones:0,participantes:0,empresas:0},{nombre:"Julio",capacitaciones:0,participantes:0,empresas:0},{nombre:"Agosto",capacitaciones:0,participantes:0,empresas:0},{nombre:"Septiembre",capacitaciones:2,participantes:55,empresas:13},{nombre:"Octubre",capacitaciones:10,participantes:10,empresas:20},{nombre:"Noviembre",capacitaciones:0,participantes:0,empresas:0},{nombre:"Diciembre",capacitaciones:0,participantes:0,empresas:0}],_=A(8),n=w(()=>u[_.value]),d=(p,a)=>(p/a*100).toFixed(0),y=(p,a)=>{const v=p/a*100;return v>=100?"success":v>=50?"active":"exception"},m=w(()=>{const p=u.reduce((r,l)=>r+l.capacitaciones,0),a=u.reduce((r,l)=>r+l.participantes,0),v=u.reduce((r,l)=>r+l.empresas,0),k=u.reduce((r,l)=>l.capacitaciones>r.capacitaciones?l:r);return{totalCapacitaciones:p,porcentajeCapacitaciones:d(p,c.capacitaciones),totalParticipantes:a,promedioMes:(a/12).toFixed(0),totalEmpresas:v,metaEmpresas:d(v,c.empresas),mejormes:k.nombre,capacitacionesMes:k.capacitaciones}}),h=p=>{_.value=u.indexOf(p),b.value="mensual"},N=()=>{_.value>0&&_.value--},S=()=>{_.value<u.length-1&&_.value++};return(p,a)=>{const v=f("a-select-option"),k=f("a-select"),r=f("a-button"),l=f("a-card"),E=f("a-progress");return M(),C("div",B,[a[18]||(a[18]=e("h1",{class:"capacitaciones-title"},"Análisis mensual y anual con comparativos históricos.",-1)),a[19]||(a[19]=e("br",null,null,-1)),e("div",D,[a[5]||(a[5]=e("span",null,"Año de análisis:",-1)),o(k,{value:x.value,"onUpdate:value":a[0]||(a[0]=t=>x.value=t),style:{width:"120px"}},{default:i(()=>[(M(),C(F,null,P(V,t=>o(v,{key:t,value:t},{default:i(()=>[g(s(t),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"]),e("div",z,[o(r,{class:j({active:b.value==="anual"}),onClick:a[1]||(a[1]=t=>b.value="anual")},{default:i(()=>a[3]||(a[3]=[g(" Vista Anual ")])),_:1},8,["class"]),o(r,{class:j({active:b.value==="mensual"}),onClick:a[2]||(a[2]=t=>b.value="mensual")},{default:i(()=>a[4]||(a[4]=[g(" Vista Mensual ")])),_:1},8,["class"])])]),b.value==="anual"?(M(),C("div",I,[e("div",J,[o(l,{class:"resumen-card best",bordered:""},{default:i(()=>[e("h2",null,s(m.value.mejormes),1),a[6]||(a[6]=e("p",null,"Mejor Mes",-1)),e("small",null,s(m.value.capacitacionesMes)+" capacitaciones",1)]),_:1}),o(l,{class:"resumen-card",bordered:""},{default:i(()=>[e("h2",null,s(m.value.totalCapacitaciones),1),a[7]||(a[7]=e("p",null,"Total Capacitaciones",-1)),e("small",null,s(m.value.porcentajeCapacitaciones)+"% del año",1)]),_:1}),o(l,{class:"resumen-card",bordered:""},{default:i(()=>[e("h2",null,s(m.value.totalParticipantes),1),a[8]||(a[8]=e("p",null,"Total Participantes",-1)),e("small",null,s(m.value.promedioMes)+" promedio/mes",1)]),_:1}),o(l,{class:"resumen-card",bordered:""},{default:i(()=>[e("h2",null,s(m.value.totalEmpresas),1),a[9]||(a[9]=e("p",null,"Total Empresas",-1)),e("small",null,s(m.value.metaEmpresas)+"% meta anual",1)]),_:1})]),a[10]||(a[10]=e("h3",null,"Desglose por Meses",-1)),e("div",O,[(M(),C(F,null,P(u,t=>o(l,{key:t.nombre,class:j(["mes-card",{selected:t.nombre===n.value.nombre}]),bordered:"",hoverable:"",onClick:X=>h(t)},{default:i(()=>[e("p",null,[e("b",null,s(t.nombre),1)]),e("p",null,s(t.capacitaciones)+" capacitaciones",1),e("p",null,s(t.participantes)+" participantes",1),e("p",null,s(t.empresas)+" empresas",1)]),_:2},1032,["class","onClick"])),64))])])):(M(),C("div",G,[e("div",L,[o(l,{class:"stat-card",bordered:""},{default:i(()=>[e("h2",null,s(n.value.capacitaciones),1),a[11]||(a[11]=e("p",null,"Capacitaciones del Mes",-1)),e("small",null,s(d(n.value.capacitaciones,c.capacitaciones))+"% de la meta",1)]),_:1}),o(l,{class:"stat-card",bordered:""},{default:i(()=>[e("h2",null,s(n.value.participantes),1),a[12]||(a[12]=e("p",null,"Participantes del Mes",-1)),e("small",null,s(d(n.value.participantes,c.participantes))+"% de la meta",1)]),_:1}),o(l,{class:"stat-card",bordered:""},{default:i(()=>[e("h2",null,s(n.value.empresas),1),a[13]||(a[13]=e("p",null,"Empresas del Mes",-1)),e("small",null,s(d(n.value.empresas,c.empresas))+"% de la meta",1)]),_:1}),o(l,{class:"stat-card",bordered:""},{default:i(()=>[e("h2",null,s($)),a[14]||(a[14]=e("p",null,"Especialistas Activos",-1)),e("small",null,s((n.value.capacitaciones/$).toFixed(1))+" cap./especialista",1)]),_:1})]),e("div",U,[o(r,{onClick:N},{default:i(()=>a[15]||(a[15]=[g("← Mes Anterior")])),_:1}),e("span",Y,s(n.value.nombre)+" "+s(x.value)+" - "+s(n.value.capacitaciones)+" capacitaciones programadas ",1),o(r,{onClick:S},{default:i(()=>a[16]||(a[16]=[g("Siguiente Mes →")])),_:1})]),e("div",q,[a[17]||(a[17]=e("h3",null,"Cumplimiento de Metas Mensuales",-1)),e("div",H,[e("p",null,"Capacitaciones: "+s(n.value.capacitaciones)+" / "+s(c.capacitaciones),1),o(E,{percent:d(n.value.capacitaciones,c.capacitaciones),"stroke-width":"18",status:y(n.value.capacitaciones,c.capacitaciones),format:t=>`${t}%`},null,8,["percent","status","format"])]),e("div",K,[e("p",null,"Participantes: "+s(n.value.participantes)+" / "+s(c.participantes),1),o(E,{percent:d(n.value.participantes,c.participantes),"stroke-width":"18",status:y(n.value.participantes,c.participantes),format:t=>`${t}%`},null,8,["percent","status","format"])]),e("div",Q,[e("p",null,"Empresas: "+s(n.value.empresas)+" / "+s(c.empresas),1),o(E,{percent:d(n.value.empresas,c.empresas),"stroke-width":"18",status:y(n.value.empresas,c.empresas),format:t=>`${t}%`},null,8,["percent","status","format"])])])]))])}}},ae=T(R,[["__scopeId","data-v-f74b4321"]]);export{ae as default};
