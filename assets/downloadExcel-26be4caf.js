import{K as l,g as a}from"./index-490b41db.js";const p="https://apituempresa.soporte-pnte.com/api/",d="http://127.0.0.1:8000/api/",h=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?d:p,s=l.create({baseURL:h});s.interceptors.request.use(e=>{e.headers=e.headers||{};const t=a.get("token");return t?e.headers.Authorization=`Bearer ${t}`:delete e.headers.Authorization,e.headers["Content-Type"]="application/json",e},e=>Promise.reject(e));s.interceptors.response.use(e=>e,e=>(e.response&&e.response.status===401&&(a.remove("token"),localStorage.clear(),window.location.href="/"),Promise.reject(e)));async function u(e,t,n){try{const r=await s.post(e,n,{responseType:"blob"}),c=window.URL.createObjectURL(new Blob([r.data])),o=document.createElement("a");o.href=c;const i=`${t}.xlsx`;o.setAttribute("download",i),document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(r){console.error("Error al descargar el archivo:",r)}}export{u as d};
