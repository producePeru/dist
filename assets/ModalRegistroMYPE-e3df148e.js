import{B as Z,r as S,a as K,l as $,b as i,o as n,z as r,w as u,c as p,e as m,d as D,v as j,F as y,s,h as _,i as v,f as I,m as g,p as W,j as X}from"./index-223837af.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";const ae={ruc:{type:"iText",label:"RUC",name:"ruc",required:!0,message:"Escribe el RUC",disabled:!0},socialReason:{type:"iText",label:"Razón social",name:"socialReason",required:!0,message:"Escribe la razón social"},category:{type:"iSearch",label:"Rubro",name:"category",required:!0,message:"Escribe la razón social"},type:{type:"iSelect",label:"Tipo de persona",name:"type",required:!0,message:"Seleccionar un tipo"},department:{type:"iSelect",label:"Departamento",name:"department",required:!0,message:"Seleccionar un tipo"},province:{type:"iSelect",label:"Provincia",name:"province",required:!0,message:"Seleccionar un tipo"},district:{type:"iSelect",label:"Distrito",name:"district",required:!0,message:"Seleccionar un tipo"},dniNumber:{type:"iText",label:"Número de documento DNI",name:"dniNumber",required:!0,message:"El número de DNI no es válido",max:8},name_full:{type:"iText",label:"Nombres y Apellidos",name:"name_full",required:!0,message:"Escribe el nombre"},sex:{type:"iSelect",label:"Sexo",name:"sex",required:!0,message:"Seleccionar un tipo",max:12},phone:{type:"iText",label:"Teléfono",name:"phone",required:!0,message:"Escribe el teléfono",max:12},email:{type:"iText",label:"Correo electrónico",name:"email",required:!0,message:"Escribe el teléfono",max:100},agree:{type:"iCheck",label:"",name:"agree",required:!0,message:"Estoy de acuerdo"}},le=[{value:"AGROINDUSTRIAL",label:"AGROINDUSTRIAL"},{value:"ALIMENTOS Y BEBIDAS",label:"ALIMENTOS Y BEBIDAS"},{value:"ARTESANIAS Y ARTES MANUALES",label:"ARTESANIAS Y ARTES MANUALES"},{value:"AUDIOVISUALES",label:"AUDIOVISUALES"},{value:"BEBES Y NIÑOS",label:"BEBES Y NIÑOS"},{value:"BELLEZA Y RELAJACIÓN",label:"BELLEZA Y RELAJACIÓN"},{value:"COMPUTACIÓN Y EQUIPOS DE OFICINA",label:"COMPUTACIÓN Y EQUIPOS DE OFICINA"},{value:"CONSTRUCCIÓN Y AGRO",label:"CONSTRUCCIÓN Y AGRO"},{value:"DEPORTES Y DEFENSA PERSONAL",label:"DEPORTES Y DEFENSA PERSONAL"},{value:"EDUCACIÓN Y CULTURA",label:"EDUCACIÓN Y CULTURA"},{value:"ELECTO HOGAR",label:"ELECTO HOGAR"},{value:"ESTADO E INSTITUCIONES",label:"ESTADO E INSTITUCIONES"},{value:"EVENTOS Y ANIMACIÓN",label:"EVENTOS Y ANIMACIÓN"},{value:"HOGAR Y JARDIN",label:"HOGAR Y JARDIN"},{value:"INSTRUMENTOS Y EQUIPOS MUSICALES",label:"INSTRUMENTOS Y EQUIPOS MUSICALES"},{value:"JUEGOS Y ENTRETENIMIENTO",label:"JUEGOS Y ENTRETENIMIENTO"},{value:"LIBROS Y REVISTAS",label:"LIBROS Y REVISTAS"},{value:"MASCOTAS",label:"MASCOTAS"},{value:"MASCOTAS Y ACCESORIOS",label:"MASCOTAS Y ACCESORIOS"},{value:"PASATIEMPOS Y COLECCIONABLES",label:"PASATIEMPOS Y COLECCIONABLES"},{value:"PRODUCCIÓN DE ALIMENTOS",label:"PRODUCCIÓN DE ALIMENTOS"},{value:"PRODUCCIÓN DE BEBIDAS",label:"PRODUCCIÓN DE BEBIDAS"},{value:"PUBLICIDAD Y MARKETING",label:"PUBLICIDAD Y MARKETING"},{value:"RESTAURANTES Y DIVERSION",label:"RESTAURANTES Y DIVERSION"},{value:"ROPA CALZADO Y ACCESORIOS",label:"ROPA CALZADO Y ACCESORIOS"},{value:"SALUD Y BIENESTAR",label:"SALUD Y BIENESTAR"},{value:"SEGURIDAD INDUSTRIAL",label:"SEGURIDAD INDUSTRIAL"},{value:"SERVICIOS ADMINISTRATIVOS Y CONTABLES",label:"SERVICIOS ADMINISTRATIVOS Y CONTABLES"},{value:"SERVICIOS EN GENERAL",label:"SERVICIOS EN GENERAL"},{value:"SERVICIOS TECNOLOGICOS",label:"SERVICIOS TECNOLOGICOS"},{value:"TRANSPORTES Y ADUANAS",label:"TRANSPORTES Y ADUANAS"},{value:"VEHICULOS Y ADUANAS",label:"VEHICULOS Y ADUANAS"},{value:"VIAJES Y TURISMOS",label:"VIAJES Y TURISMOS"}];const f=d=>(W("data-v-fff1f107"),d=d(),X(),d),te=f(()=>m("span",{class:"modal-notice"},"Completa el formulario para participar",-1)),oe={class:"grid-item"},ne=f(()=>m("p",{class:"agree-message"},[v("Autorizo el uso de mis datos personales para recibir invitaciones a los talleres de Ruta Digital organizados por el "),m("b",null,"Programa Nacional Tu Empresa "),v(" y/o "),m("b",null,"el Ministerio de la Producción")],-1)),re={class:"wrapper-form_btn"},se={__name:"ModalRegistroMYPE",props:["rucProp"],emits:["handleCloseModal","handleSetData"],setup(d,{emit:L}){const E=d,C=L;Z(()=>{var t,l;a.ruc=((t=E.rucProp)==null?void 0:t.numeroDocumento)??E.rucProp.numeroDocumento,a.socialReason=((l=E.rucProp)==null?void 0:l.razonSocial)??E.rucProp.razonSocial});const N=S(!0),O=S(!1),a=K({ruc:null,socialReason:null,category:null,type:null,department:null,province:null,district:null,dniNumber:null,name_full:null,sex:null,phone:null,email:null}),h=[{label:"JURÍDICA",value:"JURIDICA"},{label:"NATURAL",value:"NATURAL"}],Y=[{label:"MASCULINO",value:"MASCULINO"},{label:"FEMENINO",value:"FEMENINO"},{label:"...",value:3}],b=S([]),R=S([]),T=S([]),M=async()=>{try{const{data:t}=await I({url:"/departaments",method:"GET"});b.value=t}catch(t){console.log(t)}},P=(t,l)=>{console.log(l),a.province=null,a.district=null,x(l.id)},x=async t=>{try{const{data:l}=await I({url:`/province/${t}`,method:"GET"});R.value=l}catch(l){console.log(l)}},B=(t,l)=>{a.district=null,k(l.id)},k=async t=>{try{const{data:l}=await I({url:`/district/${t}`,method:"GET"});T.value=l}catch(l){console.log(l)}},V=(t,l)=>l.value.toLowerCase().indexOf(t.toLowerCase())>=0,U=()=>{C("handleCloseModal",!0),N.value=!1},q=t=>{t.target.checked||(a.agree=null)},G=async()=>{const t={ruc:a.ruc,socialReason:a.socialReason,category:a.category,type:a.type,department:a.department,district:a.district,nameComplete:a.name_full,dniNumber:a.dniNumber,sex:a.sex,phone:a.phone,email:a.email,added:1};O.value=!0;try{const l=await I({url:"/register-mype",method:"POST",data:t});g.success(l.message),C("handleSetData",l.data),U()}catch{g.error("Error al crear la Mype.")}finally{O.value=!1}};return $(M),(t,l)=>{const c=i("a-select"),A=i("a-form-item"),w=i("a-input"),J=i("a-checkbox"),F=i("a-button"),z=i("a-form"),H=i("a-modal");return n(),r(H,{open:N.value,"onUpdate:open":l[0]||(l[0]=e=>N.value=e),title:"Participar con mi empresa",style:{top:"20px"},footer:"",onCancel:U,width:"700px"},{default:u(()=>[te,p(z,{layout:"vertical",model:a,name:"basic",autocomplete:"off",onFinish:G},{default:u(()=>[m("div",oe,[(n(!0),D(y,null,j(_(ae),(e,Q)=>(n(),D(y,{key:Q},[e.type==="iSelect"?(n(),r(A,{key:0,class:"item-max",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:u(()=>[e.name=="type"?(n(),r(c,{key:0,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:h},null,8,["value","onUpdate:value"])):s("",!0),e.name=="department"?(n(),r(c,{key:1,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:b.value,onChange:P},null,8,["value","onUpdate:value","options"])):s("",!0),e.name=="province"?(n(),r(c,{key:2,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:R.value,onChange:B},null,8,["value","onUpdate:value","options"])):s("",!0),e.name=="district"?(n(),r(c,{key:3,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:T.value},null,8,["value","onUpdate:value","options"])):s("",!0),e.name=="sex"?(n(),r(c,{key:4,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:Y},null,8,["value","onUpdate:value"])):s("",!0)]),_:2},1032,["name","label","rules"])):s("",!0),e.type==="iText"?(n(),r(A,{key:1,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,type:e.email,max:e.max}]},{default:u(()=>[p(w,{value:a[e.name],"onUpdate:value":o=>a[e.name]=o,disabled:e.disabled},null,8,["value","onUpdate:value","disabled"])]),_:2},1032,["name","label","rules"])):s("",!0),e.type==="iSearch"?(n(),r(A,{key:2,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,min:2}]},{default:u(()=>[p(c,{value:a[e.name],"onUpdate:value":o=>a[e.name]=o,"show-search":"",placeholder:"",options:_(le),"filter-option":V},null,8,["value","onUpdate:value","options"])]),_:2},1032,["name","label","rules"])):s("",!0),e.type==="iCheck"?(n(),r(A,{key:3,class:"final-column",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:u(()=>[p(J,{onChange:q,checked:a[e.name],"onUpdate:checked":o=>a[e.name]=o},{default:u(()=>[ne]),_:2},1032,["checked","onUpdate:checked"])]),_:2},1032,["name","label","rules"])):s("",!0)],64))),128))]),m("div",re,[p(F,{type:"primary","html-type":"submit",loading:O.value},{default:u(()=>[v("Participar")]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1},8,["open"])}}},ce=ee(se,[["__scopeId","data-v-fff1f107"]]);export{ce as R};
