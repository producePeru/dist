import{z as Z,r as S,a as K,n as $,b as c,o as n,B as r,w as u,c as p,e as d,d as D,v as j,F as _,s,i as O,j as b,f as I,m as g,p as W,k as X}from"./index-47172f5e.js";import{c as ee}from"./selects-0563509c.js";import{_ as ae}from"./_plugin-vue_export-helper-c27b6911.js";const le={ruc:{type:"iSearch",label:"Ingresar número de RUC",name:"ruc",required:!0,message:"Escribe número de documento",disabled:!1},socialReason:{type:"iText",label:"Razón social",name:"socialReason",required:!0,message:"Escribe la razón social",disabled:!0},category:{type:"iSelect",label:"Rubro",name:"category",required:!0,message:"Escribe la razón social"},type:{type:"iSelect",label:"Tipo de persona",name:"type",required:!0,message:"Seleccionar un tipo"},department:{type:"iSelect",label:"Departamento",name:"department",required:!0,message:"Seleccionar un tipo"},province:{type:"iSelect",label:"Provincia",name:"province",required:!0,message:"Seleccionar un tipo"},district:{type:"iSelect",label:"Distrito",name:"district",required:!0,message:"Seleccionar un tipo"},dniNumber:{type:"iText",label:"Número de documento DNI",name:"dniNumber",required:!0,message:"El número de DNI no es válido",max:8},name_full:{type:"iText",label:"Nombres y Apellidos",name:"name_full",required:!0,message:"Escribe el nombre"},sex:{type:"iSelect",label:"Sexo",name:"sex",required:!0,message:"Seleccionar un tipo",max:12},phone:{type:"iText",label:"Teléfono",name:"phone",required:!0,message:"Escribe el teléfono",max:12},email:{type:"iText",label:"Correo electrónico",name:"email",required:!0,message:"Escribe el teléfono",max:100},agree:{type:"iCheck",label:"",name:"agree",required:!0,message:"Estoy de acuerdo"}},te=[{value:"AGROINDUSTRIAL",label:"AGROINDUSTRIAL"},{value:"ALIMENTOS Y BEBIDAS",label:"ALIMENTOS Y BEBIDAS"},{value:"ARTESANIAS Y ARTES MANUALES",label:"ARTESANIAS Y ARTES MANUALES"},{value:"AUDIOVISUALES",label:"AUDIOVISUALES"},{value:"BEBES Y NIÑOS",label:"BEBES Y NIÑOS"},{value:"BELLEZA Y RELAJACIÓN",label:"BELLEZA Y RELAJACIÓN"},{value:"COMPUTACIÓN Y EQUIPOS DE OFICINA",label:"COMPUTACIÓN Y EQUIPOS DE OFICINA"},{value:"CONSTRUCCIÓN Y AGRO",label:"CONSTRUCCIÓN Y AGRO"},{value:"DEPORTES Y DEFENSA PERSONAL",label:"DEPORTES Y DEFENSA PERSONAL"},{value:"EDUCACIÓN Y CULTURA",label:"EDUCACIÓN Y CULTURA"},{value:"ELECTO HOGAR",label:"ELECTO HOGAR"},{value:"ESTADO E INSTITUCIONES",label:"ESTADO E INSTITUCIONES"},{value:"EVENTOS Y ANIMACIÓN",label:"EVENTOS Y ANIMACIÓN"},{value:"HOGAR Y JARDIN",label:"HOGAR Y JARDIN"},{value:"INSTRUMENTOS Y EQUIPOS MUSICALES",label:"INSTRUMENTOS Y EQUIPOS MUSICALES"},{value:"JUEGOS Y ENTRETENIMIENTO",label:"JUEGOS Y ENTRETENIMIENTO"},{value:"LIBROS Y REVISTAS",label:"LIBROS Y REVISTAS"},{value:"MASCOTAS",label:"MASCOTAS"},{value:"MASCOTAS Y ACCESORIOS",label:"MASCOTAS Y ACCESORIOS"},{value:"PASATIEMPOS Y COLECCIONABLES",label:"PASATIEMPOS Y COLECCIONABLES"},{value:"PRODUCCIÓN DE ALIMENTOS",label:"PRODUCCIÓN DE ALIMENTOS"},{value:"PRODUCCIÓN DE BEBIDAS",label:"PRODUCCIÓN DE BEBIDAS"},{value:"PUBLICIDAD Y MARKETING",label:"PUBLICIDAD Y MARKETING"},{value:"RESTAURANTES Y DIVERSION",label:"RESTAURANTES Y DIVERSION"},{value:"ROPA CALZADO Y ACCESORIOS",label:"ROPA CALZADO Y ACCESORIOS"},{value:"SALUD Y BIENESTAR",label:"SALUD Y BIENESTAR"},{value:"SEGURIDAD INDUSTRIAL",label:"SEGURIDAD INDUSTRIAL"},{value:"SERVICIOS ADMINISTRATIVOS Y CONTABLES",label:"SERVICIOS ADMINISTRATIVOS Y CONTABLES"},{value:"SERVICIOS EN GENERAL",label:"SERVICIOS EN GENERAL"},{value:"SERVICIOS TECNOLOGICOS",label:"SERVICIOS TECNOLOGICOS"},{value:"TRANSPORTES Y ADUANAS",label:"TRANSPORTES Y ADUANAS"},{value:"VEHICULOS Y ADUANAS",label:"VEHICULOS Y ADUANAS"},{value:"VIAJES Y TURISMOS",label:"VIAJES Y TURISMOS"}];const L=m=>(W("data-v-83e8e19d"),m=m(),X(),m),oe=L(()=>d("span",{class:"modal-notice"},"Completa el formulario para participar",-1)),ne={class:"grid-item"},re=L(()=>d("p",{class:"agree-message"},[b("Autorizo el uso de mis datos personales para recibir invitaciones a los talleres de Ruta Digital organizados por el "),d("b",null,"Programa Nacional Tu Empresa "),b(" y/o "),d("b",null,"el Ministerio de la Producción")],-1)),se={class:"wrapper-form_btn"},ue={__name:"ModalRegistroMYPE",props:["rucProp"],emits:["handleCloseModal","handleSetData"],setup(m,{emit:Y}){const E=m,C=Y;Z(()=>{var t,l;a.ruc=((t=E.rucProp)==null?void 0:t.numeroDocumento)??E.rucProp.numeroDocumento,a.socialReason=((l=E.rucProp)==null?void 0:l.razonSocial)??E.rucProp.razonSocial});const N=S(!0),v=S(!1),a=K({ruc:null,socialReason:null,category:null,type:null,department:null,province:null,district:null,dniNumber:null,name_full:null,sex:null,phone:null,email:null}),h=[{label:"JURÍDICA",value:"JURIDICA"},{label:"NATURAL",value:"NATURAL"}],f=[{label:"MASCULINO",value:"MASCULINO"},{label:"FEMENINO",value:"FEMENINO"},{label:"...",value:3}],R=S([]),T=S([]),U=S([]),M=async()=>{try{const{data:t}=await I({url:"/departaments",method:"GET"});R.value=t}catch(t){console.log(t)}},P=(t,l)=>{console.log(l),a.province=null,a.district=null,x(l.id)},x=async t=>{try{const{data:l}=await I({url:`/province/${t}`,method:"GET"});T.value=l}catch(l){console.log(l)}},B=(t,l)=>{a.district=null,k(l.id)},k=async t=>{try{const{data:l}=await I({url:`/district/${t}`,method:"GET"});U.value=l}catch(l){console.log(l)}},V=(t,l)=>l.value.toLowerCase().indexOf(t.toLowerCase())>=0,y=()=>{C("handleCloseModal",!0),N.value=!1},q=t=>{t.target.checked||(a.agree=null)},G=async()=>{const t={ruc:a.ruc,socialReason:a.socialReason,category:a.category,type:a.type,department:a.department,district:a.district,nameComplete:a.name_full,dniNumber:a.dniNumber,sex:a.sex,phone:a.phone,email:a.email,added:1};v.value=!0;try{const l=await I({url:"/register-mype",method:"POST",data:t});g.success(l.message),C("handleSetData",l.data),y()}catch{g.error("Error al crear la Mype.")}finally{v.value=!1}};return $(M),(t,l)=>{const i=c("a-select"),A=c("a-form-item"),w=c("a-input"),J=c("a-checkbox"),F=c("a-button"),z=c("a-form"),H=c("a-modal");return n(),r(H,{open:N.value,"onUpdate:open":l[0]||(l[0]=e=>N.value=e),title:"Participar con mi empresa",style:{top:"20px"},footer:"",onCancel:y,width:"700px"},{default:u(()=>[oe,p(z,{layout:"vertical",model:a,name:"basic",autocomplete:"off",onFinish:G},{default:u(()=>[d("div",ne,[(n(!0),D(_,null,j(O(le),(e,Q)=>(n(),D(_,{key:Q},[e.type==="iSelect"?(n(),r(A,{key:0,class:"item-max",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:u(()=>[e.name=="type"?(n(),r(i,{key:0,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:h},null,8,["value","onUpdate:value"])):s("",!0),e.name=="department"?(n(),r(i,{key:1,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:R.value,onChange:P},null,8,["value","onUpdate:value","options"])):s("",!0),e.name=="province"?(n(),r(i,{key:2,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:T.value,onChange:B},null,8,["value","onUpdate:value","options"])):s("",!0),e.name=="district"?(n(),r(i,{key:3,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:U.value},null,8,["value","onUpdate:value","options"])):s("",!0),e.name=="sex"?(n(),r(i,{key:4,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:f},null,8,["value","onUpdate:value"])):s("",!0),e.name=="category"?(n(),r(i,{key:5,value:a[e.name],"onUpdate:value":o=>a[e.name]=o,options:O(ee),disabled:e.disabled},null,8,["value","onUpdate:value","options","disabled"])):s("",!0)]),_:2},1032,["name","label","rules"])):s("",!0),e.type==="iText"?(n(),r(A,{key:1,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,type:e.email,max:e.max}]},{default:u(()=>[p(w,{value:a[e.name],"onUpdate:value":o=>a[e.name]=o,disabled:e.disabled},null,8,["value","onUpdate:value","disabled"])]),_:2},1032,["name","label","rules"])):s("",!0),e.type==="iSearch"?(n(),r(A,{key:2,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,min:2}]},{default:u(()=>[p(i,{value:a[e.name],"onUpdate:value":o=>a[e.name]=o,"show-search":"",placeholder:"",options:O(te),"filter-option":V},null,8,["value","onUpdate:value","options"])]),_:2},1032,["name","label","rules"])):s("",!0),e.type==="iCheck"?(n(),r(A,{key:3,class:"final-column",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:u(()=>[p(J,{onChange:q,checked:a[e.name],"onUpdate:checked":o=>a[e.name]=o},{default:u(()=>[re]),_:2},1032,["checked","onUpdate:checked"])]),_:2},1032,["name","label","rules"])):s("",!0)],64))),128))]),d("div",se,[p(F,{type:"primary","html-type":"submit",loading:v.value},{default:u(()=>[b("Participar")]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1},8,["open"])}}},me=ae(ue,[["__scopeId","data-v-83e8e19d"]]);export{me as R};
