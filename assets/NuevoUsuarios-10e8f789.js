import{r as f,u as z,a as H,j as J,b as u,o,d as y,c as r,e as p,w as i,F as g,k as N,m as v,q as K,y as n,n as s,f as Q,g as X,p as Y,h as Z}from"./index-6858792c.js";import{f as $}from"./nuevoUsuario-8627bd47.js";import"./storage-f2963345.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";const h=_=>(Y("data-v-01451ff1"),_=_(),Z(),_),ae=h(()=>p("h3",null,"REGISTRO DE USUARIOS",-1)),te=h(()=>p("span",null,"Formulario para el registro de usuarios:",-1)),oe={class:"user"},ne={class:"grid-item"},se=h(()=>p("div",null,[p("h1")],-1)),le={__name:"NuevoUsuarios",setup(_){const b=f(!1),U=f([]),k=f([]),S=z(),a=H({nickName:"",password:"",documentType:1,documentNumber:"",middleName:"",name:"",countryCode:173,birthdate:null,gender:"",isDisabled:null,email:"",phoneNumber:"",role:null,officeCode:null,sedeCode:1}),q=[{label:"DNI",value:1},{label:"CE",value:2},{label:"PAS",value:3},{label:"PTP",value:4}],C=[{label:"Masculino",value:1},{label:"Femenino",value:2},{label:"...",value:3}],D=[{label:"Si",value:2},{label:"No",value:1}],T=[{label:"Administrador",value:"1"},{label:"Usuario",value:"2"},{label:"Invitado",value:"3"}],w=[{label:"Dirección ejecutiva",value:1},{label:"Unidad de gestión de servicios empresariales",value:2},{label:"Unidad de gestión de operaciones",value:3},{label:"Unidad de gestión estratégica y entrega de resultados",value:4}],F=()=>{a.nickName="",a.password="",a.documentType=1,a.documentNumber="",a.lastName="",a.middleName="",a.name="",a.countryCode=173,a.birthdate=null,a.gender="",a.isDisabled=null,a.email="",a.phoneNumber="",a.role=null,a.officeCode=null,a.sedeCode=null},I=async()=>{const l=a;b.value=!0;try{const m=await N({url:"/register",method:"POST",data:l});F(),v.success(m.message),S.push("/admin/ruta-digital/talleres")}catch{v.error("No se pudo registrar este usuario")}finally{b.value=!1}},x=()=>{v.error("Debes de completar todos los espacios requeridos")},E=async l=>{if(!a.documentType)return v.error("Selecciona el tipo de documento");if(!l)return v.error("El campo número de documento esta vacío");console.log(typeof l)},R=()=>{a.documentNumber=a.documentNumber.replace(/\D/g,"")},B=(l,m)=>{},O=async()=>{try{const{data:l}=await N({url:"/countries",method:"GET"});U.value=l}catch(l){console.error("Error de red:",l)}},P=async()=>{};return J(O(),P()),(l,m)=>{const A=u("a-divider"),d=u("a-select"),c=u("a-form-item"),V=u("a-input-search"),j=u("a-input"),G=u("a-date-picker"),M=u("a-button"),L=u("a-form");return o(),y(g,null,[ae,te,r(A),p("div",oe,[r(L,{layout:"vertical",model:a,name:"basic",autocomplete:"off",onFinish:I,onFinishFailed:x},{default:i(()=>[p("div",ne,[(o(!0),y(g,null,K(Q($),(e,W)=>(o(),y(g,{key:W},[e.type==="iSelect"?(o(),n(c,{key:0,class:"item-max",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:i(()=>[e.name=="documentType"?(o(),n(d,{key:0,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:q},null,8,["value","onUpdate:value"])):s("",!0),e.name=="gender"?(o(),n(d,{key:1,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:C},null,8,["value","onUpdate:value"])):s("",!0),e.name=="isDisabled"?(o(),n(d,{key:2,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:D},null,8,["value","onUpdate:value"])):s("",!0),e.name=="officeCode"?(o(),n(d,{key:3,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:w},null,8,["value","onUpdate:value"])):s("",!0),e.name=="sedeCode"?(o(),n(d,{key:4,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:k.value},null,8,["value","onUpdate:value","options"])):s("",!0),e.name=="role"?(o(),n(d,{key:5,value:a[e.name],"onUpdate:value":t=>a[e.name]=t,options:T},null,8,["value","onUpdate:value"])):s("",!0)]),_:2},1032,["name","label","rules"])):s("",!0),e.type==="iSearch"?(o(),n(c,{key:1,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,len:8}]},{default:i(()=>[r(V,{value:a[e.name],"onUpdate:value":t=>a[e.name]=t,"enter-button":"",onSearch:E,onInput:R},null,8,["value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):s("",!0),e.type==="iText"?(o(),n(c,{key:2,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,type:e.email}]},{default:i(()=>[r(j,{value:a[e.name],"onUpdate:value":t=>a[e.name]=t},null,8,["value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):s("",!0),e.type==="iSelectWrite"?(o(),n(c,{key:3,name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:i(()=>[r(d,{value:a[e.name],"onUpdate:value":t=>a[e.name]=t,"show-search":"",options:U.value,"filter-option":B},null,8,["value","onUpdate:value","options"])]),_:2},1032,["name","label","rules"])):s("",!0),e.type==="iDate"?(o(),n(c,{key:4,name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:i(()=>[r(G,{value:a.birthdate,"onUpdate:value":m[0]||(m[0]=t=>a.birthdate=t),style:{width:"100%"}},null,8,["value"])]),_:2},1032,["name","label","rules"])):s("",!0)],64))),128))]),r(c,null,{default:i(()=>[r(M,{type:"primary","html-type":"submit",loading:b.value},{default:i(()=>[X("Registrar usuario")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),se])],64)}}},me=ee(le,[["__scopeId","data-v-01451ff1"]]);export{me as default};
