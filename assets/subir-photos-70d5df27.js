import{U as y}from"./UpImage-350d3a98.js";import{l as w,r,j as E,b as d,o as l,d as c,e as s,c as i,F as b,s as x,f as u,w as k,i as I,m as D}from"./index-3ae03cd9.js";import"./es-906f33a1.js";/* empty css                                                                */import"./_plugin-vue_export-helper-c27b6911.js";const N={class:"container"},T={class:"coffe-images"},B={class:"coffe-images-grid"},P={__name:"subir-photos",setup(C){w.locale("es");const m=r([]),p=r(null),o=r(null),f=()=>null,g=async e=>{p.value=e.id,await n()},_=async e=>{o.value=e;try{(await u({url:`events-pnte/remove-image-from-coffee-event/${e}`,method:"DELETE"})).status==200&&(D.success("Imagen eliminada correctamente"),await n())}catch(t){console.error("Error de red:",t)}finally{o.value=null}},n=async()=>{try{const e=await u({url:"events-pnte/show-all-photos-from-coffee-event?type=thumb",method:"GET"});e.status==200&&(m.value=e.data)}catch(e){console.error("Error de red:",e)}};return E(()=>{n()}),(e,t)=>{const v=d("a-avatar"),h=d("a-button");return l(),c("div",N,[s("div",T,[t[1]||(t[1]=s("img",{class:"coffe-logo",src:"https://fiesta-del-cafe.soporte-pnte.com/assets/logo-DKN6DEo-.webp",alt:""},null,-1)),i(y,{style:{width:"100%"},"accept-formats":["image/jpeg","image/png"],maxImages:1,onUploadSuccess:g,imageLoad:f(),nameType:"coffe"},null,8,["imageLoad"]),t[2]||(t[2]=s("h4",{style:{"margin-top":"2rem","font-weight":"600"}},"Imagenes",-1)),s("div",B,[(l(!0),c(b,null,x(m.value,a=>(l(),c("div",{key:a.id},[i(v,{src:a.url,shape:"square",size:100},null,8,["src"]),i(h,{loading:a.id==o.value,type:"text",danger:"",onClick:L=>_(a.id)},{default:k(()=>t[0]||(t[0]=[I("Eliminar")])),_:2},1032,["loading","onClick"])]))),128))])])])}}};export{P as default};
