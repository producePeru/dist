import{c as a,A as q,g as be,E as Q,r as y,k as W,b as m,o as p,d as O,y as x,w as s,e,t as _,i as A,ae as he,z as k,j as b,F,m as j,K as xe,a as pe,v as Z,x as ee,h as me,s as we,af as Oe,ab as ke}from"./index-918eb24e.js";import{d as ve}from"./downloadExcel-74720103.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{S as Se}from"./ShopOutlined-816e6f13.js";import{T as $e}from"./TeamOutlined-3a28c06e.js";import{S as K}from"./SyncOutlined-2750a2b3.js";import{_ as Ce}from"./icoexcel-1b303edf.js";var Ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908 640H804V488c0-4.4-3.6-8-8-8H548v-96h108c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h108v96H228c-4.4 0-8 3.6-8 8v152H116c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16H292v-88h440v88H620c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16zm-564 76v168H176V716h168zm84-408V140h168v168H428zm420 576H680V716h168v168z"}}]},name:"apartment",theme:"outlined"};const Pe=Ee;function re(d){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?Object(arguments[n]):{},l=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(o).filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable}))),l.forEach(function(c){ze(d,c,o[c])})}return d}function ze(d,n,o){return n in d?Object.defineProperty(d,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):d[n]=o,d}var te=function(n,o){var l=re({},n,o.attrs);return a(q,re({},l,{icon:Pe}),null)};te.displayName="ApartmentOutlined";te.inheritAttrs=!1;const _e=te;var Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"};const Ae=Ie;function ie(d){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?Object(arguments[n]):{},l=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(o).filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable}))),l.forEach(function(c){De(d,c,o[c])})}return d}function De(d,n,o){return n in d?Object.defineProperty(d,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):d[n]=o,d}var ae=function(n,o){var l=ie({},n,o.attrs);return a(q,ie({},l,{icon:Ae}),null)};ae.displayName="BarChartOutlined";ae.inheritAttrs=!1;const Le=ae;var Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z"}}]},name:"dashboard",theme:"outlined"};const Me=Te;function de(d){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?Object(arguments[n]):{},l=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(o).filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable}))),l.forEach(function(c){je(d,c,o[c])})}return d}function je(d,n,o){return n in d?Object.defineProperty(d,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):d[n]=o,d}var ne=function(n,o){var l=de({},n,o.attrs);return a(q,de({},l,{icon:Me}),null)};ne.displayName="DashboardOutlined";ne.inheritAttrs=!1;const Ue=ne;var Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const Be=Ne;function ue(d){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?Object(arguments[n]):{},l=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(o).filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable}))),l.forEach(function(c){Re(d,c,o[c])})}return d}function Re(d,n,o){return n in d?Object.defineProperty(d,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):d[n]=o,d}var se=function(n,o){var l=ue({},n,o.attrs);return a(q,ue({},l,{icon:Be}),null)};se.displayName="DotChartOutlined";se.inheritAttrs=!1;const Ve=se;var He={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 264c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48zm-8 136H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM480 544H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 308H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm356.8-74.4c29-26.3 47.2-64.3 47.2-106.6 0-79.5-64.5-144-144-144s-144 64.5-144 144c0 42.3 18.2 80.3 47.2 106.6-57 32.5-96.2 92.7-99.2 162.1-.2 4.5 3.5 8.3 8 8.3h48.1c4.2 0 7.7-3.3 8-7.6C564 871.2 621.7 816 692 816s128 55.2 131.9 124.4c.2 4.2 3.7 7.6 8 7.6H880c4.6 0 8.2-3.8 8-8.3-2.9-69.5-42.2-129.6-99.2-162.1zM692 591c44.2 0 80 35.8 80 80s-35.8 80-80 80-80-35.8-80-80 35.8-80 80-80z"}}]},name:"solution",theme:"outlined"};const Fe=He;function ce(d){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?Object(arguments[n]):{},l=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(o).filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable}))),l.forEach(function(c){Ge(d,c,o[c])})}return d}function Ge(d,n,o){return n in d?Object.defineProperty(d,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):d[n]=o,d}var oe=function(n,o){var l=ce({},n,o.attrs);return a(q,ce({},l,{icon:Fe}),null)};oe.displayName="SolutionOutlined";oe.inheritAttrs=!1;const qe=oe;const Qe={class:"stat-card blue"},We={class:"stat-info"},Je={class:"stat-value"},Xe={class:"stat-icon-wrapper light-blue"},Ye={class:"stat-card green"},Ze={class:"stat-info"},Ke={class:"stat-value"},et={class:"stat-icon-wrapper light-green"},tt={class:"stat-card purple"},at={class:"stat-info"},nt={class:"stat-value"},st={class:"stat-icon-wrapper light-purple"},ot={class:"stat-card orange"},lt={class:"stat-info"},rt={class:"stat-value"},it={class:"stat-icon-wrapper light-orange"},dt={__name:"principal-index",setup(d){const n=be.get("token"),o="https://apituempresa.soporte-pnte.com/api/",l="http://127.0.0.1:8000/api/",c=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?l:o,C=Q(),g=y(null),D=y(!1),z=y(!1),N=async()=>{try{let i=`events-ugse/cyberwow-count-principal-panel/${C.params.slug}`;const v=await j({url:i,method:"GET"});g.value=v.data}catch(r){console.error("Error de red:",r)}},U=async()=>{z.value=!0;try{let i=`download/export-cyber-wow-brands-all/${C.params.slug}`;ve(i,"formato-de-marcas")}catch(r){console.error("Error de red:",r)}finally{setTimeout(()=>{z.value=!1},1200)}},S=async()=>{D.value=!0;try{const r=C.params.slug,i=await xe.get(`${c}download/cyber-wow-folder-all-brands/${r}`,{responseType:"blob",headers:{Authorization:`Bearer ${n}`}}),v=new Blob([i.data],{type:"application/zip"}),u=document.createElement("a");u.href=window.URL.createObjectURL(v),u.download="carpetas_usuario.zip",u.click()}catch(r){console.error("Error al descargar:",r)}finally{D.value=!1}};return W(async()=>{await N()}),(r,i)=>{const v=m("a-skeleton"),u=m("a-col"),w=m("a-row"),L=m("a-progress"),f=m("a-card"),P=m("a-timeline-item"),t=m("a-timeline");return p(),O(F,null,[g.value?(p(),x(w,{key:1,gutter:[16,16]},{default:s(()=>[a(u,{xs:24,sm:12,md:6},{default:s(()=>[e("div",Qe,[e("div",We,[i[0]||(i[0]=e("p",{class:"stat-label"},"Total Empresas",-1)),e("h2",Je,_(g.value.total_empresas),1)]),e("div",Xe,[a(A(Se))])])]),_:1}),a(u,{xs:24,sm:12,md:6},{default:s(()=>[e("div",Ye,[e("div",Ze,[i[1]||(i[1]=e("p",{class:"stat-label"},"Empresas Asignadas",-1)),e("h2",Ke,_(g.value.empresas_asignadas),1)]),e("div",et,[a(A(qe))])])]),_:1}),a(u,{xs:24,sm:12,md:6},{default:s(()=>[e("div",tt,[e("div",at,[i[2]||(i[2]=e("p",{class:"stat-label"},"Perfiles Completados",-1)),e("h2",nt,_(g.value.perfiles_completados),1)]),e("div",st,[a(A(he))])])]),_:1}),a(u,{xs:24,sm:12,md:6},{default:s(()=>[e("div",ot,[e("div",lt,[i[3]||(i[3]=e("p",{class:"stat-label"},"Líderes Activos",-1)),e("h2",rt,_(g.value.lideres_activos),1)]),e("div",it,[a(A($e))])])]),_:1})]),_:1})):(p(),x(v,{key:0,active:""})),a(w,{gutter:[16,16],class:"section-row"},{default:s(()=>[a(u,{xs:24,md:12},{default:s(()=>[a(f,{title:"Progreso de Completación"},{default:s(()=>[i[4]||(i[4]=e("div",{class:"mb-2"},"Perfiles Completados",-1)),a(L,{percent:0,status:"active","stroke-color":"#52c41a"}),i[5]||(i[5]=e("div",{class:"mt-4 flex justify-between"},[e("div",{class:"box-completed"},[e("h2",null,"0"),e("p",null,"Completados")]),e("div",{class:"box-pending"},[e("h2",null,"0"),e("p",null,"Pendientes")])],-1))]),_:1})]),_:1}),a(u,{xs:24,md:12},{default:s(()=>[a(f,{title:"Descargas"},{default:s(()=>[a(t,null,{default:s(()=>[a(P,{color:"blue"},{default:s(()=>[e("span",{onClick:U,class:"principal-url-link"},[z.value?(p(),x(A(K),{key:0,spin:""})):k("",!0),i[6]||(i[6]=b(" Descargar Marcas "))])]),_:1}),a(P,{color:"green"},{default:s(()=>[e("span",{onClick:S,class:"principal-url-link"},[D.value?(p(),x(A(K),{key:0,spin:""})):k("",!0),i[7]||(i[7]=b(" Descargar Logos de las Marcas "))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}},ut=G(dt,[["__scopeId","data-v-0d57c36a"]]);const ct={class:"empresas-wrapper"},pt={class:"empresas-container"},mt={class:"filters"},vt={class:"filters-actions"},_t={class:"summary-card total"},gt={class:"summary-card red"},ft={class:"summary-card yellow"},yt={key:1,class:"company-decription"},bt={key:2,class:"company-decription"},ht={key:4,class:"progress-cell"},xt={__name:"empresas-administrar",setup(d){const n=Q(),o=y([]),l=y(null),c=y([]),C=y(!0),g=pe({name:null,typeStatus:"no_asignados"}),D=[{title:"EMPRESA",dataIndex:"empresa",key:"empresa",width:"300px"},{title:"EMPRESARIO",dataIndex:"empresario",key:"empresario",width:"300px"},{title:"ESTADO",dataIndex:"estado",key:"estado",align:"center",width:"200px"},{title:"LÍDER",dataIndex:"lider",key:"lider",align:"center",width:"400px"}],z=(v,u)=>{const w=v.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return u.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(w)},N=async(v,u)=>{if(v=="none"){const w=await j({url:`events-ugse/remove-leader-from-company/${u}`,method:"PUT"});return console.log("response",w)}try{const w=n.params.slug,P=await j({url:"events-ugse/a-company-to-leader",method:"PUT",data:{slug:w,user_id:v,company_id:u}});console.log("response",P),P.status==200&&await S()}catch(w){console.error("Error de red:",w)}},U=async()=>{await i()},S=async()=>{try{let u=`events-ugse/cyberwow-company-count/${n.params.slug}`;const w=await j({url:u,method:"GET"});l.value=w}catch(v){console.error("Error de red:",v)}},r=async()=>{try{let u=`select/get-all-leaders-wow/${n.params.slug}`;const w=await j({url:u,method:"GET"});o.value=[{label:"*** QUITAR SELECCIÓN ***",value:"none"},...w.data]}catch(v){console.error("Error de red:",v)}},i=async()=>{try{const v={name:g.name,typeStatus:g.typeStatus};let w=`events-ugse/cyber-wow-list-assistants/${n.params.slug}`;const f=(await j({url:w,method:"GET",params:v})).data.data;c.value=f}catch(v){console.error("Error de red:",v)}finally{C.value=!1}};return W(async()=>{await r(),await S(),await i()}),(v,u)=>{const w=m("a-input-search"),L=m("a-select-option"),f=m("a-select"),P=m("a-skeleton"),t=m("a-col"),T=m("a-row"),$=m("a-tag"),I=m("a-form-item"),R=m("a-progress"),B=m("a-table");return p(),O("div",ct,[e("div",pt,[e("div",mt,[a(w,{value:g.name,"onUpdate:value":u[0]||(u[0]=E=>g.name=E),placeholder:"Buscar por nombre, RUC o DNI...",style:{"max-width":"300px"},onSearch:U},null,8,["value"]),e("div",vt,[a(f,{value:g.typeStatus,"onUpdate:value":u[1]||(u[1]=E=>g.typeStatus=E),style:{width:"160px"},onChange:U},{default:s(()=>[a(L,{value:"todos"},{default:s(()=>u[2]||(u[2]=[b("Todos los estados")])),_:1}),a(L,{value:"asignados"},{default:s(()=>u[3]||(u[3]=[b("Asignados")])),_:1}),a(L,{value:"no_asignados"},{default:s(()=>u[4]||(u[4]=[b("No Asignados")])),_:1})]),_:1},8,["value"])])]),l.value?(p(),x(T,{key:1,gutter:[16,16],class:"summary-row"},{default:s(()=>[a(t,{xs:24,sm:12,md:6},{default:s(()=>{var E;return[e("div",_t,[u[5]||(u[5]=e("p",null,"Total",-1)),e("h2",null,_((E=l.value)==null?void 0:E.total),1)])]}),_:1}),a(t,{xs:24,sm:12,md:6},{default:s(()=>{var E;return[e("div",gt,[u[6]||(u[6]=e("p",null,"No Asignadas",-1)),e("h2",null,_((E=l.value)==null?void 0:E.no_asignadas),1)])]}),_:1}),a(t,{xs:24,sm:12,md:6},{default:s(()=>{var E;return[e("div",ft,[u[7]||(u[7]=e("p",null,"Asignadas",-1)),e("h2",null,_((E=l.value)==null?void 0:E.asignadas),1)])]}),_:1})]),_:1})):(p(),x(P,{key:0,active:""})),a(B,{columns:D,"data-source":c.value,"row-key":"id",bordered:"",class:"empresas-table",pagination:{pageSize:100},loading:C.value},{bodyCell:s(({column:E,record:M})=>[E.dataIndex==="estado"?(p(),x($,{key:0,color:"orange"},{default:s(()=>u[8]||(u[8]=[b("Por completar")])),_:1})):k("",!0),E.dataIndex==="empresa"?(p(),O("div",yt,[e("b",null,_(M.razonSocial),1),e("span",null,_(M.ruc),1)])):k("",!0),E.dataIndex==="empresario"?(p(),O("div",bt,[e("b",null,_(M.name)+" "+_(M.lastname)+" "+_(M.middlename),1),e("span",null,_(M.documentnumber),1)])):k("",!0),E.dataIndex==="lider"?(p(),x(I,{key:3},{default:s(()=>[a(f,{value:M.user_id,"onUpdate:value":H=>M.user_id=H,"show-search":"",options:o.value,"filter-option":z,onChange:H=>N(M.user_id,M.id),placeholder:"Seleccionar lider",class:"leader-name"},null,8,["value","onUpdate:value","options","onChange"])]),_:2},1024)):k("",!0),E.dataIndex==="progreso"?(p(),O("div",ht,[a(R,{percent:M.progreso/10*100,"show-info":!1,"stroke-color":"#1890ff",style:{width:"80px"}},null,8,["percent"]),e("span",null,_(M.progreso)+"/10",1)])):k("",!0)]),_:1},8,["data-source","loading"])])])}}},wt=G(xt,[["__scopeId","data-v-13202d6a"]]);const Ot={class:"header-actions"},kt={class:"leader-info"},St={style:{"font-weight":"500"}},$t={class:"selected-count"},Ct={__name:"LideresUgse",setup(d){const n=Q(),o=y([]),l=y([]),c=y([]),C=["#52c41a","#1890ff","#722ed1","#fa8c16","#13c2c2","#eb2f96","#a0d911","#2f54eb","#fa541c","#faad14","#73d13d","#ff4d4f"],g=new Set;function D(){for(let i of C)if(!g.has(i))return g.add(i),i;let r;do r="#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0");while(g.has(r));return g.add(r),r}const z=(r,i)=>{const v=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return i.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(v)};function N(r){const i=o.value.find(v=>v.value===r);i&&!l.value.some(v=>v.id===r)&&l.value.push({id:i.value,name:i.label,office:i.office,initial:i.label.charAt(0).toUpperCase(),color:D()})}const U=async r=>{try{const i={user_id:r.target.value,slug:n.params.slug},v=await j({url:"events-ugse/select-leader-for-this-event",method:"PUT",data:i});if(v.status==409)return me.error(v.message);console.log("asignado")}catch(i){console.error("Error de red:",i)}},S=async()=>{try{const r=await j({url:"select/all-users-pnte",method:"GET"}),{data:i}=r;o.value=i.map(v=>({label:v.label,value:v.value,office:v.office}))}catch(r){console.error("Error de red:",r)}};return W(async()=>{await S()}),(r,i)=>{const v=m("a-select"),u=m("a-avatar"),w=m("a-checkbox"),L=m("a-checkbox-group");return p(),O("div",null,[e("div",Ot,[i[1]||(i[1]=e("span",null,"Seleccionar Líderes Disponibles",-1)),a(v,{"show-search":"",placeholder:"Buscar líder...",style:{width:"100%"},options:o.value,"filter-option":z,onSelect:N},null,8,["options"])]),a(L,{value:c.value,"onUpdate:value":i[0]||(i[0]=f=>c.value=f),style:{width:"100%"}},{default:s(()=>[(p(!0),O(F,null,Z(l.value,f=>(p(),O("div",{key:f.id,class:"leader-item"},[a(w,{value:f.id,onChange:U},{default:s(()=>[e("div",kt,[a(u,{style:ee({backgroundColor:f.color})},{default:s(()=>[b(_(f.initial),1)]),_:2},1032,["style"]),e("div",null,[e("b",St,_(f.name),1),e("div",null,_(f.office),1)])])]),_:2},1032,["value"])]))),128))]),_:1},8,["value"]),e("div",$t,_(c.value.length)+" líderes seleccionados ",1)])}}},Et=G(Ct,[["__scopeId","data-v-b029f17a"]]);const Pt={class:"reportes-wrapper"},zt={class:"reportes-container"},It={style:{display:"flex","align-items":"center","justify-content":"space-between"}},At={key:0,class:"lider-cell"},Dt={style:{"font-size":"13px"}},Lt={key:1,class:"text-green"},Tt={key:2,class:"text-yellow"},Mt={key:3},jt={__name:"reportes-index",setup(d){const n=Q();y("7"),y("completacion");const o=y(!1),l=y(!0),c=y(!1),C=y([]),g=y([{value:"cmf",label:"Cynthia Marisol Molero Flores"},{value:"eco",label:"Erika Lisbeth Choy Ortiz"},{value:"hqp",label:"Hannah Maria Qwistgaard Paniccia"},{value:"kps",label:"Kathia Iris Pinedo Saona"}]),D=[{title:"LÍDER",dataIndex:"lider",key:"lider",width:400},{title:"ASIGNADAS",dataIndex:"asignadas",key:"asignadas",align:"center"},{title:"COMPLETADAS",dataIndex:"completadas",key:"completadas",align:"center"},{title:"PENDIENTES",dataIndex:"pendientes",key:"pendientes",align:"center"},{title:"% COMPLETADOS",dataIndex:"tasa",key:"tasa",align:"center"},{title:"SUPERVISOR",dataIndex:"supervisor",key:"supervisor",align:"center",width:320}],z=async S=>{const r={supervisor:S.supervisor,slug:n.params.slug,user_id:S.id};try{const v=await j({url:"events-ugse/update-leader-supervisor",method:"PUT",data:r});v.status==200&&console.log("Supervisor actualizado con éxito:",v.data)}catch(i){console.error("Error de red:",i)}},N=async()=>{o.value=!0;try{let r=`download/resumen-by-users/${n.params.slug}`;await ve(r,"resumen-por-usuario")}catch(S){console.error("Error de red:",S)}finally{o.value=!1}},U=async()=>{l.value=!0;try{let r=`events-ugse/cyberwow-leaders-report/${n.params.slug}`;const i=await j({url:r,method:"GET"});i.status==200&&(C.value=i.data)}catch(S){console.error("Error de red:",S)}finally{l.value=!1}};return W(async()=>{await U()}),(S,r)=>{const i=m("a-col"),v=m("a-row"),u=m("a-button"),w=m("a-avatar"),L=m("a-progress"),f=m("a-tag"),P=m("a-select"),t=m("a-table"),T=m("a-drawer");return p(),O(F,null,[e("div",Pt,[e("div",zt,[a(v,{gutter:[16,16],class:"summary-row"},{default:s(()=>[a(i,{xs:24,sm:12,md:6},{default:s(()=>r[3]||(r[3]=[e("div",{class:"summary-card light-green"},[e("p",null,"Total Completadas"),e("h2",null,"0")],-1)])),_:1}),a(i,{xs:24,sm:12,md:6},{default:s(()=>r[4]||(r[4]=[e("div",{class:"summary-card light-yellow"},[e("p",null,"Total Pendientes"),e("h2",null,"0")],-1)])),_:1}),a(i,{xs:24,sm:12,md:6},{default:s(()=>r[5]||(r[5]=[e("div",{class:"summary-card light-blue"},[e("p",null,"Tasa Promedio"),e("h2",null,"0%")],-1)])),_:1}),a(i,{xs:24,sm:12,md:6},{default:s(()=>r[6]||(r[6]=[e("div",{class:"summary-card light-purple"},[e("p",null,"Tiempo Promedio"),e("h2",null,"0d")],-1)])),_:1})]),_:1}),e("div",It,[r[9]||(r[9]=e("h3",{class:"table-title"},"Reporte Detallado por Líder",-1)),e("div",null,[a(u,{icon:we(A(K)),onClick:r[0]||(r[0]=$=>U())},null,8,["icon"]),a(u,{style:{margin:"0 10px"},class:"btn-excel",onClick:N,loading:o.value,type:"primary"},{default:s(()=>r[7]||(r[7]=[e("img",{width:"20",style:{margin:"-2px 4px 0 0"},src:Ce},null,-1)])),_:1},8,["loading"]),a(u,{type:"primary",onClick:r[1]||(r[1]=$=>c.value=!0)},{default:s(()=>r[8]||(r[8]=[b("+ Agregar Líder")])),_:1})])]),a(t,{columns:D,"data-source":C.value,bordered:"","row-key":"id",pagination:!1,class:"reportes-table",loading:l.value},{bodyCell:s(({column:$,record:I})=>[$.dataIndex==="lider"?(p(),O("div",At,[a(w,{style:ee([{backgroundColor:I.color},{width:"30px",height:"30px","margin-right":"10px"}])},{default:s(()=>[b(_(I.nombre.charAt(0)),1)]),_:2},1032,["style"]),e("span",Dt,_(I.nombre),1)])):k("",!0),$.dataIndex==="completadas"?(p(),O("span",Lt,_(I.completadas),1)):k("",!0),$.dataIndex==="pendientes"?(p(),O("span",Tt,_(I.pendientes),1)):k("",!0),$.dataIndex==="tasa"?(p(),O("div",Mt,[a(L,{percent:I.tasa,"show-info":!1,"stroke-color":"#1890ff",style:{width:"120px"}},null,8,["percent"]),e("span",null,_(I.tasa)+"%",1)])):k("",!0),$.dataIndex==="productividad"?(p(),O(F,{key:4},[I.productividad==="Alta"?(p(),x(f,{key:0,color:"green"},{default:s(()=>r[10]||(r[10]=[b("Alta")])),_:1})):I.productividad==="Media"?(p(),x(f,{key:1,color:"gold"},{default:s(()=>r[11]||(r[11]=[b("Media")])),_:1})):(p(),x(f,{key:2,color:"red"},{default:s(()=>r[12]||(r[12]=[b("Baja")])),_:1}))],64)):k("",!0),$.dataIndex==="supervisor"?(p(),x(P,{key:5,value:I.supervisor,"onUpdate:value":R=>I.supervisor=R,placeholder:"Selecciona un supervisor",style:{width:"100%"},options:g.value,onChange:R=>z(I)},null,8,["value","onUpdate:value","options","onChange"])):k("",!0)]),_:1},8,["data-source","loading"])])]),a(T,{width:"500",title:"",open:c.value,"onUpdate:open":r[2]||(r[2]=$=>c.value=$),placement:"right"},{default:s(()=>[a(Et)]),_:1},8,["open"])],64)}}},Ut=G(jt,[["__scopeId","data-v-b1adef84"]]);const Nt={class:"followup-companies-list"},Bt={style:{"margin-top":"60px"}},Rt={key:1},Vt={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Ht={style:{"margin-bottom":"0"}},Ft={style:{color:"#777","margin-bottom":"8px"}},Gt={style:{"text-align":"right",position:"relative"}},qt={style:{"margin-bottom":"0"}},Qt={style:{"margin-bottom":"0"}},Wt={key:1,class:"followup-brand"},Jt=["href"],Xt={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"16px"}},Yt={class:"seguimiento-tag-productos"},Zt=["href"],Kt=["src"],ea={class:"product-card"},ta={class:"product-name"},aa={style:{color:"#777","margin-bottom":"4px"}},na={style:{color:"#777","margin-bottom":"12px"}},sa={style:{display:"flex","align-items":"center","justify-content":"space-between"}},oa={style:{"text-decoration":"line-through",color:"#999","margin-bottom":"0"}},la={style:{color:"#389e0d","font-weight":"bold","font-size":"16px",margin:"0"}},ra={__name:"seguimiento-index",setup(d){const n=pe({supervisor:"",leader:""}),o=y(!1),l=y(!1),c=y(null),C=y([]),g=y(null),D=Oe.PRESENTED_IMAGE_SIMPLE,z=Q(),N=y(!1),U=y([]),S=y([]),r=y([{value:"cmf",label:"Cynthia Marisol Molero Flores"},{value:"eco",label:"Erika Lisbeth Choy Ortiz"},{value:"hqp",label:"Hannah Maria Qwistgaard Paniccia"},{value:"kps",label:"Kathia Iris Pinedo Saona"}]),i=async()=>{if(!n.leader)return me.error("Por favor, seleccione un asesor.");N.value=!0;const P={slug:z.params.slug,user_id:n.leader};try{const T=await j({url:"events-ugse/follow-up-leader-to-company",method:"POST",data:P});S.value=T.data}catch(t){console.error("Error de red:",t)}finally{N.value=!1}},v=async()=>{U.value=[],n.leader=null,g.value=null,S.value=[];const P={supervisor:n.supervisor,slug:z.params.slug};try{const T=await j({url:"events-ugse/get-list-leaders-supervisor",method:"POST",data:P});U.value=T.data}catch(t){console.error("Error de red:",t)}},u=()=>{f.value=="2"?w():f.value=="3"&&L()},w=async()=>{l.value=!0,c.value=null;const P={slug:z.params.slug,company_id:g.value.id};try{const T=await j({url:"events-ugse/follow-up-leader-to-brand",method:"POST",data:P});c.value=T.data}catch(t){console.error("Error de red:",t)}finally{l.value=!1}},L=async()=>{o.value=!0,C.value=[];const P={slug:z.params.slug,company_id:g.value.id};try{const T=await j({url:"events-ugse/follow-up-leader-to-products",method:"POST",data:P});C.value=T.data}catch(t){console.error("Error de red:",t)}finally{o.value=!1}},f=y("1");return(P,t)=>{const T=m("a-select"),$=m("a-col"),I=m("a-button"),R=m("a-row"),B=m("a-card"),E=m("a-badge-ribbon"),M=m("a-avatar"),H=m("a-tab-pane"),ge=m("a-tabs"),J=m("a-empty"),fe=m("a-image"),X=m("a-spin"),ye=m("a-layout");return p(),x(ye,{style:{background:"#f5f7fa",padding:"24px","min-height":"100vh"}},{default:s(()=>[t[38]||(t[38]=e("div",null,[e("h1",{style:{"font-weight":"700","font-size":"24px","margin-bottom":"4px"}},"Empresas"),e("p",{style:{color:"#666"}},"Seguimiento y validación de empresas, marcas y productos")],-1)),a(R,{gutter:[16,16],style:{"margin-top":"16px","margin-bottom":"8px"}},{default:s(()=>[a($,{xs:24,md:6},{default:s(()=>[a(T,{value:n.supervisor,"onUpdate:value":t[0]||(t[0]=h=>n.supervisor=h),placeholder:"Selecciona un supervisor",style:{width:"100%"},options:r.value,onChange:v},null,8,["value","options"])]),_:1}),a($,{xs:24,md:6},{default:s(()=>[a(T,{value:n.leader,"onUpdate:value":t[1]||(t[1]=h=>n.leader=h),placeholder:"Selecciona un asesor",style:{width:"100%"},options:U.value},null,8,["value","options"])]),_:1}),a($,{xs:24,md:4},{default:s(()=>[a(I,{type:"primary",block:"",onClick:i,loading:N.value},{default:s(()=>t[3]||(t[3]=[b("Buscar")])),_:1},8,["loading"])]),_:1})]),_:1}),a(X,{spinning:N.value},{default:s(()=>[S.value.length>0>0?(p(),x(R,{key:0,gutter:24,style:{"margin-top":"8px"}},{default:s(()=>[a($,{xs:24,md:8},{default:s(()=>[e("div",Nt,[a(B,{style:{"border-radius":"12px"}},{default:s(()=>[t[6]||(t[6]=e("h3",{style:{"margin-bottom":"16px"}},"Lista de Empresas",-1)),(p(!0),O(F,null,Z(S.value,h=>(p(),x(E,{key:h.id,text:h.estadoName,color:h.estado},{default:s(()=>{var V;return[a(B,{size:"small",hoverable:"",style:ee([{"margin-bottom":"12px","border-radius":"10px",cursor:"pointer"},((V=g.value)==null?void 0:V.id)===h.id?"border: 2px solid #9254de;":""]),onClick:Y=>{g.value=h,u()}},{default:s(()=>[e("div",null,[e("strong",null,_(h.nombre),1),t[4]||(t[4]=e("br",null,null,-1)),e("small",null,"RUC: "+_(h.ruc),1),t[5]||(t[5]=e("br",null,null,-1)),e("small",null,_(h.representante),1)])]),_:2},1032,["style","onClick"])]}),_:2},1032,["text","color"]))),128))]),_:1})])]),_:1}),a($,{xs:24,md:16},{default:s(()=>[g.value?(p(),O("div",Rt,[a(B,{style:{"border-radius":"12px","margin-bottom":"16px"}},{default:s(()=>[e("div",Vt,[e("div",null,[e("h2",Ht,_(g.value.nombre),1),e("p",Ft,_(g.value.razonSocial),1)]),e("div",Gt,[e("p",qt,[t[9]||(t[9]=e("strong",null,"RUC:",-1)),b(" "+_(g.value.ruc),1)]),e("p",Qt,[t[10]||(t[10]=e("strong",null,"Asesor:",-1)),b(" "+_(g.value.asesor),1)])])]),a(ge,{activeKey:f.value,"onUpdate:activeKey":t[2]||(t[2]=h=>f.value=h),style:{"margin-top":"12px"},onChange:u},{default:s(()=>[a(H,{key:"1",tab:"📋 Información"}),a(H,{key:"2",tab:"🏷️ Marca"}),a(H,{key:"3",tab:"📦 Productos (3)"})]),_:1},8,["activeKey"])]),_:1}),f.value==="1"?(p(),x(B,{key:0,style:{"border-radius":"12px"}},{default:s(()=>[t[25]||(t[25]=e("div",{class:"seguimiento-tag"}," Validada ",-1)),t[26]||(t[26]=e("h3",null,"Validación de Información",-1)),a(R,{gutter:[32,16],style:{"margin-top":"16px"}},{default:s(()=>[a($,{xs:24,md:12},{default:s(()=>[t[17]||(t[17]=e("h4",null,"Datos de la Empresa",-1)),e("p",null,[t[11]||(t[11]=e("strong",null,"Nombre Comercial",-1)),t[12]||(t[12]=e("br",null,null,-1)),b(_(g.value.nombre),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Razón Social",-1)),t[14]||(t[14]=e("br",null,null,-1)),b(_(g.value.razonSocial),1)]),e("p",null,[t[15]||(t[15]=e("strong",null,"RUC",-1)),t[16]||(t[16]=e("br",null,null,-1)),b(_(g.value.ruc),1)])]),_:1}),a($,{xs:24,md:12},{default:s(()=>[t[24]||(t[24]=e("h4",null,"Representante Legal",-1)),e("p",null,[t[18]||(t[18]=e("strong",null,"Nombre Completo",-1)),t[19]||(t[19]=e("br",null,null,-1)),b(_(g.value.representante),1)]),e("p",null,[t[20]||(t[20]=e("strong",null,"DNI",-1)),t[21]||(t[21]=e("br",null,null,-1)),b(_(g.value.dni),1)]),e("p",null,[t[22]||(t[22]=e("strong",null,"Celular",-1)),t[23]||(t[23]=e("br",null,null,-1)),b("+51 "+_(g.value.celular),1)])]),_:1})]),_:1})]),_:1})):k("",!0),f.value==="2"?(p(),x(B,{key:1,style:{"border-radius":"12px","text-align":"center"}},{default:s(()=>[f.value==="2"?(p(),x(B,{key:0,style:{"border-radius":"12px"}},{default:s(()=>[t[34]||(t[34]=e("div",{style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"16px"}},[e("h3",{style:{"margin-bottom":"0"}},"Validación de Marca")],-1)),a(X,{spinning:l.value},{default:s(()=>{var h,V,Y,le;return[c.value?(p(),O("div",Wt,[t[27]||(t[27]=e("h4",null,"Logo de la Empresa",-1)),a(fe,{width:100,src:(h=c.value)==null?void 0:h.logo.url,style:{border:"1px solid #d7d7d7"}},null,8,["src"]),t[28]||(t[28]=e("br",null,null,-1)),t[29]||(t[29]=e("br",null,null,-1)),t[30]||(t[30]=e("h4",null,"Sitio Web",-1)),e("a",{href:(V=c.value)==null?void 0:V.url,target:"_blank",style:{color:"#1677ff","text-decoration":"none"}},_((Y=c.value)==null?void 0:Y.url),9,Jt),t[31]||(t[31]=e("br",null,null,-1)),t[32]||(t[32]=e("br",null,null,-1)),t[33]||(t[33]=e("h4",null,"Descripción",-1)),e("p",null,_((le=c.value)==null?void 0:le.description),1)])):(p(),x(J,{key:0,image:A(D)},null,8,["image"]))]}),_:1},8,["spinning"])]),_:1})):k("",!0)]),_:1})):k("",!0),f.value==="3"?(p(),x(B,{key:2,style:{"border-radius":"12px","text-align":"center"}},{default:s(()=>[f.value==="3"?(p(),x(B,{key:0,style:{"border-radius":"12px"}},{default:s(()=>[e("div",Xt,[t[35]||(t[35]=e("h3",{style:{"margin-bottom":"0"}},"Productos",-1)),e("div",Yt,_(C.value.length)+" de 3 requeridos ",1)]),!C.value||C.value.length===0?(p(),x(J,{key:0,image:A(D)},null,8,["image"])):k("",!0),a(X,{spinning:o.value},{default:s(()=>[a(R,{gutter:[16,16]},{default:s(()=>[(p(!0),O(F,null,Z(C.value,(h,V)=>(p(),x($,{xs:24,sm:12,md:8,key:V},{default:s(()=>[e("a",{href:h.link,target:"_blank"},[a(B,{hoverable:"",style:{"border-radius":"12px",overflow:"hidden","min-height":"360px"},"body-style":{padding:"0"}},{default:s(()=>[e("img",{src:h.imagen,style:{width:"100%",height:"160px","object-fit":"cover"}},null,8,Kt),e("div",ea,[e("h4",ta,_(h.nombre),1),e("p",aa,[t[36]||(t[36]=b(" Categoría: ")),e("strong",null,_(h.categoria),1)]),e("p",na,[t[37]||(t[37]=b(" Tipo: ")),e("strong",null,_(h.tipo),1)]),e("div",sa,[e("p",oa,"S/ "+_(h.precioOriginal),1),e("p",la,"S/ "+_(h.precioActual),1)])])]),_:2},1024)],8,Zt)]),_:2},1024))),128))]),_:1})]),_:1},8,["spinning"])]),_:1})):k("",!0)]),_:1})):k("",!0)])):(p(),x(B,{key:0,style:{"border-radius":"12px","text-align":"center",height:"100%","min-height":"300px"}},{default:s(()=>[e("div",Bt,[a(M,{size:"large",style:{background:"#f0f2f5","margin-bottom":"12px"}},{icon:s(()=>[a(A(_e))]),_:1}),t[7]||(t[7]=e("h3",null,"Selecciona una Empresa",-1)),t[8]||(t[8]=e("p",{style:{color:"#777"}}," Haz clic en una empresa para ver su información, marca y productos ",-1))])]),_:1}))]),_:1})]),_:1})):(p(),x(J,{key:1,image:A(D),class:"followup-empty"},null,8,["image"]))]),_:1},8,["spinning"])]),_:1})}}},ia=G(ra,[["__scopeId","data-v-f07536e2"]]);const da={class:"dashboard-wrappers"},ua={class:"dashboard-container",style:{"margin-bottom":"1rem"}},ca={class:"dashboard-container"},pa={key:0},ma={key:1},va={key:2},_a={key:3},ga={__name:"administrar-index",setup(d){const n=y("1");return(o,l)=>{const c=m("a-breadcrumb-item"),C=m("a-breadcrumb"),g=m("a-tab-pane"),D=m("a-tabs");return p(),O("div",da,[e("div",ua,[a(C,null,{default:s(()=>[a(c,null,{default:s(()=>[e("a",{onClick:l[0]||(l[0]=z=>o.$router.go(-1))},[a(A(ke)),l[2]||(l[2]=e("span",{class:"fs-13"}," Atrás",-1))])]),_:1}),a(c,null,{default:s(()=>l[3]||(l[3]=[e("h3",{class:"title-produce"},"Administración de CyberWOW",-1)])),_:1})]),_:1})]),e("div",ca,[a(D,{activeKey:n.value,"onUpdate:activeKey":l[1]||(l[1]=z=>n.value=z)},{default:s(()=>[a(g,{key:"1"},{tab:s(()=>[e("span",null,[a(A(Ue)),l[4]||(l[4]=b(" Panel Principal "))])]),_:1}),a(g,{key:"2"},{tab:s(()=>[e("span",null,[a(A(_e)),l[5]||(l[5]=b(" Empresas "))])]),_:1}),a(g,{key:"3"},{tab:s(()=>[e("span",null,[a(A(Le)),l[6]||(l[6]=b(" Reportes "))])]),_:1}),a(g,{key:"4"},{tab:s(()=>[e("span",null,[a(A(Ve)),l[7]||(l[7]=b(" Seguimiento "))])]),_:1})]),_:1},8,["activeKey"]),n.value==="1"?(p(),O("div",pa,[a(ut)])):k("",!0),n.value==="2"?(p(),O("div",ma,[a(wt)])):k("",!0),n.value==="3"?(p(),O("div",va,[a(Ut)])):k("",!0),n.value==="4"?(p(),O("div",_a,[a(ia)])):k("",!0)])])}}},ka=G(ga,[["__scopeId","data-v-8aed52f9"]]);export{ka as default};
