import{_ as Ce}from"./FormComponent-555efea9.js";import{u as te}from"./selectes-df222431.js";import{c as n,A as we,l as Q,r as f,a as de,j as ie,T as ce,a5 as be,o as c,d as L,f as Ie,K as Z,b as S,w as i,e as U,F as J,s as pe,h as I,x as g,q as y,P as De,i as V,a6 as Ee,m as W,t as H,a1 as Ue,H as Ne,u as Re,D as Ae,a7 as qe}from"./index-cc0124c1.js";import"./es-82ab1b78.js";import"./storage-418e5d60.js";import{_ as oe}from"./_plugin-vue_export-helper-c27b6911.js";var Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};const Te=Oe;function ge(R){for(var O=1;O<arguments.length;O++){var v=arguments[O]!=null?Object(arguments[O]):{},D=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(D=D.concat(Object.getOwnPropertySymbols(v).filter(function(z){return Object.getOwnPropertyDescriptor(v,z).enumerable}))),D.forEach(function(z){ke(R,z,v[z])})}return R}function ke(R,O,v){return O in R?Object.defineProperty(R,O,{value:v,enumerable:!0,configurable:!0,writable:!0}):R[O]=v,R}var _e=function(O,v){var D=ge({},O,v.attrs);return n(we,ge({},D,{icon:Te}),null)};_e.displayName="RedoOutlined";_e.inheritAttrs=!1;const ze=_e;const Pe={class:"f-20"},Fe={__name:"AllFormalizacion20",props:["info","idCde"],emits:["closeDraw"],setup(R,{emit:O}){Q.locale("es");const v=f({ruc:{type:"iNumber",label:"RUC",name:"ruc",message:"Escribir número de RUC",disabled:!1,maxlength:11,rules:[{validator:(s,E)=>{if(!E)return Promise.resolve();const A=E.toString();return A.length!==11?Promise.reject(new Error("El número debe tener exactamente 11 dígitos")):A.startsWith("20")?Promise.resolve():Promise.reject(new Error('El número de RUC debe comenzar con "20"'))},trigger:"change"}]},nameMype:{type:"iText",label:"NOMBRE EMPRESA",name:"nameMype",required:!0,message:"Escribir nombre de la empresa",disabled:!1},city_id:{type:"iSelect",label:"REGIÓN DEL NEGOCIO",name:"city_id",required:!0,message:"Seleccionar región",disabled:!1},province_id:{type:"iSelect",label:"PROVINCIA DEL NEGOCIO",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!0},district_id:{type:"iSelect",label:"DISTRITO DEL NEGOCIO",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!0},address:{type:"iText",label:"DIRECCIÓN DEL NEGOCIO",name:"address",required:!0,message:"Escribir la dirección del negocio",disabled:!1},modality_id:{type:"iSelect",label:"MODALIDAD DE ATENCIÓN",name:"modality_id",required:!0,message:"Seleccionar la modalidad",disabled:!1},regime_id:{type:"iSelect",label:"RÉGIMEN SOCIETARIO",name:"regime_id",required:!0,message:"Seleccionar el régimen societario",disabled:!1},economicsector_id:{type:"iSelect",label:"SECTOR ECONÓMICO",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},numbernotary:{type:"iNumber",label:"NÚM. SOLICITUD CONSTANCIA",name:"numbernotary",required:!0,message:"Escribir número de solicitud de constancia",disabled:!1,maxlength:8,rules:[{validator:(s,E)=>E?E.toString().length!==8?Promise.reject(new Error("El número debe tener exactamente 8 dígitos")):Promise.resolve():Promise.reject(new Error("El número de notaría es requerido")),trigger:"change"}]},comercialactivity_id:{type:"iSelect",label:"ACTIVIDAD COMERCIAL",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},notary_id:{type:"iSelectNotary",label:"NOTARÍA",name:"notary_id",required:!0,message:"Seleccionar una notaría",disabled:!1},dateReception:{type:"iDate",label:"FECHA DE RECEPCION PNTE",name:"dateReception",required:!0,disabled:!1,disabledDate:s=>!1},dateTramite:{type:"iDate",label:"FEC. TRÁMITE SID SUNARP-SUNAT",name:"dateTramite",required:!0,disabled:!0,disabledDate:s=>t.dateReception&&s&&Q(s).isBefore(Q(t.dateReception))},isbic:{type:"iSelect",label:"¿ES UNA SOCIEDAD BIC?",name:"isbic",required:!1,message:"Buscar BIC",disabled:!1},montocapital:{type:"iMoney",label:"MONTO DE CAPITAL SOCIAL",name:"montocapital",required:!1,message:"Escribir el Monto de capital social",disabled:!1},typecapital_id:{type:"iSelect",label:"TIPO DE APORTE DE CAPITAL",name:"typecapital_id",required:!1,message:"Seleccionar BIC",disabled:!1}}),D=JSON.parse(localStorage.getItem("profile")),z=O,u=R,T=f("REGISTRAR"),t=de({}),o=f(!1),e=te(),Y=f(null),C=f({city_id:[],province_id:[],district_id:[],modality_id:[],comercialactivity_id:[],isbic:[],typecapital_id:[]}),l=s=>{console.log("handleInputEvent",s)},F=async s=>{s=="dateReception"&&(t.dateTramite&&(t.dateTramite=null),v.value.dateTramite.disabled=!1)},w=async s=>{s=="city_id"&&(await e.fetchProvinces(t.city_id),C.value.province_id=e.provinces,v.value.province_id.disabled=!1),s=="province_id"&&(await e.fetchDistricts(t.province_id),C.value.district_id=e.districts,v.value.district_id.disabled=!1)},$=async s=>{console.log("handleFocusSelect",s),s=="city_id"&&(await e.fetchCities(),t.city_id=null,t.province_id=null,t.district_id=null,C.value.province_id=[],C.value.city_id=e.cities),s=="province_id"&&(t.province_id=null,t.district_id=null,C.value.district_id=[]),s=="modality_id"&&(await e.fetchModalities(),C.value.modality_id=e.modalities),s=="regime_id"&&(await e.fetchRegimes(),C.value.regime_id=e.regimes),s=="economicsector_id"&&(await e.fetchEconomicSectors(),C.value.economicsector_id=e.economicSectors),s=="comercialactivity_id"&&(await e.fetchComercialActivities(),C.value.comercialactivity_id=e.comercialActivities),s=="notary_id"&&m(),s=="isbic"&&p(),s=="typecapital_id"&&(await e.fetchTypeCapital(),C.value.typecapital_id=e.typeCapital)},G=s=>{},p=()=>{C.value.isbic=[{value:"SI",label:"SI"},{value:"NO",label:"NO"}]},m=async()=>{try{const{data:s}=await Ie({url:"public/notaries-filters",method:"GET"}),E=s.map(A=>({value:A.id,name:A.name,city:A.city.name,province:A.province.name,district:A.district.name,address:A.address}));C.value.notary_id=E}catch(s){console.error("Error de red:",s)}},h=async()=>{o.value=!0;const s={ruc:t.ruc,nameMype:t.nameMype,city_id:t.city_id,province_id:t.province_id,district_id:t.district_id,address:t.address,modality_id:t.modality_id,regime_id:t.regime_id,economicsector_id:t.economicsector_id,numbernotary:t.numbernotary,comercialactivity_id:t.comercialactivity_id,notary_id:t.notary_id,dateReception:Q(t.dateReception).format("YYYY-MM-DD"),dateTramite:Q(t.dateTramite).format("YYYY-MM-DD"),isbic:t.isbic,montocapital:t.montocapital,typecapital_id:t.typecapital_id,user_id:t.user_id,people_id:t.people_id,dni:t.dni,cde_id:t.cde_id};try{(await Z({url:"formalization/create-ruc20",method:"POST",data:s})).status===200&&(b(),z("closeDraw",!0))}catch(E){console.error("Error:",E);const A=document.getElementsByClassName("ant-drawer-body")[0];A&&(A.scrollTop=0)}finally{o.value=!1}},b=()=>{t.ruc=null,t.nameMype=null,t.city_id=null,t.province_id=null,t.district_id=null,t.address=null,t.modality_id=null,t.regime_id=null,t.economicsector_id=null,t.numbernotary=null,t.comercialactivity_id=null,t.notary_id=null,t.dateReception=null,t.dateTramite=null,t.isbic=null,t.montocapital=null,t.typecapital_id=null},x=async s=>{s&&(t.user_id=D.user_id,t.people_id=s.id,t.dni=D.documentnumber,t.cde_id=D.cde_id,t.address=s.address,await e.fetchCities(),C.value.city_id=e.cities,t.city_id=s.city_id,await e.fetchProvinces(t.city_id),C.value.province_id=e.provinces,v.value.province_id.disabled=!1,t.province_id=s.province_id,await e.fetchDistricts(t.province_id),C.value.district_id=e.districts,v.value.district_id.disabled=!1,t.district_id=s.district_id)};return ie(()=>{u.info&&x(u.info)}),ce(()=>u.info,s=>{s&&x(s)}),be("formState",t),be("loadingState",o),(s,E)=>(c(),L("div",Pe,[n(Ce,{fields:v.value,options:C.value,btnSaveName:T.value,onHandleInputEvent:l,resetSelect:Y.value,onHandleChangeSelect:w,onHandleFocusSelect:$,onHandleBlurSelect:G,onHandleChangeClock:F,onOnSubmit:h},null,8,["fields","options","btnSaveName","resetSelect"])]))}},me=JSON.parse(localStorage.getItem("role")),$e={dni:{type:"iText",label:"Número de documento de identidad",name:"dni",required:!0,message:"Escribir número de documento",disabled:!1,placeholder:"Número documento"},economicsector_id:{type:"iSelectWrite",label:"Sector económico",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},comercialactivity_id:{type:"iSelectWrite",label:"Actividad comercial",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},detailprocedure_id:{type:"iSelect",label:"Detalle del trámite",name:"detailprocedure_id",required:!0,message:"Seleccionar detalle del trámite",disabled:!1},modality_id:{type:"iSelect",label:"Modalidad de atención",name:"modality_id",required:!0,message:"Seleccionar modalidad de atención",disabled:!!me.some(R=>R.id===7)},ruc:{type:"iText",label:"Número de RUC",name:"ruc",required:!0,message:"Escribir el número de RUC",disabled:!1,max:11},city_id:{type:"iSelectWrite",label:"Región del negocio",name:"city_id",required:!0,message:"Seleccionar región",disabled:!1},province_id:{type:"iSelectWrite",label:"Provincia del Negocio",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!1},district_id:{type:"iSelectWrite",label:"Distrito del Negocio",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!1},address:{type:"iText",label:"Direccion del Negocio",name:"address",required:!0,message:"Escribir la direccion del Negocio",disabled:!1}},Me={dni:{type:"iText",label:"Número de documento",name:"dni",required:!0,message:"Escribir número de documento",disabled:!1,placeholder:"Número documento"},economicsector_id:{type:"iSelectWrite",label:"Sector económico",name:"economicsector_id",required:!0,message:"Seleccionar el sector económico",disabled:!1},comercialactivity_id:{type:"iSelectWrite",label:"Actividad comercial",name:"comercialactivity_id",required:!0,message:"Seleccionar la actividad comercial",disabled:!1},component_id:{type:"iSelectWrite",label:"Componente",name:"component_id",required:!0,message:"Seleccionar un componente",disabled:!!me.some(R=>R.id===7)},theme_id:{type:"iSelectWrite",label:"Tema del componente",name:"theme_id",required:!0,message:"Seleccionar un tema del componente",disabled:!1},modality_id:{type:"iSelect",label:"Modalidad de atención",name:"modality_id",required:!0,message:"Seleccionar modalidad",disabled:!!me.some(R=>R.id===7)},ruc:{type:"iText",label:"Número de RUC",name:"ruc",required:!1,message:"Escribir número de RUC",disabled:!1,placeholder:"Número de RUC (Opcional)",max:11,min:11},city_id:{type:"iSelectWrite",label:"Región del negocio",name:"city_id",required:!0,message:"Seleccionar departamento",disabled:!1},province_id:{type:"iSelectWrite",label:"Provincia del Negocio",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!1},district_id:{type:"iSelectWrite",label:"Distrito del Negocio",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!1},observations:{type:"iTextarea",label:"Nro de Reserva / Observaciones",name:"observations",required:!1,message:"Seleccionar tipo de documento",disabled:!1}};const Le={class:"wrapper-booking"},Ye={class:"grid-booking"},Ge={__name:"FormalizacionRUC10",props:["info","idCde"],emits:["closeDraw"],setup(R,{emit:O}){const v=JSON.parse(localStorage.getItem("role")),D=Ee({props:{vnodes:{type:Object,required:!0}},render(){return this.vnodes}}),z=JSON.parse(localStorage.getItem("profile")),u=R,T=O,t=f(!1),o=f(null);f(null),f(!1);const e=te(),Y=f(!1);e.$patch({cities:e.cities}),e.$patch({provinces:e.provinces}),e.$patch({districts:e.districts}),e.$patch({modalities:e.modalities}),e.$patch({detailProcedures:e.detailProcedures}),e.$patch({economicSectors:e.economicSectors}),e.$patch({comercialActivities:e.comercialActivities}),e.fetchDetailProcedures(),e.fetchModalities(),e.fetchEconomicSectors(),e.fetchComercialActivities(),e.fetchCities();const C=f(!0),l=de({detailprocedure_id:null,modality_id:null,economicsector_id:null,comercialactivity_id:null,city_id:null,province_id:null,district_id:null,address:null,user_id:z.user_id}),F=async()=>{try{Y.value=!0;const b={name:o.value};(await Z({url:"create/comercial-activities",method:"POST",data:b})).status==200&&(o.value=null,e.fetchComercialActivities())}catch(b){console.log(b)}finally{Y.value=!1}},w=b=>{l.province_id=null,l.district_id=null,e.fetchProvinces(b)},$=b=>{l.district_id=null,e.fetchDistricts(b)},G=(b,x)=>{const s=b.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return x.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(s)},p=async()=>{if(t.value=!0,!u.info.id)return W.error("Error al registrar, actualiza la página");const b={dni:l.dni,detailprocedure_id:l.detailprocedure_id,modality_id:l.modality_id,economicsector_id:l.economicsector_id,comercialactivity_id:l.comercialactivity_id,city_id:l.city_id,province_id:l.province_id,district_id:l.district_id,address:l.address,ruc:l.ruc,user_id:z.user_id,people_id:u.info.id,cde_id:u.idCde?u.idCde:null};try{const x=await Z({url:"formalization/create-ruc-10",method:"POST",data:b});if(x.status===200){const s={razonSocial:null,ruc:l.ruc,createdFrom:"F10"};W.success(x.message),l.detailprocedure_id=null,l.modality_id=null,l.economicsector_id=null,l.comercialactivity_id=null,l.city_id=null,l.province_id=null,l.district_id=null,l.address=null,l.ruc=null,T("closeDraw",!0)}}catch(x){console.log("Error: "+x)}finally{t.value=!1}},m=()=>{W.warning("Debes de completar todos los espacios requeridos")};function h(){const{documentnumber:b,city_id:x,province_id:s,district_id:E,address:A}=u.info,j=v.some(d=>d.id===7);l.dni=b,l.city_id=x,w(x),l.province_id=s,$(s),l.district_id=E,l.address=A,j&&(l.modality_id=1),l.district_id&&setTimeout(()=>{C.value=!1},1500)}return ie(()=>{u.info&&h(u.info)}),ce(()=>u.info,b=>{b&&h()}),(b,x)=>{const s=S("a-select"),E=S("a-form-item"),A=S("a-input"),j=S("a-divider"),d=S("a-button"),r=S("a-space"),q=S("a-form"),k=S("a-spin");return c(),L("div",Le,[n(k,{spinning:C.value},{default:i(()=>[n(q,{layout:"vertical",model:l,name:"basic",autocomplete:"off",onFinish:p,onFinishFailed:m},{default:i(()=>[U("div",Ye,[(c(!0),L(J,null,pe(I($e),(_,ne)=>(c(),L(J,{key:ne},[_.type==="iSelect"?(c(),g(E,{key:0,class:"item-max",name:_.name,label:_.label,rules:[{required:_.required,message:_.message}]},{default:i(()=>[_.name=="detailprocedure_id"?(c(),g(s,{key:0,value:l[_.name],"onUpdate:value":P=>l[_.name]=P,options:I(e).detailProcedures},null,8,["value","onUpdate:value","options"])):y("",!0),_.name=="modality_id"?(c(),g(s,{key:1,disabled:_.disabled,value:l[_.name],"onUpdate:value":P=>l[_.name]=P,options:I(e).modalities},null,8,["disabled","value","onUpdate:value","options"])):y("",!0)]),_:2},1032,["name","label","rules"])):y("",!0),_.type==="iText"?(c(),g(E,{key:1,name:_.name,label:_.label,rules:[{required:_.required,message:_.message,type:"string",max:_.max},..._.name==="ruc"?[{validator:(P,X,ee)=>{X?/^(10|15|17)\d{9}$/.test(X)?ee():ee(new Error("El RUC debe comenzar con 10, 15 o 17 y tener 11 caracteres en total")):ee()}}]:[]]},{default:i(()=>[n(A,{value:l[_.name],"onUpdate:value":P=>l[_.name]=P,disabled:_.name==="dni"&&!!l[_.name],maxlength:_.max,placeholder:_.placeholder},null,8,["value","onUpdate:value","disabled","maxlength","placeholder"])]),_:2},1032,["name","label","rules"])):y("",!0),_.type==="iSelectWrite"?(c(),g(E,{key:2,class:"item-max",name:_.name,label:_.label,rules:[{required:_.required,message:_.message}]},{default:i(()=>[_.name=="comercialactivity_id"?(c(),g(s,{key:0,value:l[_.name],"onUpdate:value":P=>l[_.name]=P,"show-search":"",options:I(e).comercialActivities,"filter-option":G},{dropdownRender:i(({menuNode:P})=>[n(I(D),{vnodes:P},null,8,["vnodes"]),n(j,{style:{margin:"4px 0"}}),n(r,{style:{padding:"4px 8px"}},{default:i(()=>[n(A,{ref_for:!0,ref:"inputRef",value:o.value,"onUpdate:value":x[0]||(x[0]=X=>o.value=X),placeholder:"Nueva actividad"},null,8,["value"]),n(d,{type:"text",onClick:F,loading:Y.value},{icon:i(()=>[n(I(De))]),default:i(()=>[x[1]||(x[1]=V(" Agregar "))]),_:1},8,["loading"])]),_:1})]),_:2},1032,["value","onUpdate:value","options"])):y("",!0),_.name=="economicsector_id"?(c(),g(s,{key:1,value:l[_.name],"onUpdate:value":P=>l[_.name]=P,"show-search":"",options:I(e).economicSectors,"filter-option":G},null,8,["value","onUpdate:value","options"])):y("",!0),_.name=="city_id"?(c(),g(s,{key:2,value:l[_.name],"onUpdate:value":P=>l[_.name]=P,"show-search":"",options:I(e).cities,"filter-option":G,onChange:w},null,8,["value","onUpdate:value","options"])):y("",!0),_.name=="province_id"?(c(),g(s,{key:3,value:l[_.name],"onUpdate:value":P=>l[_.name]=P,"show-search":"",options:I(e).provinces,"filter-option":G,onChange:$,disabled:!l.city_id},null,8,["value","onUpdate:value","options","disabled"])):y("",!0),_.name=="district_id"?(c(),g(s,{key:4,value:l[_.name],"onUpdate:value":P=>l[_.name]=P,"show-search":"",options:I(e).districts,"filter-option":G,disabled:!l.province_id},null,8,["value","onUpdate:value","options","disabled"])):y("",!0)]),_:2},1032,["name","label","rules"])):y("",!0)],64))),128))]),n(E,null,{default:i(()=>[n(d,{type:"primary",class:"btn-produce","html-type":"submit",loading:t.value},{default:i(()=>x[2]||(x[2]=[V("GUARDAR")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])}}},Ve=oe(Ge,[["__scopeId","data-v-84400cbe"]]);const Be={class:"wrapper-booking"},He={class:"grid-booking"},We={__name:"AsesoriaNuevo",props:["info","idCde"],emits:["closeDraw"],setup(R,{emit:O}){const v=JSON.parse(localStorage.getItem("role")),D=R,z=O,u=te(),T=JSON.parse(localStorage.getItem("profile")),t=f(!1);f(!1),f(null),f(null),u.$patch({components:u.components}),u.$patch({componentThemes:u.componentThemes}),u.$patch({modalities:u.modalities}),u.$patch({cities:u.cities}),u.$patch({economicSectors:u.economicSectors}),u.$patch({comercialActivities:u.comercialActivities}),u.fetchEconomicSectors(),u.fetchComercialActivities(),u.fetchComponents(),u.fetchModalities(),u.fetchCities();const o=f(!0),e=de({cde_id:null,dni:null,economicsector_id:null,comercialactivity_id:null,component_id:null,theme_id:null,modality_id:null,ruc:null,city_id:null,province_id:null,district_id:null,observations:null,user_id:T.user_id}),Y=m=>{m=="ruc"&&(e[m]=e[m].replace(/\D/g,""))},C=m=>{e.theme_id=null,u.fetchComponentThemes(m)},l=m=>{e.province_id=null,e.district_id=null,u.fetchProvinces(m)},F=m=>{e.district_id=null,u.fetchDistricts(m)},w=(m,h)=>{const b=m.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return h.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(b)},$=async()=>{if(t.value=!0,!D.info.id)return W.error("Error al registrar actualiza la página");const m={dni:e.dni,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,observations:e.observations,user_id:T.user_id,people_id:D.info.id,component_id:e.component_id,theme_id:e.theme_id,modality_id:e.modality_id,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,ruc:e.ruc,cde_id:D.idCde?D.idCde:null};try{const h=await Z({url:"advisory/create",method:"POST",data:m});if(h.status===200){const b={razonSocial:null,ruc:e.ruc,createdFrom:"asesorias"};W.success(h.message),e.component_id=null,e.theme_id=null,e.modality_id=null,e.city_id=null,e.province_id=null,e.district_id=null,e.observations=null,e.ruc=null,e.economicsector_id=null,e.comercialactivity_id=null,z("closeDraw",!0)}}catch(h){console.log("Error: "+h)}finally{t.value=!1}},G=()=>{W.warning("Debes de completar todos los espacios requeridos")};function p(){const{documentnumber:m,city_id:h,province_id:b,district_id:x}=D.info,s=v.some(E=>E.id===7);e.dni=m,e.city_id=h,l(h),e.province_id=b,F(b),e.district_id=x,s&&(u.fetchComponentThemes(4),e.component_id=4,e.modality_id=1),e.district_id&&setTimeout(()=>{o.value=!1},1500)}return ie(()=>{D.info&&p(D.info)}),ce(()=>D.info,m=>{m&&p()}),(m,h)=>{const b=S("a-select"),x=S("a-form-item"),s=S("a-textarea"),E=S("a-input"),A=S("a-button"),j=S("a-form"),d=S("a-spin");return c(),L("div",Be,[n(d,{spinning:o.value},{default:i(()=>[n(j,{layout:"vertical",model:e,name:"basic",autocomplete:"off",onFinish:$,onFinishFailed:G},{default:i(()=>[U("div",He,[(c(!0),L(J,null,pe(I(Me),(r,q)=>(c(),L(J,{key:q},[r.type==="iSelect"?(c(),g(x,{key:0,class:"item-max",name:r.name,label:r.label,rules:[{required:r.required,message:r.message}]},{default:i(()=>[r.name=="modality_id"?(c(),g(b,{key:0,disabled:r.disabled,value:e[r.name],"onUpdate:value":k=>e[r.name]=k,options:I(u).modalities},null,8,["disabled","value","onUpdate:value","options"])):y("",!0)]),_:2},1032,["name","label","rules"])):y("",!0),r.type==="iTextarea"?(c(),g(x,{key:1,name:r.name,label:r.label,rules:[{required:r.required,message:r.message}]},{default:i(()=>[n(s,{value:e[r.name],"onUpdate:value":k=>e[r.name]=k,rows:3},null,8,["value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):y("",!0),r.type==="iText"?(c(),g(x,{key:2,name:r.name,label:r.label,rules:[{required:r.required,message:r.message,type:r.email,max:r.max}]},{default:i(()=>[n(E,{value:e[r.name],"onUpdate:value":k=>e[r.name]=k,maxlength:r.max,onInput:k=>Y(r.name),placeholder:r.placeholder,disabled:r.name==="dni"&&!!e[r.name]},null,8,["value","onUpdate:value","maxlength","onInput","placeholder","disabled"])]),_:2},1032,["name","label","rules"])):y("",!0),r.type==="iSelectWrite"?(c(),g(x,{key:3,class:"item-max",name:r.name,label:r.label,rules:[{required:r.required,message:r.message}]},{default:i(()=>[r.name=="city_id"?(c(),g(b,{key:0,value:e[r.name],"onUpdate:value":k=>e[r.name]=k,"show-search":"",options:I(u).cities,"filter-option":w,onChange:l},null,8,["value","onUpdate:value","options"])):y("",!0),r.name=="province_id"?(c(),g(b,{key:1,value:e[r.name],"onUpdate:value":k=>e[r.name]=k,"show-search":"",options:I(u).provinces,"filter-option":w,onChange:F,disabled:!e.city_id},null,8,["value","onUpdate:value","options","disabled"])):y("",!0),r.name=="district_id"?(c(),g(b,{key:2,value:e[r.name],"onUpdate:value":k=>e[r.name]=k,"show-search":"",options:I(u).districts,"filter-option":w,disabled:!e.province_id},null,8,["value","onUpdate:value","options","disabled"])):y("",!0),r.name=="economicsector_id"?(c(),g(b,{key:3,value:e[r.name],"onUpdate:value":k=>e[r.name]=k,"show-search":"",options:I(u).economicSectors,"filter-option":w},null,8,["value","onUpdate:value","options"])):y("",!0),r.name=="comercialactivity_id"?(c(),g(b,{key:4,value:e[r.name],"onUpdate:value":k=>e[r.name]=k,"show-search":"",options:I(u).comercialActivities,"filter-option":w},null,8,["value","onUpdate:value","options"])):y("",!0),r.name=="component_id"?(c(),g(b,{key:5,disabled:r.disabled,value:e[r.name],"onUpdate:value":k=>e[r.name]=k,"show-search":"",options:I(u).components,"filter-option":w,onChange:C},null,8,["disabled","value","onUpdate:value","options"])):y("",!0),r.name=="theme_id"?(c(),g(b,{key:6,value:e[r.name],"onUpdate:value":k=>e[r.name]=k,"show-search":"",options:I(u).componentThemes,"filter-option":w,disabled:!e.component_id},null,8,["value","onUpdate:value","options","disabled"])):y("",!0)]),_:2},1032,["name","label","rules"])):y("",!0)],64))),128))]),n(x,null,{default:i(()=>[n(A,{type:"primary",class:"btn-produce","html-type":"submit",loading:t.value},{default:i(()=>h[0]||(h[0]=[V("GUARDAR")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])}}},je=oe(We,[["__scopeId","data-v-7d34e3f3"]]);const Je={key:0},Ke={key:0},Qe={key:0},Ze={__name:"AsesoriasHistorial",props:["totaladvisories","totalformalization10","totalformalization20"],setup(R){const O=R,v=f("1"),D=[{title:"#",dataIndex:"idx",width:30,align:"center"},{title:"Fecha registro",dataIndex:"date_start",width:110,align:"center"},{title:"Asesor",dataIndex:"asesor",width:140},{title:"Componente",dataIndex:"component",width:20},{title:"Tema",dataIndex:"theme",width:100},{title:"Modalidad",dataIndex:"modality",align:"center",width:60},{title:"Ciudad",dataIndex:"city",width:40},{title:"Provincia",dataIndex:"province",width:40},{title:"Distrito",dataIndex:"district",width:40}],z=[{title:"#",dataIndex:"idx",width:30,align:"center"},{title:"Fecha registro",dataIndex:"date_start",width:110},{title:"Asesor",dataIndex:"asesor",width:140},{title:"Sector económico",dataIndex:"economicsector",width:100},{title:"Actividad comercial",dataIndex:"comercialactivity",width:100},{title:"Detalle del trámite",dataIndex:"detailprocedure",width:100},{title:"Modalidad",dataIndex:"modality",align:"center",width:100},{title:"RUC",dataIndex:"ruc",width:50},{title:"Ciudad",dataIndex:"city",width:40},{title:"Provincia",dataIndex:"province",width:40},{title:"Distrito",dataIndex:"district",width:40}],u=[{title:"#",dataIndex:"idx",width:30,align:"center"},{title:"Fecha registro",dataIndex:"date_start",width:110},{title:"Asesor",dataIndex:"asesor",width:140},{title:"Sector económico",dataIndex:"economicsector",width:100},{title:"Actividad comercial",dataIndex:"comercialactivity",width:100},{title:"Régimen",dataIndex:"regime",width:80,align:"center"},{title:"Número solicitud constancia",dataIndex:"numbernotary",width:100},{title:"Nombre empresa",dataIndex:"mypename",width:160},{title:"RUC",dataIndex:"ruc",width:80},{title:"Modalidad",dataIndex:"modality",align:"center",width:70},{title:"Ciudad",dataIndex:"city",width:30},{title:"Provincia",dataIndex:"province",width:20},{title:"Distrito",dataIndex:"district",width:20},{title:"Dirección",dataIndex:"address",width:200}],T=t=>Ue(t).format("DD/MM/YYYY HH:mm A");return(t,o)=>{const e=S("a-table"),Y=S("a-card"),C=S("a-tab-pane"),l=S("a-tabs");return c(),g(l,{activeKey:v.value,"onUpdate:activeKey":o[0]||(o[0]=F=>v.value=F),type:"card",class:"box-hist"},{default:i(()=>[n(C,{key:"1",tab:"ASESORÍAS"},{default:i(()=>[n(Y,null,{default:i(()=>[n(e,{columns:D,"data-source":O.totaladvisories,bordered:"",pagination:!1,size:"small",scroll:{x:1200},"expand-column-width":100},{bodyCell:i(({index:F,column:w,record:$})=>[w.dataIndex==="idx"?(c(),L("span",Je,H(F+1),1)):y("",!0),w.dataIndex==="date_start"?(c(),L(J,{key:1},[V(H(T($.createDate)),1)],64)):y("",!0)]),_:1},8,["data-source"])]),_:1})]),_:1}),n(C,{key:"2",tab:"RUC 10"},{default:i(()=>[n(Y,null,{default:i(()=>[n(e,{columns:z,"data-source":O.totalformalization10,bordered:"",pagination:!1,size:"small",scroll:{x:1800},"expand-column-width":100},{bodyCell:i(({index:F,column:w,record:$})=>[w.dataIndex==="idx"?(c(),L("span",Ke,H(F+1),1)):y("",!0),w.dataIndex==="date_start"?(c(),L(J,{key:1},[V(H(T($.createDate)),1)],64)):y("",!0)]),_:1},8,["data-source"])]),_:1})]),_:1}),n(C,{key:"3",tab:"RUC 20"},{default:i(()=>[n(Y,null,{default:i(()=>[n(e,{columns:u,"data-source":O.totalformalization20,bordered:"",pagination:!1,size:"small",scroll:{x:2200},"expand-column-width":100},{bodyCell:i(({index:F,column:w,record:$})=>[w.dataIndex==="idx"?(c(),L("span",Qe,H(F+1),1)):y("",!0),w.dataIndex==="date_start"?(c(),L(J,{key:1},[V(H(T($.createDate)),1)],64)):y("",!0)]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1},8,["activeKey"])}}},Xe=oe(Ze,[["__scopeId","data-v-01e75dfe"]]),ea={typedocument_id:{type:"iSelect",label:"Tipo de documento",name:"typedocument_id",required:!1,message:"Seleccionar tipo de documento",disabled:!0},documentnumber:{type:"iText",label:"Número de documento",name:"documentnumber",required:!1,message:"Escribe número de documento",disabled:!0},lastname:{type:"iText",label:"Apellido Paterno",name:"lastname",required:!0,message:"Escribir apellido",disabled:!1},middlename:{type:"iText",label:"Apellido Materno",name:"middlename",required:!0,message:"Escribir apellido",disabled:!1},name:{type:"iText",label:"Nombres",name:"name",required:!0,message:"Escribir nombre",disabled:!1},country_id:{type:"iSelect",label:"País Origen",name:"country_id",required:!0,message:"Escribir nombre",disabled:!1},city_id:{type:"iSelect",label:"Región",name:"city_id",required:!0,message:"Seleccionar una región",disabled:!1},province_id:{type:"iSelect",label:"Provincia",name:"province_id",required:!0,message:"Seleccionar provincia",disabled:!1},district_id:{type:"iSelect",label:"Distrito",name:"district_id",required:!0,message:"Seleccionar distrito",disabled:!1},address:{type:"iText",label:"Dirección",name:"address",required:!0,message:"Escribir dirección",disabled:!1},birthday:{type:"iDate",label:"Fecha de nacimiento",name:"birthday",required:!0,message:"Seleccionar fecha",disabled:!1},phone:{type:"iText",label:"Número de celular",name:"phone",required:!0,message:"Número de contacto y 9 max",max:9,disabled:!1},email:{type:"iText",label:"Correo electrónico",name:"email",required:!1,message:"Escribir un email",email:"email",disabled:!1},gender_id:{type:"iSelect",label:"Género",name:"gender_id",required:!0,message:"Seleccionar tipo de documento"},sick:{type:"iSelect",label:"¿Tiene discapacidad?",name:"sick",required:!0,message:"Seleccionar"},hasSoon:{type:"iSelect",label:"¿Tiene hijos?",name:"hasSoon",required:!0,message:"¿Tiene hijos?",disabled:!1}};const aa={class:"grid-profile"},ta="DD/MM/YYYY",ia={__name:"DrawerSolicitante.componente",props:["updateValues"],emits:["closeDraw"],setup(R,{emit:O}){Q.locale("es");const v=te();JSON.parse(localStorage.getItem("profile"));const D=O,z=R;v.$patch({typeDocuments:v.typeDocuments}),v.$patch({cities:v.countries}),v.$patch({cities:v.cities}),v.$patch({genders:v.genders}),v.fetchTypeDocuments(),v.fetchCountries(),v.fetchCities(),v.fetchGenders();const u=f(!0),T=f(!1),t=f(ea);f(null);const o=de({typedocument_id:null,documentnumber:null,lastname:null,middlename:null,name:null,city_id:null,province_id:null,district_id:null,phone:null,email:null,gender_id:null,birthday:null,sick:null,country_id:null});ie(()=>{z.updateValues&&e(z.updateValues)}),ce(()=>z.updateValues,p=>{p&&e(p)});const e=p=>{o.typedocument_id=p.typedocument_id,o.documentnumber=p.documentnumber,o.lastname=p.lastname,o.middlename=p.middlename,o.name=p.name,o.city_id=p.city_id,l(p.city_id),F(p.province_id),o.province_id=p.province_id,o.district_id=p.district_id,o.phone=p.phone,o.email=p.email,o.gender_id=p.gender_id,o.sick=p.sick,o.country_id=p.country_id?p.country_id:155,o.address=p.address,o.hasSoon=p.hasSoon,p.birthday&&(o.birthday=Q(p.birthday,"YYYY-MM-DD")),setTimeout(()=>{u.value=!1},2e3)},Y=[{value:"SI",label:"Si"},{value:"NO",label:"No"}],C=[{label:"Si",value:"yes"},{label:"No",value:"no"}],l=p=>{o.province_id=null,o.district_id=null,v.fetchProvinces(p)},F=p=>{o.district_id=null,v.fetchDistricts(p)},w=(p,m)=>{const h=p.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return m.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(h)},$=async()=>{let p={lastname:o.lastname,middlename:o.middlename,name:o.name,city_id:o.city_id,province_id:o.province_id,district_id:o.district_id,phone:o.phone,email:o.email,gender_id:o.gender_id,birthday:o.birthday?Q(o.birthday).format("YYYY-MM-DD"):null,sick:o.sick,hasSoon:o.hasSoon,country_id:o.country_id};T.value=!0;try{const m=await Z({url:`person/update/${z.updateValues.id}`,method:"PUT",data:p});W.success(m.message),D("closeDraw",!0)}catch(m){if(m.response.status==550)return W.error("El usuario ya se encuentra registrado");W.error("Error al registrar")}finally{T.value=!1}},G=()=>{W.error("Debes de completar todos los espacios requeridos")};return(p,m)=>{const h=S("a-select"),b=S("a-form-item"),x=S("a-input"),s=S("a-date-picker"),E=S("a-button"),A=S("a-form"),j=S("a-spin");return c(),g(j,{spinning:u.value},{default:i(()=>[n(A,{layout:"vertical",model:o,name:"basic",autocomplete:"off",onFinish:$,onFinishFailed:G},{default:i(()=>[U("div",aa,[(c(!0),L(J,null,pe(t.value,(d,r)=>(c(),L(J,{key:r},[d.type==="iSelect"?(c(),g(b,{key:0,class:"item-max",name:d.name,label:d.label,rules:[{required:d.required,message:d.message}]},{default:i(()=>[d.name=="typedocument_id"?(c(),g(h,{key:0,value:o[d.name],"onUpdate:value":q=>o[d.name]=q,options:I(v).typeDocuments,disabled:d.disabled},null,8,["value","onUpdate:value","options","disabled"])):y("",!0),d.name=="city_id"?(c(),g(h,{key:1,value:o[d.name],"onUpdate:value":q=>o[d.name]=q,"show-search":"",options:I(v).cities,"filter-option":w,onChange:l},null,8,["value","onUpdate:value","options"])):y("",!0),d.name=="province_id"?(c(),g(h,{key:2,value:o[d.name],"onUpdate:value":q=>o[d.name]=q,"show-search":"",options:I(v).provinces,"filter-option":w,onChange:F},null,8,["value","onUpdate:value","options"])):y("",!0),d.name=="district_id"?(c(),g(h,{key:3,value:o[d.name],"onUpdate:value":q=>o[d.name]=q,"show-search":"",options:I(v).districts,"filter-option":w},null,8,["value","onUpdate:value","options"])):y("",!0),d.name=="gender_id"?(c(),g(h,{key:4,value:o[d.name],"onUpdate:value":q=>o[d.name]=q,options:I(v).genders},null,8,["value","onUpdate:value","options"])):y("",!0),d.name=="sick"?(c(),g(h,{key:5,value:o[d.name],"onUpdate:value":q=>o[d.name]=q,options:C},null,8,["value","onUpdate:value"])):y("",!0),d.name=="hasSoon"?(c(),g(h,{key:6,value:o[d.name],"onUpdate:value":q=>o[d.name]=q,options:Y},null,8,["value","onUpdate:value"])):y("",!0),d.name=="country_id"?(c(),g(h,{key:7,value:o[d.name],"onUpdate:value":q=>o[d.name]=q,options:I(v).countries,"show-search":"","filter-option":w},null,8,["value","onUpdate:value","options"])):y("",!0)]),_:2},1032,["name","label","rules"])):y("",!0),d.type==="iText"?(c(),g(b,{key:1,name:d.name,label:d.label,rules:[{required:d.required,message:d.message,type:d.email}]},{default:i(()=>[n(x,{value:o[d.name],"onUpdate:value":q=>o[d.name]=q,maxlength:d.max,disabled:d.disabled},null,8,["value","onUpdate:value","maxlength","disabled"])]),_:2},1032,["name","label","rules"])):y("",!0),d.type==="iDate"?(c(),g(b,{key:2,name:d.name,label:d.label,rules:[{required:d.required,message:d.message}]},{default:i(()=>[n(s,{locale:I(Ne),value:o[d.name],"onUpdate:value":q=>o[d.name]=q,style:{width:"100%"},format:ta,placeholder:"día/mes/año"},null,8,["locale","value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):y("",!0)],64))),128))]),n(b,null,{default:i(()=>[n(E,{class:"btn-produce",type:"primary","html-type":"submit",loading:T.value},{default:i(()=>m[0]||(m[0]=[V("GUARDAR")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])}}},oa=oe(ia,[["__scopeId","data-v-13b8c7ad"]]);const na={class:"asesorias"},la={class:"wrapper-s"},sa={key:0,class:"card-as",style:{padding:"1rem"}},ra={__name:"AsesoriasFormalizaciones",setup(R){const O=JSON.parse(localStorage.getItem("role")),v=()=>O.some(B=>B.id===7||B.id===13),D=te(),z=Re(),u=Ae(),T=f(0),t=f(null),o=f(null),e=f([{value:"asesoria",label:"ASESORÍA"},{value:"ruc20",label:"RUC 20"},{value:"ruc10",label:"RUC 10"}]);D.$patch({cdes:D.cdes}),D.fetchCdes();const Y=f(null),C=f(!1),l=f(null);f(!1);const F=f(!1);f(!1);const w=f(!1),$=f(!1),G=f(!1),p=f(""),m=f([]),h=f(!1),b=f(0);f(!1);const x=f([]);f(null);const s=f([]),E=f([]),A=f([]),j=f(!1),d=B=>{o.value.cde_id=B,localStorage.setItem("profile",JSON.stringify(o.value))},r=(B,a)=>{const K=B.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return a.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(K)},q=()=>{ve(p.value),C.value=!1},k=()=>{ne()},_=()=>{p.value=p.value.replace(/\D/g,"")},ne=()=>{j.value=!1,p.value="",m.value=[],x.value=[],z.push({name:"asesorias-formalizaciones"})},P=()=>{if(l.value=null,l.value=m.value,!t.value)return W.warning("Seleccionar un tipo de servicio");t.value=="asesoria"&&(G.value=!0),t.value=="ruc10"&&($.value=!0),t.value=="ruc20"&&ee()},X=()=>{Y.value=m.value,C.value=!0},ee=()=>{b.value=0,w.value=!0,F.value=!1},le=async()=>{h.value=!0;const B=await Z({url:`person/found/${T.value}/${p.value}`,method:"GET"});if(B.status==200)return m.value=B.data,fe(m.value.id),h.value=!1},ve=async B=>{if(h.value=!0,!B)return W.warning("Ingresa un número de documento"),h.value=!1;if(T.value==0)return W.warning("Seleccionar el tipo de documento"),h.value=!1;if(T.value==1&&p.value.length<8){W.warning("El número de DNI está incompleto"),h.value=!1;return}const a=await Z({url:`person/found/${T.value}/${p.value}`,method:"GET"});if(a.status==200)return m.value=a.data,fe(a.data.id),o.value=JSON.parse(localStorage.getItem("profile")),h.value=!1;if(a.status===404){const K={type:T.value,access:"asesorias",number:p.value};z.push({name:"registrar-persona",query:K})}},fe=async B=>{try{const{data:a}=await Z({url:`historial/registers/${B}`,method:"GET"});s.value=a.advisories,E.value=a.formalization10,A.value=a.formalization20,j.value=!0}catch(a){console.error("Error de red:",a)}};return ie(()=>{u.query.type&&(T.value=u.query.type,p.value=u.query.number)}),(B,a)=>{const K=S("a-radio"),ae=S("a-tooltip"),he=S("a-radio-group"),Se=S("a-input-search"),ue=S("a-card"),M=S("a-col"),se=S("a-row"),ye=S("a-select"),xe=S("a-button"),re=S("a-drawer");return c(),L(J,null,[U("div",na,[a[32]||(a[32]=U("h3",{class:"title-produce"},"REGISTRO DE FORMALIZACIONES Y ASESORÍAS",-1)),a[33]||(a[33]=U("br",null,null,-1)),n(ue,{class:"card-as card-gray"},{default:i(()=>[I(u).query.dni?(c(),g(I(ze),{key:0,class:"ico-reload",onClick:k})):y("",!0),U("div",la,[U("div",null,[a[19]||(a[19]=U("label",{class:"label"},"Seleccione el tipo de documento",-1)),n(he,{value:T.value,"onUpdate:value":a[0]||(a[0]=N=>T.value=N),onChange:ne,class:"radio-produce"},{default:i(()=>[n(ae,{color:"cyan"},{title:i(()=>a[11]||(a[11]=[V("Documento Nacional de Identidad")])),default:i(()=>[n(K,{value:"1"},{default:i(()=>a[12]||(a[12]=[V("DNI")])),_:1})]),_:1}),n(ae,{color:"cyan"},{title:i(()=>a[13]||(a[13]=[V("Carnet de Extranjería")])),default:i(()=>[n(K,{value:"2"},{default:i(()=>a[14]||(a[14]=[V("CE")])),_:1})]),_:1}),n(ae,{color:"cyan"},{title:i(()=>a[15]||(a[15]=[V("Pasaporte")])),default:i(()=>[n(K,{value:"3"},{default:i(()=>a[16]||(a[16]=[V("PAS")])),_:1})]),_:1}),n(ae,{color:"cyan"},{title:i(()=>a[17]||(a[17]=[V("Permiso Temporal de Permanencia")])),default:i(()=>[n(K,{value:"4"},{default:i(()=>a[18]||(a[18]=[V("PTP")])),_:1})]),_:1})]),_:1},8,["value"])]),U("div",null,[a[20]||(a[20]=U("label",{class:"label"},"Digite el número de documento",-1)),n(Se,{"enter-button":"BUSCAR",value:p.value,"onUpdate:value":a[1]||(a[1]=N=>p.value=N),placeholder:"",loading:h.value,onSearch:ve,onInput:_,class:"search-produce",maxlength:T.value==1?8:20},null,8,["value","loading","maxlength"])])])]),_:1}),n(se,{gutter:[16,16]},{default:i(()=>[n(M,{xs:24,sm:24,lg:12},{default:i(()=>[m.value.length!=0?(c(),g(ue,{key:0},{default:i(()=>[a[27]||(a[27]=U("h4",{class:"title-produce"},"RESULTADO DE LA BÚSQUEDA",-1)),n(I(qe),{class:"box-icoedit",onClick:X}),n(se,{gutter:[0,2],class:"box-info"},{default:i(()=>[n(M,{xs:12,sm:8},{default:i(()=>a[21]||(a[21]=[U("b",{class:"box-title"},"Apellidos y nombres:",-1)])),_:1}),n(M,{xs:12,sm:12},{default:i(()=>[U("span",null,H(m.value.lastname)+" "+H(m.value.middlename)+", "+H(m.value.name),1)]),_:1}),n(M,{xs:12,sm:8},{default:i(()=>a[22]||(a[22]=[U("b",{class:"box-title"},"Número de celular:",-1)])),_:1}),n(M,{xs:12,sm:12},{default:i(()=>[U("span",null,H(m.value.phone?m.value.phone:"-"),1)]),_:1}),n(M,{xs:12,sm:8},{default:i(()=>a[23]||(a[23]=[U("b",{class:"box-title"},"Correo electrónico:",-1)])),_:1}),n(M,{xs:12,sm:12},{default:i(()=>[U("span",null,H(m.value.email?m.value.email:"-"),1)]),_:1}),n(M,{xs:12,sm:8},{default:i(()=>a[24]||(a[24]=[U("b",{class:"box-title"},"Asesorías:",-1)])),_:1}),n(M,{xs:12,sm:12},{default:i(()=>{var N;return[U("span",null,H((N=m.value)==null?void 0:N.idadvisory.length),1)]}),_:1}),n(M,{xs:12,sm:8},{default:i(()=>a[25]||(a[25]=[U("b",{class:"box-title"},"Formalizaciones RUC 20:",-1)])),_:1}),n(M,{xs:12,sm:12},{default:i(()=>{var N;return[U("span",null,H((N=m.value)==null?void 0:N.idformalization20.length),1)]}),_:1}),n(M,{xs:12,sm:8},{default:i(()=>a[26]||(a[26]=[U("b",{class:"box-title"},"Formalizaciones RUC 10:",-1)])),_:1}),n(M,{xs:12,sm:12},{default:i(()=>{var N;return[U("span",null,H((N=m.value)==null?void 0:N.idformalization10.length),1)]}),_:1})]),_:1})]),_:1})):y("",!0)]),_:1}),n(M,{xs:24,sm:24,lg:12},{default:i(()=>[m.value.length!=0?(c(),g(ue,{key:0,style:{height:"100%"}},{default:i(()=>[n(se,{gutter:[16,24]},{default:i(()=>[v()?y("",!0):(c(),g(M,{key:0,xs:24,sm:18,md:12,lg:12},{default:i(()=>[a[28]||(a[28]=U("h4",{class:"title-produce"},"SELECCIONAR CDE",-1)),n(ye,{class:"w-100",value:o.value.cde_id,"onUpdate:value":a[2]||(a[2]=N=>o.value.cde_id=N),options:I(D).cdes,"show-search":"","filter-option":r,onChange:d},null,8,["value","options"])]),_:1})),n(M,{xs:24,sm:18,md:12,lg:17},{default:i(()=>[a[30]||(a[30]=U("h4",{class:"title-produce"},"¿DESEA REGISTRAR UN NUEVO SERVICIO?",-1)),n(se,{gutter:[10,0]},{default:i(()=>[n(M,{xs:17,sm:18},{default:i(()=>[n(ye,{class:"w-100",value:t.value,"onUpdate:value":a[3]||(a[3]=N=>t.value=N),options:e.value},null,8,["value","options"])]),_:1}),n(M,{xs:6},{default:i(()=>[n(xe,{type:"primary",onClick:P},{default:i(()=>a[29]||(a[29]=[V("REGISTRAR")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):y("",!0)]),_:1})]),_:1}),j.value?(c(),L("div",sa,[a[31]||(a[31]=U("h4",{class:"title-produce"},"HISTORIAL",-1)),n(Xe,{totaladvisories:s.value,totalformalization10:E.value,totalformalization20:A.value},null,8,["totaladvisories","totalformalization10","totalformalization20"])])):y("",!0)]),U("section",null,[n(re,{title:"Regitsrar una Formalización con RUC 20",open:w.value,"onUpdate:open":a[5]||(a[5]=N=>w.value=N),placement:"right",width:"500px"},{default:i(()=>[n(Fe,{info:l.value,idCde:o.value.cde_id,onCloseDraw:a[4]||(a[4]=N=>(w.value=!1,le()))},null,8,["info","idCde"])]),_:1},8,["open"]),n(re,{width:"600px",title:"Regitsrar Formalización con RUC 10",open:$.value,"onUpdate:open":a[7]||(a[7]=N=>$.value=N),placement:"right"},{default:i(()=>[n(Ve,{info:m.value,idCde:o.value.cde_id,onCloseDraw:a[6]||(a[6]=N=>($.value=!1,le()))},null,8,["info","idCde"])]),_:1},8,["open"]),n(re,{width:"600px",title:"Registrar una asesoría",open:G.value,"onUpdate:open":a[9]||(a[9]=N=>G.value=N),placement:"right"},{default:i(()=>[n(je,{info:m.value,idCde:o.value.cde_id,onCloseDraw:a[8]||(a[8]=N=>(G.value=!1,le()))},null,8,["info","idCde"])]),_:1},8,["open"]),n(re,{width:"600",open:C.value,"onUpdate:open":a[10]||(a[10]=N=>C.value=N),class:"draw-notary","root-class-name":"root-class-name",title:"Datos del solicitante",placement:"right"},{default:i(()=>[n(oa,{onCloseDraw:q,updateValues:Y.value},null,8,["updateValues"])]),_:1},8,["open"])])],64)}}},va=oe(ra,[["__scopeId","data-v-4a5811d0"]]);export{va as default};
