import{c as n,A as re,r as b,a as Q,l as X,b as d,o as t,d as g,w as l,e as _,F as E,z as V,i as O,B as f,y as p,Q as ie,j as N,R as ue,h as z,m as G,f as Z,M as de,N as ce,u as me,v as pe,t as L,q as ae,p as _e,k as ve,P as be}from"./index-302d1fe3.js";import{e as te,r as fe,m as ne}from"./selects-1ceaf713.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";var ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"};const ge=ye;function se(x){for(var k=1;k<arguments.length;k++){var w=arguments[k]!=null?Object(arguments[k]):{},o=Object.keys(w);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(w).filter(function(D){return Object.getOwnPropertyDescriptor(w,D).enumerable}))),o.forEach(function(D){he(x,D,w[D])})}return x}function he(x,k,w){return k in x?Object.defineProperty(x,k,{value:w,enumerable:!0,configurable:!0,writable:!0}):x[k]=w,x}var oe=function(k,w){var o=se({},k,w.attrs);return n(re,se({},o,{icon:ge}),null)};oe.displayName="FormOutlined";oe.inheritAttrs=!1;const Se=oe,ke={code_sid_sunarp:{type:"iText",label:"Código SID sunarp",name:"code_sid_sunarp",required:!0,message:"Escribir apellido",disabled:!1},economy_sector:{type:"iSelect",label:"Sector económico",name:"economy_sector",required:!0,message:"Seleccionar tipo de documento",disabled:!1},category:{type:"iSelectWrite",label:"Actividad comercial",name:"category",required:!0,message:"Seleccionar tipo de documento",disabled:!1},department:{type:"iSelectWrite",label:"Departamento",name:"department",required:!0,message:"Seleccionar departamento",disabled:!1},province:{type:"iSelectWrite",label:"Provincia",name:"province",required:!0,message:"Seleccionar provincia",disabled:!1},district:{type:"iSelectWrite",label:"Distrito",name:"district",required:!0,message:"Seleccionar distrito",disabled:!1},address:{type:"iText",label:"Dirección del negocio",name:"address",required:!1,message:"Escribir apellido",disabled:!1}},Ue={social_reason:{type:"iText",label:"Nombre empresa",name:"social_reason",required:!0,message:"Escribir apellido",disabled:!1},type_regimen:{type:"iSelect",label:"Tipo de régimen societario",name:"type_regimen",required:!0,message:"Seleccionar tipo de documento",disabled:!1},num_notary:{type:"iText",label:"Número de solicitud de envio a Notaría",name:"num_notary",required:!1,message:"Seleccionar departamento",disabled:!1},id_notary:{type:"iSelect",label:"Notaría",name:"id_notary",required:!1,message:"Seleccionar notaría",disabled:!1},modality:{type:"iSelect",label:"Modalidad de atención",name:"modality",required:!1,message:"Seleccionar modalidad",disabled:!1}},qe={ruc:{type:"iText",label:"Número de RUC",name:"ruc",required:!0,message:"Escribir número de RUC",disabled:!1,max:9,min:9}},we={details:{type:"iText",label:"Detalle del trámite",name:"details",required:!0,message:"Escribir número de RUC",disabled:!1},modality:{type:"iSelect",label:"Modalidad de atención",name:"modality",required:!1,message:"Seleccionar modalidad",disabled:!1},commercial:{type:"iSelect",label:"Actividad comercial",name:"commercial",required:!1,message:"Seleccionar modalidad",disabled:!1},economic_sector:{type:"iSelect",label:"Sector económico",name:"economic_sector",required:!0,message:"Seleccionar tipo de documento",disabled:!1}},xe={component:{type:"iSelect",label:"Componente",name:"component",required:!1,message:"Seleccionar modalidad",disabled:!1},tema_compoment:{type:"iSelect",label:"Tema del componente",name:"tema_compoment",required:!1,message:"Seleccionar modalidad",disabled:!1},description:{type:"iTextarea",label:"Sector económico",name:"description",required:!0,message:"Seleccionar tipo de documento",disabled:!1}};const De={class:"wrapper-booking"},Fe={class:"grid-booking"},Ae={__name:"ReservaNombre",props:["info"],emits:["closeDraw"],setup(x,{emit:k}){const w=ue({props:{vnodes:{type:Object,required:!0}},render(){return this.vnodes}}),o=JSON.parse(localStorage.getItem("user")),D=x,A=k,F=b([]),a=b([]),q=b([]),U=b([]),y=b(!1),u=b(),C=b(!1),s=Q({id_person:null,dni:null,step:1,code_sid_sunarp:null,economy_sector:null,department:null,province:null,district:null,address:null,created_by:o.id}),R=async()=>{C.value=!0;try{await z({url:"/create-comercial-activities",method:"POST",data:{name:u.value}}),j(),u.value=""}catch{G.error("Error al registrar")}finally{C.value=!1}},P=async()=>{s.id_person=D.info.id,s.dni=D.info.dni,y.value=!0;const v={number:D.info.dni,id_post:3};try{const c=await z({url:"/formalization20",method:"POST",data:s});await z({url:"/person-post",method:"POST",data:v}),c&&(G.success("Registro exitoso"),s.code_sid_sunarp=null,s.economy_sector=null,s.department=null,s.province=null,s.district=null,s.address=null,A("closeDraw",!0))}catch{G.error("Error al registrar")}finally{y.value=!1}},e=()=>{G.error("Debes de completar todos los espacios requeridos")},$=(v,c)=>{const i=v.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return c.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(i)},h=async()=>{try{const{data:v}=await Z({url:"/departaments",method:"GET"});let c=v.map(i=>({label:i.label,value:i.id}));F.value=[...F.value,...c]}catch(v){console.log(v)}},H=async v=>{s.province=null,s.district=null,a.value=[],q.value=[];try{const{data:c}=await Z({url:`/province/${v}`,method:"GET"});let i=c.map(I=>({label:I.label,value:I.id}));a.value=[...a.value,...i]}catch(c){console.log(c)}},r=async v=>{s.district=null,q.value=[];try{const{data:c}=await Z({url:`/district/${v}`,method:"GET"});let i=c.map(I=>({label:I.label,value:I.id}));q.value=[...q.value,...i]}catch(c){console.log(c)}},j=async()=>{try{const{data:v}=await z({url:"/comercial-activities",method:"GET"});U.value=v}catch(v){console.log(v)}};return X(()=>{h(),j()}),(v,c)=>{const i=d("a-select"),I=d("a-form-item"),W=d("a-divider"),K=d("a-input"),ee=d("a-button"),Y=d("a-space"),J=d("a-form");return t(),g("div",De,[n(J,{layout:"vertical",model:s,name:"basic",autocomplete:"off",onFinish:P,onFinishFailed:e},{default:l(()=>[_("div",Fe,[(t(!0),g(E,null,V(O(ke),(m,S)=>(t(),g(E,{key:S},[m.type==="iSelect"?(t(),f(I,{key:0,class:"item-max",name:m.name,label:m.label,rules:[{required:m.required,message:m.message}]},{default:l(()=>[m.name=="economy_sector"?(t(),f(i,{key:0,value:s[m.name],"onUpdate:value":T=>s[m.name]=T,options:O(te)},null,8,["value","onUpdate:value","options"])):p("",!0)]),_:2},1032,["name","label","rules"])):p("",!0),m.type==="iSelectWrite"?(t(),f(I,{key:1,class:"item-max",name:m.name,label:m.label,rules:[{required:m.required,message:m.message}]},{default:l(()=>[m.name=="category"?(t(),f(i,{key:0,value:s[m.name],"onUpdate:value":T=>s[m.name]=T,"show-search":"",options:U.value,"filter-option":$},{dropdownRender:l(({menuNode:T})=>[n(O(w),{vnodes:T},null,8,["vnodes"]),n(W,{style:{margin:"4px 0"}}),n(Y,{style:{padding:"4px 8px"}},{default:l(()=>[n(K,{ref_for:!0,ref:"inputRef",value:u.value,"onUpdate:value":c[0]||(c[0]=le=>u.value=le),placeholder:"Nueva actividad"},null,8,["value"]),n(ee,{type:"text",onClick:R,loading:C.value},{icon:l(()=>[n(O(ie))]),default:l(()=>[N(" Agregar ")]),_:1},8,["loading"])]),_:1})]),_:2},1032,["value","onUpdate:value","options"])):p("",!0),m.name=="department"?(t(),f(i,{key:1,value:s[m.name],"onUpdate:value":T=>s[m.name]=T,"show-search":"",options:F.value,"filter-option":$,onChange:H},null,8,["value","onUpdate:value","options"])):p("",!0),m.name=="province"?(t(),f(i,{key:2,value:s[m.name],"onUpdate:value":T=>s[m.name]=T,"show-search":"",options:a.value,"filter-option":$,onChange:r},null,8,["value","onUpdate:value","options"])):p("",!0),m.name=="district"?(t(),f(i,{key:3,value:s[m.name],"onUpdate:value":T=>s[m.name]=T,"show-search":"",options:q.value,"filter-option":$},null,8,["value","onUpdate:value","options"])):p("",!0)]),_:2},1032,["name","label","rules"])):p("",!0),m.type==="iText"?(t(),f(I,{key:2,name:m.name,label:m.label,rules:[{required:m.required,message:m.message,type:m.email,max:m.max}]},{default:l(()=>[n(K,{value:s[m.name],"onUpdate:value":T=>s[m.name]=T,disabled:m.disabled},null,8,["value","onUpdate:value","disabled"])]),_:2},1032,["name","label","rules"])):p("",!0)],64))),128))]),n(I,null,{default:l(()=>[n(ee,{type:"primary","html-type":"submit",loading:y.value},{default:l(()=>[N("GUARDAR")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},Ce=B(Ae,[["__scopeId","data-v-9c0202ac"]]);const Re={class:"wrapper-booking"},Ne={class:"grid-booking"},Te={__name:"ActoConstitutivo",props:["info"],emits:["closeDraw"],setup(x,{emit:k}){const w=JSON.parse(localStorage.getItem("user")),o=x,D=k,A=b([]),F=b(!1),a=Q({id_person:null,dni:null,step:2,code_sid_sunarp:null,social_reason:null,type_regimen:null,num_notary:null,id_notary:null,modality:null,updated_by:w.id}),q=async()=>{a.id_person=o.info.id_person,a.dni=o.info.dni,a.code_sid_sunarp=o.info.code_sid_sunarp,F.value=!0;try{const u=await z({url:"/formalization20",method:"POST",data:a});u&&(G.success(u.message),a.social_reason=null,a.type_regimen=null,a.id_notary=null,a.num_notary=null,a.modality=null,D("closeDraw",!0))}catch{G.error("Error al registrar")}finally{F.value=!1}},U=()=>{G.error("Debes de completar todos los espacios requeridos")},y=async()=>{try{const{data:u}=await z({url:"/notaries-select",method:"GET"});A.value=u}catch(u){console.log(u)}};return X(async()=>{await y()}),(u,C)=>{const s=d("a-select"),R=d("a-form-item"),P=d("a-input-search"),e=d("a-input"),$=d("a-date-picker"),h=d("a-button"),H=d("a-form");return t(),g("div",Re,[n(H,{layout:"vertical",model:a,name:"basic",autocomplete:"off",onFinish:q,onFinishFailed:U},{default:l(()=>[_("div",Ne,[(t(!0),g(E,null,V(O(Ue),(r,j)=>(t(),g(E,{key:j},[r.type==="iSelect"?(t(),f(R,{key:0,class:"item-max",name:r.name,label:r.label,rules:[{required:r.required,message:r.message}]},{default:l(()=>[r.name=="type_regimen"?(t(),f(s,{key:0,value:a[r.name],"onUpdate:value":v=>a[r.name]=v,options:O(fe),disabled:r.disabled},null,8,["value","onUpdate:value","options","disabled"])):p("",!0),r.name=="id_notary"?(t(),f(s,{key:1,value:a[r.name],"onUpdate:value":v=>a[r.name]=v,options:A.value,disabled:r.disabled},null,8,["value","onUpdate:value","options","disabled"])):p("",!0),r.name=="modality"?(t(),f(s,{key:2,value:a[r.name],"onUpdate:value":v=>a[r.name]=v,options:O(ne),disabled:r.disabled},null,8,["value","onUpdate:value","options","disabled"])):p("",!0)]),_:2},1032,["name","label","rules"])):p("",!0),r.type==="iSearch"?(t(),f(R,{key:1,class:"item-max",name:r.name,label:r.label,rules:[{required:r.required,message:r.message}]},{default:l(()=>[n(P,{maxlength:15,loading:u.searchLoading,value:a[r.name],"onUpdate:value":v=>a[r.name]=v,onSearch:u.handleSearchApi,onInput:u.validateNumber},null,8,["loading","value","onUpdate:value","onSearch","onInput"])]),_:2},1032,["name","label","rules"])):p("",!0),r.type==="iText"?(t(),f(R,{key:2,name:r.name,label:r.label,rules:[{required:r.required,message:r.message,type:r.email,max:r.max}]},{default:l(()=>[n(e,{value:a[r.name],"onUpdate:value":v=>a[r.name]=v,disabled:r.disabled},null,8,["value","onUpdate:value","disabled"])]),_:2},1032,["name","label","rules"])):p("",!0),r.type==="iDate"?(t(),f(R,{key:3,name:r.name,label:r.label,rules:[{required:r.required,message:r.message}]},{default:l(()=>[n($,{locale:u.locale,value:u.birthdateDate,"onUpdate:value":C[0]||(C[0]=v=>u.birthdateDate=v),style:{width:"100%"},format:u.dateFormat,disabled:r.disabled},null,8,["locale","value","format","disabled"])]),_:2},1032,["name","label","rules"])):p("",!0)],64))),128))]),n(R,null,{default:l(()=>[n(h,{type:"primary","html-type":"submit",loading:F.value},{default:l(()=>[N("GUARDAR")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},Oe=B(Te,[["__scopeId","data-v-e1e3c0e4"]]);const $e={class:"wrapper-booking"},Ie={class:"grid-booking"},ze={class:"emp-20"},Ee={__name:"MypeFinal",props:["info"],emits:["closeDraw"],setup(x,{emit:k}){const w=JSON.parse(localStorage.getItem("user")),o=x,D=k,A=b(!1),F=b(!0),a=Q({id_person:null,dni:null,step:3,code_sid_sunarp:null,ruc:null,updated_by:w.id}),q=async()=>{a.id_person=o.info.id_person,a.dni=o.info.dni,a.code_sid_sunarp=o.info.code_sid_sunarp,a.ruc=`20${a.ruc}`,A.value=!0,F.value=!1;const y={ruc:a.ruc,social_reason:o.info.social_reason,category:o.info.category,person_type:2,economic_sector:o.info.economy_sector,department:o.info.department,province:o.info.province,district:o.info.district,address:o.info.address,email:null,phone:null,created_by:1,update_by:1,status:1},u={number:o.info.dni,id_post:4};try{const C=await z({url:"/formalization20",method:"POST",data:a});await z({url:"/formalization-company",method:"POST",data:y}),await z({url:"/person-post",method:"POST",data:u}),G.success(C.message),a.ruc=null,D("closeDraw",!0)}catch{G.error("Error al registrar")}finally{A.value=!1}},U=()=>{G.error("Debes de completar todos los espacios requeridos")};return(y,u)=>{const C=d("a-input"),s=d("a-form-item"),R=d("a-button"),P=d("a-form");return t(),g("div",$e,[n(P,{layout:"vertical",model:a,name:"basic",autocomplete:"off",onFinish:q,onFinishFailed:U},{default:l(()=>[_("div",Ie,[(t(!0),g(E,null,V(O(qe),(e,$)=>(t(),g(E,{key:$},[e.type==="iText"?(t(),f(s,{key:0,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,type:e.email,max:e.max,min:e.min}]},{default:l(()=>[n(C,{value:a[e.name],"onUpdate:value":h=>a[e.name]=h,disabled:e.disabled},{prefix:l(()=>[de(_("span",ze,"20",512),[[ce,F.value]])]),_:2},1032,["value","onUpdate:value","disabled"])]),_:2},1032,["name","label","rules"])):p("",!0)],64))),128))]),n(s,null,{default:l(()=>[n(R,{type:"primary","html-type":"submit",loading:A.value},{default:l(()=>[N("GUARDAR")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},Pe=B(Ee,[["__scopeId","data-v-e48e936f"]]);const Ge={class:"wrapper-booking"},Me={class:"grid-booking"},Le={__name:"FormalizacionRUC10",setup(x){const k=b([]);b([]),b([]);const w=b(!1),o=Q({document_type:"dni",number_document:null,last_name:null,middle_name:null,name:null,department:null,province:null,district:null,phone:null,email:null,birthdate:null,gender:null,lession:null}),D=async()=>{},A=()=>{};return X(async()=>{try{const{data:a}=await Z({url:"/departaments",method:"GET"});let q=a.map(U=>({label:U.label,value:U.id}));k.value=[...k.value,...q]}catch(a){console.log(a)}}),(a,q)=>{const U=d("a-select"),y=d("a-form-item"),u=d("a-input-search"),C=d("a-input"),s=d("a-date-picker"),R=d("a-button"),P=d("a-form");return t(),g("div",Ge,[n(P,{layout:"vertical",model:o,name:"basic",autocomplete:"off",onFinish:D,onFinishFailed:A},{default:l(()=>[_("div",Me,[(t(!0),g(E,null,V(O(we),(e,$)=>(t(),g(E,{key:$},[e.type==="iSelect"?(t(),f(y,{key:0,class:"item-max",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:l(()=>[e.name=="modality"?(t(),f(U,{key:0,value:o[e.name],"onUpdate:value":h=>o[e.name]=h,options:O(ne),disabled:e.disabled},null,8,["value","onUpdate:value","options","disabled"])):p("",!0),e.name=="economic_sector"?(t(),f(U,{key:1,value:o[e.name],"onUpdate:value":h=>o[e.name]=h,options:O(te),disabled:e.disabled},null,8,["value","onUpdate:value","options","disabled"])):p("",!0)]),_:2},1032,["name","label","rules"])):p("",!0),e.type==="iSearch"?(t(),f(y,{key:1,class:"item-max",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:l(()=>[n(u,{maxlength:15,loading:a.searchLoading,value:o[e.name],"onUpdate:value":h=>o[e.name]=h,onSearch:a.handleSearchApi,onInput:a.validateNumber},null,8,["loading","value","onUpdate:value","onSearch","onInput"])]),_:2},1032,["name","label","rules"])):p("",!0),e.type==="iText"?(t(),f(y,{key:2,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,type:e.email,max:e.max}]},{default:l(()=>[n(C,{value:o[e.name],"onUpdate:value":h=>o[e.name]=h,disabled:e.disabled},null,8,["value","onUpdate:value","disabled"])]),_:2},1032,["name","label","rules"])):p("",!0),e.type==="iDate"?(t(),f(y,{key:3,name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:l(()=>[n(s,{locale:a.locale,value:a.birthdateDate,"onUpdate:value":q[0]||(q[0]=h=>a.birthdateDate=h),style:{width:"100%"},format:a.dateFormat,disabled:e.disabled},null,8,["locale","value","format","disabled"])]),_:2},1032,["name","label","rules"])):p("",!0)],64))),128))]),n(y,null,{default:l(()=>[n(R,{type:"primary","html-type":"submit",loading:w.value},{default:l(()=>[N("GUARDAR")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},Ve=B(Le,[["__scopeId","data-v-efde2ea4"]]);const je={class:"wrapper-booking"},Be={class:"grid-booking"},He={__name:"AsesoriaNuevo",setup(x){const k=b([]);b([]),b([]);const w=b(!1),o=Q({document_type:"dni",number_document:null,last_name:null,middle_name:null,name:null,department:null,province:null,district:null,phone:null,email:null,birthdate:null,gender:null,lession:null}),D=async()=>{},A=()=>{};return X(async()=>{try{const{data:a}=await Z({url:"/departaments",method:"GET"});let q=a.map(U=>({label:U.label,value:U.id}));k.value=[...k.value,...q]}catch(a){console.log(a)}}),(a,q)=>{const U=d("a-select"),y=d("a-form-item"),u=d("a-input-search"),C=d("a-input"),s=d("a-textarea"),R=d("a-button"),P=d("a-form");return t(),g("div",je,[n(P,{layout:"vertical",model:o,name:"basic",autocomplete:"off",onFinish:D,onFinishFailed:A},{default:l(()=>[_("div",Be,[(t(!0),g(E,null,V(O(xe),(e,$)=>(t(),g(E,{key:$},[e.type==="iSelect"?(t(),f(y,{key:0,class:"item-max",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:l(()=>[e.name=="component"?(t(),f(U,{key:0,value:o[e.name],"onUpdate:value":h=>o[e.name]=h,options:O(ne),disabled:e.disabled},null,8,["value","onUpdate:value","options","disabled"])):p("",!0),e.name=="tema_compoment"?(t(),f(U,{key:1,value:o[e.name],"onUpdate:value":h=>o[e.name]=h,options:O(te),disabled:e.disabled},null,8,["value","onUpdate:value","options","disabled"])):p("",!0)]),_:2},1032,["name","label","rules"])):p("",!0),e.type==="iSearch"?(t(),f(y,{key:1,class:"item-max",name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:l(()=>[n(u,{maxlength:15,loading:a.searchLoading,value:o[e.name],"onUpdate:value":h=>o[e.name]=h,onSearch:a.handleSearchApi,onInput:a.validateNumber},null,8,["loading","value","onUpdate:value","onSearch","onInput"])]),_:2},1032,["name","label","rules"])):p("",!0),e.type==="iText"?(t(),f(y,{key:2,name:e.name,label:e.label,rules:[{required:e.required,message:e.message,type:e.email,max:e.max}]},{default:l(()=>[n(C,{value:o[e.name],"onUpdate:value":h=>o[e.name]=h,disabled:e.disabled},null,8,["value","onUpdate:value","disabled"])]),_:2},1032,["name","label","rules"])):p("",!0),e.type==="iTextarea"?(t(),f(y,{key:3,name:e.name,label:e.label,rules:[{required:e.required,message:e.message}]},{default:l(()=>[n(s,{value:o[e.name],"onUpdate:value":h=>o[e.name]=h,rows:4},null,8,["value","onUpdate:value"])]),_:2},1032,["name","label","rules"])):p("",!0)],64))),128))]),n(y,null,{default:l(()=>[n(R,{type:"primary","html-type":"submit",loading:w.value},{default:l(()=>[N("GUARDAR")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},We=B(He,[["__scopeId","data-v-e43addce"]]);const M=x=>(_e("data-v-cbb4530b"),x=x(),ve(),x),Ye={class:"ugo"},Je={key:0},Ze={key:1},Qe={key:2},Xe={key:3},Ke={class:"ugo-search"},ea=M(()=>_("label",{class:"label"},"Ingresar número de documento",-1)),aa={key:4,class:"ugo-info"},ta=M(()=>_("b",null,"Apellidos y nombres:",-1)),na={class:"name-edit"},oa=M(()=>_("b",null,"Número de celular:",-1)),la=M(()=>_("b",null,"Correo electrónico:",-1)),sa={key:0,class:"group-buttons"},ra={class:"steps-content"},ia={key:3},ua=["onClick"],da={key:0},ca=M(()=>_("b",null,"Paso",-1)),ma={key:1},pa=M(()=>_("b",null,"Siguiente paso",-1)),_a={key:2},va=M(()=>_("b",null,"Siguiente paso",-1)),ba=M(()=>_("b",null,"Código SID SUNARP",-1)),fa=M(()=>_("b",null,"Última consulta",-1)),ya=M(()=>_("div",{style:{"text-align":"center"}},"NUEVO TRÁMITE",-1)),ga=[ya],ha={__name:"AsesoriasFormalizaciones",setup(x){const k=me(),w=pe(),o=b(!1),D=b(!1),A=b(!1),F=b(!1),a=b(!1),q=b(!1),U=b(!1),y=b(""),u=b(!1),C=b(!1),s=b(0),R=b(!1),P=c=>be(c).format("DD/MM/YYYY HH:mm A"),e=()=>{y.value=y.value.replace(/\D/g,"")},$=[{title:"Reserva de nombre"},{title:"Acto constitutivo"},{title:"Final"}],h=()=>{const c={rol:"solicitante",access:3,dni:y.value,type:"asesoria"};k.push({name:"actualizar-persona",query:c})},H=async()=>{try{if(o.value={id:u.value.id,dni:u.value.number_document},R.value=!0,F.value)return A.value=!0;const{data:c}=await z({url:`/my-formalizations20/${u.value.number_document}`,method:"GET"});if(c.length>=1){F.value=c,A.value=!0;return}a.value=!0}catch(c){console.log(c)}finally{R.value=!1}},r=async c=>{try{const{data:i}=await z({url:`find-formalization20/${c}`,method:"GET"});s.value=i.step,A.value=!1,a.value=!0,D.value=i}catch(i){console.log(i)}},j=async()=>{if(F.value=!1,s.value=0,y.value.length<8)return G.warning("El número a buscar es incorrecto");C.value=!0;try{const c=await z({url:`/applicant-new/${y.value}`,method:"GET"});if(c.status==205){const i={rol:"solicitante",access:3,dni:y.value};k.push({name:"registrar-persona",query:i})}else u.value=c}catch(c){console.log("You have an error",c)}finally{C.value=!1}},v=async()=>{const c=await z({url:`/applicant-new/${w.query.dni}`,method:"GET"});y.value=c.number_document,u.value=c};return X(()=>{w.query.dni&&v()}),(c,i)=>{const I=d("a-input-search"),W=d("a-button"),K=d("a-step"),ee=d("a-steps"),Y=d("a-drawer"),J=d("a-tag"),m=d("a-modal");return t(),g("div",null,[_("div",Ye,[a.value?(t(),g("h3",Je,"FORMALIZACIÓN CON RUC 20")):q.value?(t(),g("h3",Ze,"FORMALIZACIÓN CON RUC 10")):U.value?(t(),g("h3",Qe,"ASESORÍA")):(t(),g("h3",Xe,"REGISTRO")),_("div",Ke,[ea,n(I,{value:y.value,"onUpdate:value":i[0]||(i[0]=S=>y.value=S),placeholder:"",loading:C.value,onSearch:j,onInput:e,maxlength:8},null,8,["value","loading"])]),u.value?(t(),g("div",aa,[_("div",null,[ta,_("p",na,[_("span",null,L(u.value.last_name)+" "+L(u.value.middle_name)+", "+L(u.value.name),1),_("span",{class:"ico",onClick:h},[n(O(Se))])])]),_("div",null,[oa,_("span",null,L(u.value.phone?u.value.phone:"-"),1)]),_("div",null,[la,_("span",null,L(u.value.email?u.value.email:"-"),1)])])):p("",!0)]),u.value?(t(),g("div",sa,[n(W,{onClick:H,loading:R.value,class:ae(a.value&&"actived")},{default:l(()=>[N("Crear empresa")]),_:1},8,["loading","class"]),n(W,{onClick:i[1]||(i[1]=S=>q.value=!0),class:ae([q.value&&"actived","mx-1"])},{default:l(()=>[N("RUC persona natural")]),_:1},8,["class"]),n(W,{onClick:i[2]||(i[2]=S=>U.value=!0),class:ae(U.value&&"actived")},{default:l(()=>[N("Asesoría")]),_:1},8,["class"])])):p("",!0),_("pre",null,L(s.value),1),n(Y,{width:"510",title:"Formalización con RUC 20",open:a.value,"onUpdate:open":i[6]||(i[6]=S=>a.value=S),placement:"right"},{default:l(()=>[n(ee,{current:s.value,size:"small",class:"steps"},{default:l(()=>[(t(),g(E,null,V($,S=>n(K,{key:S.title,title:S.title},null,8,["title"])),64))]),_:1},8,["current"]),_("div",ra,[s.value==0?(t(),f(Ce,{key:0,info:o.value,onCloseDraw:i[3]||(i[3]=S=>(a.value=!1,F.value=!1))},null,8,["info"])):p("",!0),s.value==1?(t(),f(Oe,{key:1,info:D.value,onCloseDraw:i[4]||(i[4]=S=>(a.value=!1,F.value=!1))},null,8,["info"])):p("",!0),s.value==2?(t(),f(Pe,{key:2,info:D.value,onCloseDraw:i[5]||(i[5]=S=>(a.value=!1,F.value=!1))},null,8,["info"])):p("",!0),s.value==3?(t(),g("span",ia," Hola ")):p("",!0)])]),_:1},8,["open"]),n(Y,{width:"500",title:"Formalización con RUC 10",open:q.value,"onUpdate:open":i[7]||(i[7]=S=>q.value=S),placement:"right"},{default:l(()=>[n(Ve)]),_:1},8,["open"]),n(Y,{width:"500",title:"Nueva asesoría",open:U.value,"onUpdate:open":i[8]||(i[8]=S=>U.value=S),placement:"right"},{default:l(()=>[n(We)]),_:1},8,["open"]),n(m,{open:A.value,"onUpdate:open":i[10]||(i[10]=S=>A.value=S),title:"Pendientes",closable:!0,cancelText:"Cerrar",footer:null,maskClosable:!1,width:"380px"},{default:l(()=>[(t(!0),g(E,null,V(F.value,(S,T)=>(t(),g("div",{key:T,class:"request-pendient",onClick:le=>r(S.id)},[S.step==0?(t(),g("div",da,[ca,N(),n(J,{color:"error"},{default:l(()=>[N("Reserva de nombre")]),_:1})])):p("",!0),S.step==1?(t(),g("div",ma,[pa,N(),n(J,{color:"warning"},{default:l(()=>[N("Acto constitutivo")]),_:1})])):p("",!0),S.step==2?(t(),g("div",_a,[va,N(),n(J,{color:"success"},{default:l(()=>[N("Formalizar")]),_:1})])):p("",!0),_("div",null,[ba,N(),_("strong",null,L(S.code_sid_sunarp),1)]),_("div",null,[fa,_("span",null,L(P(S.updated_at)),1)])],8,ua))),128)),_("div",{class:"request-pendient request-border",onClick:i[9]||(i[9]=S=>(a.value=!0,A.value=!1,s.value=0))},ga)]),_:1},8,["open"])])}}},qa=B(ha,[["__scopeId","data-v-cbb4530b"]]);export{qa as default};
